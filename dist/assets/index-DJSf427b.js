function k1(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var x1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ho(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bE={exports:{}},ah={},AE={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ku=Symbol.for("react.element"),N1=Symbol.for("react.portal"),D1=Symbol.for("react.fragment"),j1=Symbol.for("react.strict_mode"),F1=Symbol.for("react.profiler"),L1=Symbol.for("react.provider"),M1=Symbol.for("react.context"),$1=Symbol.for("react.forward_ref"),V1=Symbol.for("react.suspense"),U1=Symbol.for("react.memo"),H1=Symbol.for("react.lazy"),yy=Symbol.iterator;function B1(t){return t===null||typeof t!="object"?null:(t=yy&&t[yy]||t["@@iterator"],typeof t=="function"?t:null)}var OE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},CE=Object.assign,kE={};function fo(t,e,n){this.props=t,this.context=e,this.refs=kE,this.updater=n||OE}fo.prototype.isReactComponent={};fo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};fo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function xE(){}xE.prototype=fo.prototype;function _m(t,e,n){this.props=t,this.context=e,this.refs=kE,this.updater=n||OE}var wm=_m.prototype=new xE;wm.constructor=_m;CE(wm,fo.prototype);wm.isPureReactComponent=!0;var _y=Array.isArray,NE=Object.prototype.hasOwnProperty,Em={current:null},DE={key:!0,ref:!0,__self:!0,__source:!0};function jE(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)NE.call(e,r)&&!DE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ku,type:t,key:s,ref:o,props:i,_owner:Em.current}}function z1(t,e){return{$$typeof:ku,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Sm(t){return typeof t=="object"&&t!==null&&t.$$typeof===ku}function W1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var wy=/\/+/g;function hf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?W1(""+t.key):e.toString(36)}function Vl(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ku:case N1:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+hf(o,0):r,_y(i)?(n="",t!=null&&(n=t.replace(wy,"$&/")+"/"),Vl(i,e,n,"",function(c){return c})):i!=null&&(Sm(i)&&(i=z1(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(wy,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",_y(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+hf(s,a);o+=Vl(s,e,n,u,i)}else if(u=B1(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+hf(s,a++),o+=Vl(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function hl(t,e,n){if(t==null)return t;var r=[],i=0;return Vl(t,r,"","",function(s){return e.call(n,s,i++)}),r}function q1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Bt={current:null},Ul={transition:null},K1={ReactCurrentDispatcher:Bt,ReactCurrentBatchConfig:Ul,ReactCurrentOwner:Em};function FE(){throw Error("act(...) is not supported in production builds of React.")}ce.Children={map:hl,forEach:function(t,e,n){hl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return hl(t,function(){e++}),e},toArray:function(t){return hl(t,function(e){return e})||[]},only:function(t){if(!Sm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ce.Component=fo;ce.Fragment=D1;ce.Profiler=F1;ce.PureComponent=_m;ce.StrictMode=j1;ce.Suspense=V1;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K1;ce.act=FE;ce.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=CE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Em.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)NE.call(e,u)&&!DE.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ku,type:t.type,key:i,ref:s,props:r,_owner:o}};ce.createContext=function(t){return t={$$typeof:M1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:L1,_context:t},t.Consumer=t};ce.createElement=jE;ce.createFactory=function(t){var e=jE.bind(null,t);return e.type=t,e};ce.createRef=function(){return{current:null}};ce.forwardRef=function(t){return{$$typeof:$1,render:t}};ce.isValidElement=Sm;ce.lazy=function(t){return{$$typeof:H1,_payload:{_status:-1,_result:t},_init:q1}};ce.memo=function(t,e){return{$$typeof:U1,type:t,compare:e===void 0?null:e}};ce.startTransition=function(t){var e=Ul.transition;Ul.transition={};try{t()}finally{Ul.transition=e}};ce.unstable_act=FE;ce.useCallback=function(t,e){return Bt.current.useCallback(t,e)};ce.useContext=function(t){return Bt.current.useContext(t)};ce.useDebugValue=function(){};ce.useDeferredValue=function(t){return Bt.current.useDeferredValue(t)};ce.useEffect=function(t,e){return Bt.current.useEffect(t,e)};ce.useId=function(){return Bt.current.useId()};ce.useImperativeHandle=function(t,e,n){return Bt.current.useImperativeHandle(t,e,n)};ce.useInsertionEffect=function(t,e){return Bt.current.useInsertionEffect(t,e)};ce.useLayoutEffect=function(t,e){return Bt.current.useLayoutEffect(t,e)};ce.useMemo=function(t,e){return Bt.current.useMemo(t,e)};ce.useReducer=function(t,e,n){return Bt.current.useReducer(t,e,n)};ce.useRef=function(t){return Bt.current.useRef(t)};ce.useState=function(t){return Bt.current.useState(t)};ce.useSyncExternalStore=function(t,e,n){return Bt.current.useSyncExternalStore(t,e,n)};ce.useTransition=function(){return Bt.current.useTransition()};ce.version="18.3.1";AE.exports=ce;var Q=AE.exports;const LE=ho(Q),Q1=k1({__proto__:null,default:LE},[Q]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G1=Q,Y1=Symbol.for("react.element"),J1=Symbol.for("react.fragment"),X1=Object.prototype.hasOwnProperty,Z1=G1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,eA={key:!0,ref:!0,__self:!0,__source:!0};function ME(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)X1.call(e,r)&&!eA.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Y1,type:t,key:s,ref:o,props:i,_owner:Z1.current}}ah.Fragment=J1;ah.jsx=ME;ah.jsxs=ME;bE.exports=ah;var V=bE.exports,md={},$E={exports:{}},vn={},VE={exports:{}},UE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,G){var te=B.length;B.push(G);e:for(;0<te;){var re=te-1>>>1,le=B[re];if(0<i(le,G))B[re]=G,B[te]=le,te=re;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var G=B[0],te=B.pop();if(te!==G){B[0]=te;e:for(var re=0,le=B.length,Se=le>>>1;re<Se;){var Ze=2*(re+1)-1,Wt=B[Ze],sn=Ze+1,jt=B[sn];if(0>i(Wt,te))sn<le&&0>i(jt,Wt)?(B[re]=jt,B[sn]=te,re=sn):(B[re]=Wt,B[Ze]=te,re=Ze);else if(sn<le&&0>i(jt,te))B[re]=jt,B[sn]=te,re=sn;else break e}}return G}function i(B,G){var te=B.sortIndex-G.sortIndex;return te!==0?te:B.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],h=1,f=null,p=3,g=!1,_=!1,E=!1,R=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(B){for(var G=n(c);G!==null;){if(G.callback===null)r(c);else if(G.startTime<=B)r(c),G.sortIndex=G.expirationTime,e(u,G);else break;G=n(c)}}function C(B){if(E=!1,P(B),!_)if(n(u)!==null)_=!0,st(x);else{var G=n(c);G!==null&&ve(C,G.startTime-B)}}function x(B,G){_=!1,E&&(E=!1,y(v),v=-1),g=!0;var te=p;try{for(P(G),f=n(u);f!==null&&(!(f.expirationTime>G)||B&&!b());){var re=f.callback;if(typeof re=="function"){f.callback=null,p=f.priorityLevel;var le=re(f.expirationTime<=G);G=t.unstable_now(),typeof le=="function"?f.callback=le:f===n(u)&&r(u),P(G)}else r(u);f=n(u)}if(f!==null)var Se=!0;else{var Ze=n(c);Ze!==null&&ve(C,Ze.startTime-G),Se=!1}return Se}finally{f=null,p=te,g=!1}}var j=!1,A=null,v=-1,S=5,T=-1;function b(){return!(t.unstable_now()-T<S)}function k(){if(A!==null){var B=t.unstable_now();T=B;var G=!0;try{G=A(!0,B)}finally{G?O():(j=!1,A=null)}}else j=!1}var O;if(typeof w=="function")O=function(){w(k)};else if(typeof MessageChannel<"u"){var Pe=new MessageChannel,ue=Pe.port2;Pe.port1.onmessage=k,O=function(){ue.postMessage(null)}}else O=function(){R(k,0)};function st(B){A=B,j||(j=!0,O())}function ve(B,G){v=R(function(){B(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){_||g||(_=!0,st(x))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(B){switch(p){case 1:case 2:case 3:var G=3;break;default:G=p}var te=p;p=G;try{return B()}finally{p=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,G){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var te=p;p=B;try{return G()}finally{p=te}},t.unstable_scheduleCallback=function(B,G,te){var re=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?re+te:re):te=re,B){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=te+le,B={id:h++,callback:G,priorityLevel:B,startTime:te,expirationTime:le,sortIndex:-1},te>re?(B.sortIndex=te,e(c,B),n(u)===null&&B===n(c)&&(E?(y(v),v=-1):E=!0,ve(C,te-re))):(B.sortIndex=le,e(u,B),_||g||(_=!0,st(x))),B},t.unstable_shouldYield=b,t.unstable_wrapCallback=function(B){var G=p;return function(){var te=p;p=G;try{return B.apply(this,arguments)}finally{p=te}}}})(UE);VE.exports=UE;var tA=VE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nA=Q,mn=tA;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var HE=new Set,Oa={};function is(t,e){qs(t,e),qs(t+"Capture",e)}function qs(t,e){for(Oa[t]=e,t=0;t<e.length;t++)HE.add(e[t])}var yr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gd=Object.prototype.hasOwnProperty,rA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ey={},Sy={};function iA(t){return gd.call(Sy,t)?!0:gd.call(Ey,t)?!1:rA.test(t)?Sy[t]=!0:(Ey[t]=!0,!1)}function sA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function oA(t,e,n,r){if(e===null||typeof e>"u"||sA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function zt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var St={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){St[t]=new zt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];St[e]=new zt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){St[t]=new zt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){St[t]=new zt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){St[t]=new zt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){St[t]=new zt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){St[t]=new zt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){St[t]=new zt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){St[t]=new zt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Tm=/[\-:]([a-z])/g;function Im(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Tm,Im);St[e]=new zt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Tm,Im);St[e]=new zt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Tm,Im);St[e]=new zt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){St[t]=new zt(t,1,!1,t.toLowerCase(),null,!1,!1)});St.xlinkHref=new zt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){St[t]=new zt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Rm(t,e,n,r){var i=St.hasOwnProperty(e)?St[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(oA(e,n,i,r)&&(n=null),r||i===null?iA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Pr=nA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fl=Symbol.for("react.element"),gs=Symbol.for("react.portal"),vs=Symbol.for("react.fragment"),Pm=Symbol.for("react.strict_mode"),vd=Symbol.for("react.profiler"),BE=Symbol.for("react.provider"),zE=Symbol.for("react.context"),bm=Symbol.for("react.forward_ref"),yd=Symbol.for("react.suspense"),_d=Symbol.for("react.suspense_list"),Am=Symbol.for("react.memo"),jr=Symbol.for("react.lazy"),WE=Symbol.for("react.offscreen"),Ty=Symbol.iterator;function Vo(t){return t===null||typeof t!="object"?null:(t=Ty&&t[Ty]||t["@@iterator"],typeof t=="function"?t:null)}var Ue=Object.assign,ff;function na(t){if(ff===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ff=e&&e[1]||""}return`
`+ff+t}var df=!1;function pf(t,e){if(!t||df)return"";df=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{df=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?na(t):""}function aA(t){switch(t.tag){case 5:return na(t.type);case 16:return na("Lazy");case 13:return na("Suspense");case 19:return na("SuspenseList");case 0:case 2:case 15:return t=pf(t.type,!1),t;case 11:return t=pf(t.type.render,!1),t;case 1:return t=pf(t.type,!0),t;default:return""}}function wd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case vs:return"Fragment";case gs:return"Portal";case vd:return"Profiler";case Pm:return"StrictMode";case yd:return"Suspense";case _d:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case zE:return(t.displayName||"Context")+".Consumer";case BE:return(t._context.displayName||"Context")+".Provider";case bm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Am:return e=t.displayName||null,e!==null?e:wd(t.type)||"Memo";case jr:e=t._payload,t=t._init;try{return wd(t(e))}catch{}}return null}function uA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wd(e);case 8:return e===Pm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ui(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function lA(t){var e=qE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function dl(t){t._valueTracker||(t._valueTracker=lA(t))}function KE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=qE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function lc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ed(t,e){var n=e.checked;return Ue({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Iy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ui(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function QE(t,e){e=e.checked,e!=null&&Rm(t,"checked",e,!1)}function Sd(t,e){QE(t,e);var n=ui(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Td(t,e.type,n):e.hasOwnProperty("defaultValue")&&Td(t,e.type,ui(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ry(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Td(t,e,n){(e!=="number"||lc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ra=Array.isArray;function Ds(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ui(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Id(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return Ue({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Py(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(ra(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ui(n)}}function GE(t,e){var n=ui(e.value),r=ui(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function by(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function YE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?YE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var pl,JE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(pl=pl||document.createElement("div"),pl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=pl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ca(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var da={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cA=["Webkit","ms","Moz","O"];Object.keys(da).forEach(function(t){cA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),da[e]=da[t]})});function XE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||da.hasOwnProperty(t)&&da[t]?(""+e).trim():e+"px"}function ZE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=XE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var hA=Ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pd(t,e){if(e){if(hA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function bd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ad=null;function Om(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Od=null,js=null,Fs=null;function Ay(t){if(t=Du(t)){if(typeof Od!="function")throw Error(H(280));var e=t.stateNode;e&&(e=fh(e),Od(t.stateNode,t.type,e))}}function eS(t){js?Fs?Fs.push(t):Fs=[t]:js=t}function tS(){if(js){var t=js,e=Fs;if(Fs=js=null,Ay(t),e)for(t=0;t<e.length;t++)Ay(e[t])}}function nS(t,e){return t(e)}function rS(){}var mf=!1;function iS(t,e,n){if(mf)return t(e,n);mf=!0;try{return nS(t,e,n)}finally{mf=!1,(js!==null||Fs!==null)&&(rS(),tS())}}function ka(t,e){var n=t.stateNode;if(n===null)return null;var r=fh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var Cd=!1;if(yr)try{var Uo={};Object.defineProperty(Uo,"passive",{get:function(){Cd=!0}}),window.addEventListener("test",Uo,Uo),window.removeEventListener("test",Uo,Uo)}catch{Cd=!1}function fA(t,e,n,r,i,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var pa=!1,cc=null,hc=!1,kd=null,dA={onError:function(t){pa=!0,cc=t}};function pA(t,e,n,r,i,s,o,a,u){pa=!1,cc=null,fA.apply(dA,arguments)}function mA(t,e,n,r,i,s,o,a,u){if(pA.apply(this,arguments),pa){if(pa){var c=cc;pa=!1,cc=null}else throw Error(H(198));hc||(hc=!0,kd=c)}}function ss(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function sS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Oy(t){if(ss(t)!==t)throw Error(H(188))}function gA(t){var e=t.alternate;if(!e){if(e=ss(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Oy(i),t;if(s===r)return Oy(i),e;s=s.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function oS(t){return t=gA(t),t!==null?aS(t):null}function aS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=aS(t);if(e!==null)return e;t=t.sibling}return null}var uS=mn.unstable_scheduleCallback,Cy=mn.unstable_cancelCallback,vA=mn.unstable_shouldYield,yA=mn.unstable_requestPaint,Ye=mn.unstable_now,_A=mn.unstable_getCurrentPriorityLevel,Cm=mn.unstable_ImmediatePriority,lS=mn.unstable_UserBlockingPriority,fc=mn.unstable_NormalPriority,wA=mn.unstable_LowPriority,cS=mn.unstable_IdlePriority,uh=null,Gn=null;function EA(t){if(Gn&&typeof Gn.onCommitFiberRoot=="function")try{Gn.onCommitFiberRoot(uh,t,void 0,(t.current.flags&128)===128)}catch{}}var Fn=Math.clz32?Math.clz32:IA,SA=Math.log,TA=Math.LN2;function IA(t){return t>>>=0,t===0?32:31-(SA(t)/TA|0)|0}var ml=64,gl=4194304;function ia(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function dc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ia(a):(s&=o,s!==0&&(r=ia(s)))}else o=n&~i,o!==0?r=ia(o):s!==0&&(r=ia(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Fn(e),i=1<<n,r|=t[n],e&=~i;return r}function RA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function PA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Fn(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=RA(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function xd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function hS(){var t=ml;return ml<<=1,!(ml&4194240)&&(ml=64),t}function gf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function xu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Fn(e),t[e]=n}function bA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Fn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function km(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Fn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Re=0;function fS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var dS,xm,pS,mS,gS,Nd=!1,vl=[],Qr=null,Gr=null,Yr=null,xa=new Map,Na=new Map,Lr=[],AA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ky(t,e){switch(t){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Gr=null;break;case"mouseover":case"mouseout":Yr=null;break;case"pointerover":case"pointerout":xa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Na.delete(e.pointerId)}}function Ho(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Du(e),e!==null&&xm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function OA(t,e,n,r,i){switch(e){case"focusin":return Qr=Ho(Qr,t,e,n,r,i),!0;case"dragenter":return Gr=Ho(Gr,t,e,n,r,i),!0;case"mouseover":return Yr=Ho(Yr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return xa.set(s,Ho(xa.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Na.set(s,Ho(Na.get(s)||null,t,e,n,r,i)),!0}return!1}function vS(t){var e=Ni(t.target);if(e!==null){var n=ss(e);if(n!==null){if(e=n.tag,e===13){if(e=sS(n),e!==null){t.blockedOn=e,gS(t.priority,function(){pS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Dd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ad=r,n.target.dispatchEvent(r),Ad=null}else return e=Du(n),e!==null&&xm(e),t.blockedOn=n,!1;e.shift()}return!0}function xy(t,e,n){Hl(t)&&n.delete(e)}function CA(){Nd=!1,Qr!==null&&Hl(Qr)&&(Qr=null),Gr!==null&&Hl(Gr)&&(Gr=null),Yr!==null&&Hl(Yr)&&(Yr=null),xa.forEach(xy),Na.forEach(xy)}function Bo(t,e){t.blockedOn===e&&(t.blockedOn=null,Nd||(Nd=!0,mn.unstable_scheduleCallback(mn.unstable_NormalPriority,CA)))}function Da(t){function e(i){return Bo(i,t)}if(0<vl.length){Bo(vl[0],t);for(var n=1;n<vl.length;n++){var r=vl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Qr!==null&&Bo(Qr,t),Gr!==null&&Bo(Gr,t),Yr!==null&&Bo(Yr,t),xa.forEach(e),Na.forEach(e),n=0;n<Lr.length;n++)r=Lr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Lr.length&&(n=Lr[0],n.blockedOn===null);)vS(n),n.blockedOn===null&&Lr.shift()}var Ls=Pr.ReactCurrentBatchConfig,pc=!0;function kA(t,e,n,r){var i=Re,s=Ls.transition;Ls.transition=null;try{Re=1,Nm(t,e,n,r)}finally{Re=i,Ls.transition=s}}function xA(t,e,n,r){var i=Re,s=Ls.transition;Ls.transition=null;try{Re=4,Nm(t,e,n,r)}finally{Re=i,Ls.transition=s}}function Nm(t,e,n,r){if(pc){var i=Dd(t,e,n,r);if(i===null)Pf(t,e,r,mc,n),ky(t,r);else if(OA(i,t,e,n,r))r.stopPropagation();else if(ky(t,r),e&4&&-1<AA.indexOf(t)){for(;i!==null;){var s=Du(i);if(s!==null&&dS(s),s=Dd(t,e,n,r),s===null&&Pf(t,e,r,mc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Pf(t,e,r,null,n)}}var mc=null;function Dd(t,e,n,r){if(mc=null,t=Om(r),t=Ni(t),t!==null)if(e=ss(t),e===null)t=null;else if(n=e.tag,n===13){if(t=sS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return mc=t,null}function yS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_A()){case Cm:return 1;case lS:return 4;case fc:case wA:return 16;case cS:return 536870912;default:return 16}default:return 16}}var Hr=null,Dm=null,Bl=null;function _S(){if(Bl)return Bl;var t,e=Dm,n=e.length,r,i="value"in Hr?Hr.value:Hr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Bl=i.slice(t,1<r?1-r:void 0)}function zl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function yl(){return!0}function Ny(){return!1}function yn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?yl:Ny,this.isPropagationStopped=Ny,this}return Ue(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yl)},persist:function(){},isPersistent:yl}),e}var po={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jm=yn(po),Nu=Ue({},po,{view:0,detail:0}),NA=yn(Nu),vf,yf,zo,lh=Ue({},Nu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zo&&(zo&&t.type==="mousemove"?(vf=t.screenX-zo.screenX,yf=t.screenY-zo.screenY):yf=vf=0,zo=t),vf)},movementY:function(t){return"movementY"in t?t.movementY:yf}}),Dy=yn(lh),DA=Ue({},lh,{dataTransfer:0}),jA=yn(DA),FA=Ue({},Nu,{relatedTarget:0}),_f=yn(FA),LA=Ue({},po,{animationName:0,elapsedTime:0,pseudoElement:0}),MA=yn(LA),$A=Ue({},po,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),VA=yn($A),UA=Ue({},po,{data:0}),jy=yn(UA),HA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=zA[t])?!!e[t]:!1}function Fm(){return WA}var qA=Ue({},Nu,{key:function(t){if(t.key){var e=HA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=zl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?BA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fm,charCode:function(t){return t.type==="keypress"?zl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),KA=yn(qA),QA=Ue({},lh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fy=yn(QA),GA=Ue({},Nu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fm}),YA=yn(GA),JA=Ue({},po,{propertyName:0,elapsedTime:0,pseudoElement:0}),XA=yn(JA),ZA=Ue({},lh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),eO=yn(ZA),tO=[9,13,27,32],Lm=yr&&"CompositionEvent"in window,ma=null;yr&&"documentMode"in document&&(ma=document.documentMode);var nO=yr&&"TextEvent"in window&&!ma,wS=yr&&(!Lm||ma&&8<ma&&11>=ma),Ly=" ",My=!1;function ES(t,e){switch(t){case"keyup":return tO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function SS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ys=!1;function rO(t,e){switch(t){case"compositionend":return SS(e);case"keypress":return e.which!==32?null:(My=!0,Ly);case"textInput":return t=e.data,t===Ly&&My?null:t;default:return null}}function iO(t,e){if(ys)return t==="compositionend"||!Lm&&ES(t,e)?(t=_S(),Bl=Dm=Hr=null,ys=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return wS&&e.locale!=="ko"?null:e.data;default:return null}}var sO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $y(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!sO[t.type]:e==="textarea"}function TS(t,e,n,r){eS(r),e=gc(e,"onChange"),0<e.length&&(n=new jm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ga=null,ja=null;function oO(t){DS(t,0)}function ch(t){var e=Es(t);if(KE(e))return t}function aO(t,e){if(t==="change")return e}var IS=!1;if(yr){var wf;if(yr){var Ef="oninput"in document;if(!Ef){var Vy=document.createElement("div");Vy.setAttribute("oninput","return;"),Ef=typeof Vy.oninput=="function"}wf=Ef}else wf=!1;IS=wf&&(!document.documentMode||9<document.documentMode)}function Uy(){ga&&(ga.detachEvent("onpropertychange",RS),ja=ga=null)}function RS(t){if(t.propertyName==="value"&&ch(ja)){var e=[];TS(e,ja,t,Om(t)),iS(oO,e)}}function uO(t,e,n){t==="focusin"?(Uy(),ga=e,ja=n,ga.attachEvent("onpropertychange",RS)):t==="focusout"&&Uy()}function lO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ch(ja)}function cO(t,e){if(t==="click")return ch(e)}function hO(t,e){if(t==="input"||t==="change")return ch(e)}function fO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Vn=typeof Object.is=="function"?Object.is:fO;function Fa(t,e){if(Vn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!gd.call(e,i)||!Vn(t[i],e[i]))return!1}return!0}function Hy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function By(t,e){var n=Hy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Hy(n)}}function PS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?PS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function bS(){for(var t=window,e=lc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=lc(t.document)}return e}function Mm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function dO(t){var e=bS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&PS(n.ownerDocument.documentElement,n)){if(r!==null&&Mm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=By(n,s);var o=By(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var pO=yr&&"documentMode"in document&&11>=document.documentMode,_s=null,jd=null,va=null,Fd=!1;function zy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fd||_s==null||_s!==lc(r)||(r=_s,"selectionStart"in r&&Mm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),va&&Fa(va,r)||(va=r,r=gc(jd,"onSelect"),0<r.length&&(e=new jm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=_s)))}function _l(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ws={animationend:_l("Animation","AnimationEnd"),animationiteration:_l("Animation","AnimationIteration"),animationstart:_l("Animation","AnimationStart"),transitionend:_l("Transition","TransitionEnd")},Sf={},AS={};yr&&(AS=document.createElement("div").style,"AnimationEvent"in window||(delete ws.animationend.animation,delete ws.animationiteration.animation,delete ws.animationstart.animation),"TransitionEvent"in window||delete ws.transitionend.transition);function hh(t){if(Sf[t])return Sf[t];if(!ws[t])return t;var e=ws[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in AS)return Sf[t]=e[n];return t}var OS=hh("animationend"),CS=hh("animationiteration"),kS=hh("animationstart"),xS=hh("transitionend"),NS=new Map,Wy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pi(t,e){NS.set(t,e),is(e,[t])}for(var Tf=0;Tf<Wy.length;Tf++){var If=Wy[Tf],mO=If.toLowerCase(),gO=If[0].toUpperCase()+If.slice(1);pi(mO,"on"+gO)}pi(OS,"onAnimationEnd");pi(CS,"onAnimationIteration");pi(kS,"onAnimationStart");pi("dblclick","onDoubleClick");pi("focusin","onFocus");pi("focusout","onBlur");pi(xS,"onTransitionEnd");qs("onMouseEnter",["mouseout","mouseover"]);qs("onMouseLeave",["mouseout","mouseover"]);qs("onPointerEnter",["pointerout","pointerover"]);qs("onPointerLeave",["pointerout","pointerover"]);is("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));is("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));is("onBeforeInput",["compositionend","keypress","textInput","paste"]);is("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));is("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));is("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vO=new Set("cancel close invalid load scroll toggle".split(" ").concat(sa));function qy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,mA(r,e,void 0,t),t.currentTarget=null}function DS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;qy(i,a,c),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;qy(i,a,c),s=u}}}if(hc)throw t=kd,hc=!1,kd=null,t}function je(t,e){var n=e[Ud];n===void 0&&(n=e[Ud]=new Set);var r=t+"__bubble";n.has(r)||(jS(e,t,2,!1),n.add(r))}function Rf(t,e,n){var r=0;e&&(r|=4),jS(n,t,r,e)}var wl="_reactListening"+Math.random().toString(36).slice(2);function La(t){if(!t[wl]){t[wl]=!0,HE.forEach(function(n){n!=="selectionchange"&&(vO.has(n)||Rf(n,!1,t),Rf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[wl]||(e[wl]=!0,Rf("selectionchange",!1,e))}}function jS(t,e,n,r){switch(yS(e)){case 1:var i=kA;break;case 4:i=xA;break;default:i=Nm}n=i.bind(null,e,n,t),i=void 0,!Cd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Pf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ni(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}iS(function(){var c=s,h=Om(n),f=[];e:{var p=NS.get(t);if(p!==void 0){var g=jm,_=t;switch(t){case"keypress":if(zl(n)===0)break e;case"keydown":case"keyup":g=KA;break;case"focusin":_="focus",g=_f;break;case"focusout":_="blur",g=_f;break;case"beforeblur":case"afterblur":g=_f;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Dy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=jA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=YA;break;case OS:case CS:case kS:g=MA;break;case xS:g=XA;break;case"scroll":g=NA;break;case"wheel":g=eO;break;case"copy":case"cut":case"paste":g=VA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Fy}var E=(e&4)!==0,R=!E&&t==="scroll",y=E?p!==null?p+"Capture":null:p;E=[];for(var w=c,P;w!==null;){P=w;var C=P.stateNode;if(P.tag===5&&C!==null&&(P=C,y!==null&&(C=ka(w,y),C!=null&&E.push(Ma(w,C,P)))),R)break;w=w.return}0<E.length&&(p=new g(p,_,null,n,h),f.push({event:p,listeners:E}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==Ad&&(_=n.relatedTarget||n.fromElement)&&(Ni(_)||_[_r]))break e;if((g||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,g?(_=n.relatedTarget||n.toElement,g=c,_=_?Ni(_):null,_!==null&&(R=ss(_),_!==R||_.tag!==5&&_.tag!==6)&&(_=null)):(g=null,_=c),g!==_)){if(E=Dy,C="onMouseLeave",y="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(E=Fy,C="onPointerLeave",y="onPointerEnter",w="pointer"),R=g==null?p:Es(g),P=_==null?p:Es(_),p=new E(C,w+"leave",g,n,h),p.target=R,p.relatedTarget=P,C=null,Ni(h)===c&&(E=new E(y,w+"enter",_,n,h),E.target=P,E.relatedTarget=R,C=E),R=C,g&&_)t:{for(E=g,y=_,w=0,P=E;P;P=fs(P))w++;for(P=0,C=y;C;C=fs(C))P++;for(;0<w-P;)E=fs(E),w--;for(;0<P-w;)y=fs(y),P--;for(;w--;){if(E===y||y!==null&&E===y.alternate)break t;E=fs(E),y=fs(y)}E=null}else E=null;g!==null&&Ky(f,p,g,E,!1),_!==null&&R!==null&&Ky(f,R,_,E,!0)}}e:{if(p=c?Es(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var x=aO;else if($y(p))if(IS)x=hO;else{x=lO;var j=uO}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(x=cO);if(x&&(x=x(t,c))){TS(f,x,n,h);break e}j&&j(t,p,c),t==="focusout"&&(j=p._wrapperState)&&j.controlled&&p.type==="number"&&Td(p,"number",p.value)}switch(j=c?Es(c):window,t){case"focusin":($y(j)||j.contentEditable==="true")&&(_s=j,jd=c,va=null);break;case"focusout":va=jd=_s=null;break;case"mousedown":Fd=!0;break;case"contextmenu":case"mouseup":case"dragend":Fd=!1,zy(f,n,h);break;case"selectionchange":if(pO)break;case"keydown":case"keyup":zy(f,n,h)}var A;if(Lm)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else ys?ES(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(wS&&n.locale!=="ko"&&(ys||v!=="onCompositionStart"?v==="onCompositionEnd"&&ys&&(A=_S()):(Hr=h,Dm="value"in Hr?Hr.value:Hr.textContent,ys=!0)),j=gc(c,v),0<j.length&&(v=new jy(v,t,null,n,h),f.push({event:v,listeners:j}),A?v.data=A:(A=SS(n),A!==null&&(v.data=A)))),(A=nO?rO(t,n):iO(t,n))&&(c=gc(c,"onBeforeInput"),0<c.length&&(h=new jy("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=A))}DS(f,e)})}function Ma(t,e,n){return{instance:t,listener:e,currentTarget:n}}function gc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ka(t,n),s!=null&&r.unshift(Ma(t,s,i)),s=ka(t,e),s!=null&&r.push(Ma(t,s,i))),t=t.return}return r}function fs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ky(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=ka(n,s),u!=null&&o.unshift(Ma(n,u,a))):i||(u=ka(n,s),u!=null&&o.push(Ma(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var yO=/\r\n?/g,_O=/\u0000|\uFFFD/g;function Qy(t){return(typeof t=="string"?t:""+t).replace(yO,`
`).replace(_O,"")}function El(t,e,n){if(e=Qy(e),Qy(t)!==e&&n)throw Error(H(425))}function vc(){}var Ld=null,Md=null;function $d(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Vd=typeof setTimeout=="function"?setTimeout:void 0,wO=typeof clearTimeout=="function"?clearTimeout:void 0,Gy=typeof Promise=="function"?Promise:void 0,EO=typeof queueMicrotask=="function"?queueMicrotask:typeof Gy<"u"?function(t){return Gy.resolve(null).then(t).catch(SO)}:Vd;function SO(t){setTimeout(function(){throw t})}function bf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Da(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Da(e)}function Jr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Yy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var mo=Math.random().toString(36).slice(2),qn="__reactFiber$"+mo,$a="__reactProps$"+mo,_r="__reactContainer$"+mo,Ud="__reactEvents$"+mo,TO="__reactListeners$"+mo,IO="__reactHandles$"+mo;function Ni(t){var e=t[qn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[_r]||n[qn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Yy(t);t!==null;){if(n=t[qn])return n;t=Yy(t)}return e}t=n,n=t.parentNode}return null}function Du(t){return t=t[qn]||t[_r],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Es(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function fh(t){return t[$a]||null}var Hd=[],Ss=-1;function mi(t){return{current:t}}function Fe(t){0>Ss||(t.current=Hd[Ss],Hd[Ss]=null,Ss--)}function Ce(t,e){Ss++,Hd[Ss]=t.current,t.current=e}var li={},xt=mi(li),Jt=mi(!1),Wi=li;function Ks(t,e){var n=t.type.contextTypes;if(!n)return li;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Xt(t){return t=t.childContextTypes,t!=null}function yc(){Fe(Jt),Fe(xt)}function Jy(t,e,n){if(xt.current!==li)throw Error(H(168));Ce(xt,e),Ce(Jt,n)}function FS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(H(108,uA(t)||"Unknown",i));return Ue({},n,r)}function _c(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||li,Wi=xt.current,Ce(xt,t),Ce(Jt,Jt.current),!0}function Xy(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=FS(t,e,Wi),r.__reactInternalMemoizedMergedChildContext=t,Fe(Jt),Fe(xt),Ce(xt,t)):Fe(Jt),Ce(Jt,n)}var lr=null,dh=!1,Af=!1;function LS(t){lr===null?lr=[t]:lr.push(t)}function RO(t){dh=!0,LS(t)}function gi(){if(!Af&&lr!==null){Af=!0;var t=0,e=Re;try{var n=lr;for(Re=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}lr=null,dh=!1}catch(i){throw lr!==null&&(lr=lr.slice(t+1)),uS(Cm,gi),i}finally{Re=e,Af=!1}}return null}var Ts=[],Is=0,wc=null,Ec=0,wn=[],En=0,qi=null,hr=1,fr="";function Pi(t,e){Ts[Is++]=Ec,Ts[Is++]=wc,wc=t,Ec=e}function MS(t,e,n){wn[En++]=hr,wn[En++]=fr,wn[En++]=qi,qi=t;var r=hr;t=fr;var i=32-Fn(r)-1;r&=~(1<<i),n+=1;var s=32-Fn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,hr=1<<32-Fn(e)+i|n<<i|r,fr=s+t}else hr=1<<s|n<<i|r,fr=t}function $m(t){t.return!==null&&(Pi(t,1),MS(t,1,0))}function Vm(t){for(;t===wc;)wc=Ts[--Is],Ts[Is]=null,Ec=Ts[--Is],Ts[Is]=null;for(;t===qi;)qi=wn[--En],wn[En]=null,fr=wn[--En],wn[En]=null,hr=wn[--En],wn[En]=null}var dn=null,fn=null,Le=!1,Dn=null;function $S(t,e){var n=Sn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Zy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,dn=t,fn=Jr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,dn=t,fn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=qi!==null?{id:hr,overflow:fr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Sn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,dn=t,fn=null,!0):!1;default:return!1}}function Bd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function zd(t){if(Le){var e=fn;if(e){var n=e;if(!Zy(t,e)){if(Bd(t))throw Error(H(418));e=Jr(n.nextSibling);var r=dn;e&&Zy(t,e)?$S(r,n):(t.flags=t.flags&-4097|2,Le=!1,dn=t)}}else{if(Bd(t))throw Error(H(418));t.flags=t.flags&-4097|2,Le=!1,dn=t}}}function e_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;dn=t}function Sl(t){if(t!==dn)return!1;if(!Le)return e_(t),Le=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!$d(t.type,t.memoizedProps)),e&&(e=fn)){if(Bd(t))throw VS(),Error(H(418));for(;e;)$S(t,e),e=Jr(e.nextSibling)}if(e_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){fn=Jr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}fn=null}}else fn=dn?Jr(t.stateNode.nextSibling):null;return!0}function VS(){for(var t=fn;t;)t=Jr(t.nextSibling)}function Qs(){fn=dn=null,Le=!1}function Um(t){Dn===null?Dn=[t]:Dn.push(t)}var PO=Pr.ReactCurrentBatchConfig;function Wo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function Tl(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function t_(t){var e=t._init;return e(t._payload)}function US(t){function e(y,w){if(t){var P=y.deletions;P===null?(y.deletions=[w],y.flags|=16):P.push(w)}}function n(y,w){if(!t)return null;for(;w!==null;)e(y,w),w=w.sibling;return null}function r(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function i(y,w){return y=ti(y,w),y.index=0,y.sibling=null,y}function s(y,w,P){return y.index=P,t?(P=y.alternate,P!==null?(P=P.index,P<w?(y.flags|=2,w):P):(y.flags|=2,w)):(y.flags|=1048576,w)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,w,P,C){return w===null||w.tag!==6?(w=jf(P,y.mode,C),w.return=y,w):(w=i(w,P),w.return=y,w)}function u(y,w,P,C){var x=P.type;return x===vs?h(y,w,P.props.children,C,P.key):w!==null&&(w.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===jr&&t_(x)===w.type)?(C=i(w,P.props),C.ref=Wo(y,w,P),C.return=y,C):(C=Jl(P.type,P.key,P.props,null,y.mode,C),C.ref=Wo(y,w,P),C.return=y,C)}function c(y,w,P,C){return w===null||w.tag!==4||w.stateNode.containerInfo!==P.containerInfo||w.stateNode.implementation!==P.implementation?(w=Ff(P,y.mode,C),w.return=y,w):(w=i(w,P.children||[]),w.return=y,w)}function h(y,w,P,C,x){return w===null||w.tag!==7?(w=Ui(P,y.mode,C,x),w.return=y,w):(w=i(w,P),w.return=y,w)}function f(y,w,P){if(typeof w=="string"&&w!==""||typeof w=="number")return w=jf(""+w,y.mode,P),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case fl:return P=Jl(w.type,w.key,w.props,null,y.mode,P),P.ref=Wo(y,null,w),P.return=y,P;case gs:return w=Ff(w,y.mode,P),w.return=y,w;case jr:var C=w._init;return f(y,C(w._payload),P)}if(ra(w)||Vo(w))return w=Ui(w,y.mode,P,null),w.return=y,w;Tl(y,w)}return null}function p(y,w,P,C){var x=w!==null?w.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return x!==null?null:a(y,w,""+P,C);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case fl:return P.key===x?u(y,w,P,C):null;case gs:return P.key===x?c(y,w,P,C):null;case jr:return x=P._init,p(y,w,x(P._payload),C)}if(ra(P)||Vo(P))return x!==null?null:h(y,w,P,C,null);Tl(y,P)}return null}function g(y,w,P,C,x){if(typeof C=="string"&&C!==""||typeof C=="number")return y=y.get(P)||null,a(w,y,""+C,x);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case fl:return y=y.get(C.key===null?P:C.key)||null,u(w,y,C,x);case gs:return y=y.get(C.key===null?P:C.key)||null,c(w,y,C,x);case jr:var j=C._init;return g(y,w,P,j(C._payload),x)}if(ra(C)||Vo(C))return y=y.get(P)||null,h(w,y,C,x,null);Tl(w,C)}return null}function _(y,w,P,C){for(var x=null,j=null,A=w,v=w=0,S=null;A!==null&&v<P.length;v++){A.index>v?(S=A,A=null):S=A.sibling;var T=p(y,A,P[v],C);if(T===null){A===null&&(A=S);break}t&&A&&T.alternate===null&&e(y,A),w=s(T,w,v),j===null?x=T:j.sibling=T,j=T,A=S}if(v===P.length)return n(y,A),Le&&Pi(y,v),x;if(A===null){for(;v<P.length;v++)A=f(y,P[v],C),A!==null&&(w=s(A,w,v),j===null?x=A:j.sibling=A,j=A);return Le&&Pi(y,v),x}for(A=r(y,A);v<P.length;v++)S=g(A,y,v,P[v],C),S!==null&&(t&&S.alternate!==null&&A.delete(S.key===null?v:S.key),w=s(S,w,v),j===null?x=S:j.sibling=S,j=S);return t&&A.forEach(function(b){return e(y,b)}),Le&&Pi(y,v),x}function E(y,w,P,C){var x=Vo(P);if(typeof x!="function")throw Error(H(150));if(P=x.call(P),P==null)throw Error(H(151));for(var j=x=null,A=w,v=w=0,S=null,T=P.next();A!==null&&!T.done;v++,T=P.next()){A.index>v?(S=A,A=null):S=A.sibling;var b=p(y,A,T.value,C);if(b===null){A===null&&(A=S);break}t&&A&&b.alternate===null&&e(y,A),w=s(b,w,v),j===null?x=b:j.sibling=b,j=b,A=S}if(T.done)return n(y,A),Le&&Pi(y,v),x;if(A===null){for(;!T.done;v++,T=P.next())T=f(y,T.value,C),T!==null&&(w=s(T,w,v),j===null?x=T:j.sibling=T,j=T);return Le&&Pi(y,v),x}for(A=r(y,A);!T.done;v++,T=P.next())T=g(A,y,v,T.value,C),T!==null&&(t&&T.alternate!==null&&A.delete(T.key===null?v:T.key),w=s(T,w,v),j===null?x=T:j.sibling=T,j=T);return t&&A.forEach(function(k){return e(y,k)}),Le&&Pi(y,v),x}function R(y,w,P,C){if(typeof P=="object"&&P!==null&&P.type===vs&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case fl:e:{for(var x=P.key,j=w;j!==null;){if(j.key===x){if(x=P.type,x===vs){if(j.tag===7){n(y,j.sibling),w=i(j,P.props.children),w.return=y,y=w;break e}}else if(j.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===jr&&t_(x)===j.type){n(y,j.sibling),w=i(j,P.props),w.ref=Wo(y,j,P),w.return=y,y=w;break e}n(y,j);break}else e(y,j);j=j.sibling}P.type===vs?(w=Ui(P.props.children,y.mode,C,P.key),w.return=y,y=w):(C=Jl(P.type,P.key,P.props,null,y.mode,C),C.ref=Wo(y,w,P),C.return=y,y=C)}return o(y);case gs:e:{for(j=P.key;w!==null;){if(w.key===j)if(w.tag===4&&w.stateNode.containerInfo===P.containerInfo&&w.stateNode.implementation===P.implementation){n(y,w.sibling),w=i(w,P.children||[]),w.return=y,y=w;break e}else{n(y,w);break}else e(y,w);w=w.sibling}w=Ff(P,y.mode,C),w.return=y,y=w}return o(y);case jr:return j=P._init,R(y,w,j(P._payload),C)}if(ra(P))return _(y,w,P,C);if(Vo(P))return E(y,w,P,C);Tl(y,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,w!==null&&w.tag===6?(n(y,w.sibling),w=i(w,P),w.return=y,y=w):(n(y,w),w=jf(P,y.mode,C),w.return=y,y=w),o(y)):n(y,w)}return R}var Gs=US(!0),HS=US(!1),Sc=mi(null),Tc=null,Rs=null,Hm=null;function Bm(){Hm=Rs=Tc=null}function zm(t){var e=Sc.current;Fe(Sc),t._currentValue=e}function Wd(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ms(t,e){Tc=t,Hm=Rs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Qt=!0),t.firstContext=null)}function In(t){var e=t._currentValue;if(Hm!==t)if(t={context:t,memoizedValue:e,next:null},Rs===null){if(Tc===null)throw Error(H(308));Rs=t,Tc.dependencies={lanes:0,firstContext:t}}else Rs=Rs.next=t;return e}var Di=null;function Wm(t){Di===null?Di=[t]:Di.push(t)}function BS(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Wm(e)):(n.next=i.next,i.next=n),e.interleaved=n,wr(t,r)}function wr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Fr=!1;function qm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function vr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Xr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ge&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,wr(t,n)}return i=r.interleaved,i===null?(e.next=e,Wm(r)):(e.next=i.next,i.next=e),r.interleaved=e,wr(t,n)}function Wl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,km(t,n)}}function n_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ic(t,e,n,r){var i=t.updateQueue;Fr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=u))}if(s!==null){var f=i.baseState;o=0,h=c=u=null,a=s;do{var p=a.lane,g=a.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,E=a;switch(p=e,g=n,E.tag){case 1:if(_=E.payload,typeof _=="function"){f=_.call(g,f,p);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=E.payload,p=typeof _=="function"?_.call(g,f,p):_,p==null)break e;f=Ue({},f,p);break e;case 2:Fr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=g,u=f):h=h.next=g,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(h===null&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Qi|=o,t.lanes=o,t.memoizedState=f}}function r_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var ju={},Yn=mi(ju),Va=mi(ju),Ua=mi(ju);function ji(t){if(t===ju)throw Error(H(174));return t}function Km(t,e){switch(Ce(Ua,e),Ce(Va,t),Ce(Yn,ju),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Rd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Rd(e,t)}Fe(Yn),Ce(Yn,e)}function Ys(){Fe(Yn),Fe(Va),Fe(Ua)}function WS(t){ji(Ua.current);var e=ji(Yn.current),n=Rd(e,t.type);e!==n&&(Ce(Va,t),Ce(Yn,n))}function Qm(t){Va.current===t&&(Fe(Yn),Fe(Va))}var $e=mi(0);function Rc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Of=[];function Gm(){for(var t=0;t<Of.length;t++)Of[t]._workInProgressVersionPrimary=null;Of.length=0}var ql=Pr.ReactCurrentDispatcher,Cf=Pr.ReactCurrentBatchConfig,Ki=0,Ve=null,ot=null,ft=null,Pc=!1,ya=!1,Ha=0,bO=0;function Pt(){throw Error(H(321))}function Ym(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Vn(t[n],e[n]))return!1;return!0}function Jm(t,e,n,r,i,s){if(Ki=s,Ve=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ql.current=t===null||t.memoizedState===null?kO:xO,t=n(r,i),ya){s=0;do{if(ya=!1,Ha=0,25<=s)throw Error(H(301));s+=1,ft=ot=null,e.updateQueue=null,ql.current=NO,t=n(r,i)}while(ya)}if(ql.current=bc,e=ot!==null&&ot.next!==null,Ki=0,ft=ot=Ve=null,Pc=!1,e)throw Error(H(300));return t}function Xm(){var t=Ha!==0;return Ha=0,t}function zn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?Ve.memoizedState=ft=t:ft=ft.next=t,ft}function Rn(){if(ot===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=ot.next;var e=ft===null?Ve.memoizedState:ft.next;if(e!==null)ft=e,ot=t;else{if(t===null)throw Error(H(310));ot=t,t={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},ft===null?Ve.memoizedState=ft=t:ft=ft.next=t}return ft}function Ba(t,e){return typeof e=="function"?e(t):e}function kf(t){var e=Rn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=ot,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,c=s;do{var h=c.lane;if((Ki&h)===h)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=f,o=r):u=u.next=f,Ve.lanes|=h,Qi|=h}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=a,Vn(r,e.memoizedState)||(Qt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ve.lanes|=s,Qi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function xf(t){var e=Rn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Vn(s,e.memoizedState)||(Qt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function qS(){}function KS(t,e){var n=Ve,r=Rn(),i=e(),s=!Vn(r.memoizedState,i);if(s&&(r.memoizedState=i,Qt=!0),r=r.queue,Zm(YS.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ft!==null&&ft.memoizedState.tag&1){if(n.flags|=2048,za(9,GS.bind(null,n,r,i,e),void 0,null),dt===null)throw Error(H(349));Ki&30||QS(n,e,i)}return i}function QS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function GS(t,e,n,r){e.value=n,e.getSnapshot=r,JS(e)&&XS(t)}function YS(t,e,n){return n(function(){JS(e)&&XS(t)})}function JS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Vn(t,n)}catch{return!0}}function XS(t){var e=wr(t,1);e!==null&&Ln(e,t,1,-1)}function i_(t){var e=zn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:t},e.queue=t,t=t.dispatch=CO.bind(null,Ve,t),[e.memoizedState,t]}function za(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ZS(){return Rn().memoizedState}function Kl(t,e,n,r){var i=zn();Ve.flags|=t,i.memoizedState=za(1|e,n,void 0,r===void 0?null:r)}function ph(t,e,n,r){var i=Rn();r=r===void 0?null:r;var s=void 0;if(ot!==null){var o=ot.memoizedState;if(s=o.destroy,r!==null&&Ym(r,o.deps)){i.memoizedState=za(e,n,s,r);return}}Ve.flags|=t,i.memoizedState=za(1|e,n,s,r)}function s_(t,e){return Kl(8390656,8,t,e)}function Zm(t,e){return ph(2048,8,t,e)}function eT(t,e){return ph(4,2,t,e)}function tT(t,e){return ph(4,4,t,e)}function nT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function rT(t,e,n){return n=n!=null?n.concat([t]):null,ph(4,4,nT.bind(null,e,t),n)}function eg(){}function iT(t,e){var n=Rn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ym(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function sT(t,e){var n=Rn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ym(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function oT(t,e,n){return Ki&21?(Vn(n,e)||(n=hS(),Ve.lanes|=n,Qi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Qt=!0),t.memoizedState=n)}function AO(t,e){var n=Re;Re=n!==0&&4>n?n:4,t(!0);var r=Cf.transition;Cf.transition={};try{t(!1),e()}finally{Re=n,Cf.transition=r}}function aT(){return Rn().memoizedState}function OO(t,e,n){var r=ei(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},uT(t))lT(e,n);else if(n=BS(t,e,n,r),n!==null){var i=Ut();Ln(n,t,r,i),cT(n,e,r)}}function CO(t,e,n){var r=ei(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(uT(t))lT(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Vn(a,o)){var u=e.interleaved;u===null?(i.next=i,Wm(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=BS(t,e,i,r),n!==null&&(i=Ut(),Ln(n,t,r,i),cT(n,e,r))}}function uT(t){var e=t.alternate;return t===Ve||e!==null&&e===Ve}function lT(t,e){ya=Pc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function cT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,km(t,n)}}var bc={readContext:In,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useInsertionEffect:Pt,useLayoutEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useMutableSource:Pt,useSyncExternalStore:Pt,useId:Pt,unstable_isNewReconciler:!1},kO={readContext:In,useCallback:function(t,e){return zn().memoizedState=[t,e===void 0?null:e],t},useContext:In,useEffect:s_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Kl(4194308,4,nT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Kl(4194308,4,t,e)},useInsertionEffect:function(t,e){return Kl(4,2,t,e)},useMemo:function(t,e){var n=zn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=zn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=OO.bind(null,Ve,t),[r.memoizedState,t]},useRef:function(t){var e=zn();return t={current:t},e.memoizedState=t},useState:i_,useDebugValue:eg,useDeferredValue:function(t){return zn().memoizedState=t},useTransition:function(){var t=i_(!1),e=t[0];return t=AO.bind(null,t[1]),zn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ve,i=zn();if(Le){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),dt===null)throw Error(H(349));Ki&30||QS(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,s_(YS.bind(null,r,s,t),[t]),r.flags|=2048,za(9,GS.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=zn(),e=dt.identifierPrefix;if(Le){var n=fr,r=hr;n=(r&~(1<<32-Fn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ha++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=bO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},xO={readContext:In,useCallback:iT,useContext:In,useEffect:Zm,useImperativeHandle:rT,useInsertionEffect:eT,useLayoutEffect:tT,useMemo:sT,useReducer:kf,useRef:ZS,useState:function(){return kf(Ba)},useDebugValue:eg,useDeferredValue:function(t){var e=Rn();return oT(e,ot.memoizedState,t)},useTransition:function(){var t=kf(Ba)[0],e=Rn().memoizedState;return[t,e]},useMutableSource:qS,useSyncExternalStore:KS,useId:aT,unstable_isNewReconciler:!1},NO={readContext:In,useCallback:iT,useContext:In,useEffect:Zm,useImperativeHandle:rT,useInsertionEffect:eT,useLayoutEffect:tT,useMemo:sT,useReducer:xf,useRef:ZS,useState:function(){return xf(Ba)},useDebugValue:eg,useDeferredValue:function(t){var e=Rn();return ot===null?e.memoizedState=t:oT(e,ot.memoizedState,t)},useTransition:function(){var t=xf(Ba)[0],e=Rn().memoizedState;return[t,e]},useMutableSource:qS,useSyncExternalStore:KS,useId:aT,unstable_isNewReconciler:!1};function xn(t,e){if(t&&t.defaultProps){e=Ue({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function qd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ue({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var mh={isMounted:function(t){return(t=t._reactInternals)?ss(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ut(),i=ei(t),s=vr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Xr(t,s,i),e!==null&&(Ln(e,t,i,r),Wl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ut(),i=ei(t),s=vr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Xr(t,s,i),e!==null&&(Ln(e,t,i,r),Wl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ut(),r=ei(t),i=vr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Xr(t,i,r),e!==null&&(Ln(e,t,r,n),Wl(e,t,r))}};function o_(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Fa(n,r)||!Fa(i,s):!0}function hT(t,e,n){var r=!1,i=li,s=e.contextType;return typeof s=="object"&&s!==null?s=In(s):(i=Xt(e)?Wi:xt.current,r=e.contextTypes,s=(r=r!=null)?Ks(t,i):li),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=mh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function a_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&mh.enqueueReplaceState(e,e.state,null)}function Kd(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},qm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=In(s):(s=Xt(e)?Wi:xt.current,i.context=Ks(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(qd(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&mh.enqueueReplaceState(i,i.state,null),Ic(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Js(t,e){try{var n="",r=e;do n+=aA(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Nf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Qd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var DO=typeof WeakMap=="function"?WeakMap:Map;function fT(t,e,n){n=vr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Oc||(Oc=!0,ip=r),Qd(t,e)},n}function dT(t,e,n){n=vr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Qd(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Qd(t,e),typeof r!="function"&&(Zr===null?Zr=new Set([this]):Zr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function u_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new DO;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=QO.bind(null,t,e,n),e.then(t,t))}function l_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function c_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=vr(-1,1),e.tag=2,Xr(n,e,1))),n.lanes|=1),t)}var jO=Pr.ReactCurrentOwner,Qt=!1;function Mt(t,e,n,r){e.child=t===null?HS(e,null,n,r):Gs(e,t.child,n,r)}function h_(t,e,n,r,i){n=n.render;var s=e.ref;return Ms(e,i),r=Jm(t,e,n,r,s,i),n=Xm(),t!==null&&!Qt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Er(t,e,i)):(Le&&n&&$m(e),e.flags|=1,Mt(t,e,r,i),e.child)}function f_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!ug(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,pT(t,e,s,r,i)):(t=Jl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Fa,n(o,r)&&t.ref===e.ref)return Er(t,e,i)}return e.flags|=1,t=ti(s,r),t.ref=e.ref,t.return=e,e.child=t}function pT(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Fa(s,r)&&t.ref===e.ref)if(Qt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Qt=!0);else return e.lanes=t.lanes,Er(t,e,i)}return Gd(t,e,n,r,i)}function mT(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(bs,cn),cn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ce(bs,cn),cn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ce(bs,cn),cn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ce(bs,cn),cn|=r;return Mt(t,e,i,n),e.child}function gT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Gd(t,e,n,r,i){var s=Xt(n)?Wi:xt.current;return s=Ks(e,s),Ms(e,i),n=Jm(t,e,n,r,s,i),r=Xm(),t!==null&&!Qt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Er(t,e,i)):(Le&&r&&$m(e),e.flags|=1,Mt(t,e,n,i),e.child)}function d_(t,e,n,r,i){if(Xt(n)){var s=!0;_c(e)}else s=!1;if(Ms(e,i),e.stateNode===null)Ql(t,e),hT(e,n,r),Kd(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=In(c):(c=Xt(n)?Wi:xt.current,c=Ks(e,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&a_(e,o,r,c),Fr=!1;var p=e.memoizedState;o.state=p,Ic(e,r,o,i),u=e.memoizedState,a!==r||p!==u||Jt.current||Fr?(typeof h=="function"&&(qd(e,n,h,r),u=e.memoizedState),(a=Fr||o_(e,n,a,r,p,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,zS(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:xn(e.type,a),o.props=c,f=e.pendingProps,p=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=In(u):(u=Xt(n)?Wi:xt.current,u=Ks(e,u));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==u)&&a_(e,o,r,u),Fr=!1,p=e.memoizedState,o.state=p,Ic(e,r,o,i);var _=e.memoizedState;a!==f||p!==_||Jt.current||Fr?(typeof g=="function"&&(qd(e,n,g,r),_=e.memoizedState),(c=Fr||o_(e,n,c,r,p,_,u)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Yd(t,e,n,r,s,i)}function Yd(t,e,n,r,i,s){gT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Xy(e,n,!1),Er(t,e,s);r=e.stateNode,jO.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Gs(e,t.child,null,s),e.child=Gs(e,null,a,s)):Mt(t,e,a,s),e.memoizedState=r.state,i&&Xy(e,n,!0),e.child}function vT(t){var e=t.stateNode;e.pendingContext?Jy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Jy(t,e.context,!1),Km(t,e.containerInfo)}function p_(t,e,n,r,i){return Qs(),Um(i),e.flags|=256,Mt(t,e,n,r),e.child}var Jd={dehydrated:null,treeContext:null,retryLane:0};function Xd(t){return{baseLanes:t,cachePool:null,transitions:null}}function yT(t,e,n){var r=e.pendingProps,i=$e.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ce($e,i&1),t===null)return zd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=yh(o,r,0,null),t=Ui(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Xd(n),e.memoizedState=Jd,t):tg(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return FO(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=ti(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ti(a,s):(s=Ui(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Xd(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Jd,r}return s=t.child,t=s.sibling,r=ti(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function tg(t,e){return e=yh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Il(t,e,n,r){return r!==null&&Um(r),Gs(e,t.child,null,n),t=tg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function FO(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Nf(Error(H(422))),Il(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=yh({mode:"visible",children:r.children},i,0,null),s=Ui(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Gs(e,t.child,null,o),e.child.memoizedState=Xd(o),e.memoizedState=Jd,s);if(!(e.mode&1))return Il(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(H(419)),r=Nf(s,r,void 0),Il(t,e,o,r)}if(a=(o&t.childLanes)!==0,Qt||a){if(r=dt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,wr(t,i),Ln(r,t,i,-1))}return ag(),r=Nf(Error(H(421))),Il(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=GO.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,fn=Jr(i.nextSibling),dn=e,Le=!0,Dn=null,t!==null&&(wn[En++]=hr,wn[En++]=fr,wn[En++]=qi,hr=t.id,fr=t.overflow,qi=e),e=tg(e,r.children),e.flags|=4096,e)}function m_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Wd(t.return,e,n)}function Df(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function _T(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Mt(t,e,r.children,n),r=$e.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&m_(t,n,e);else if(t.tag===19)m_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ce($e,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Rc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Df(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Rc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Df(e,!0,n,null,s);break;case"together":Df(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ql(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Er(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Qi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=ti(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ti(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function LO(t,e,n){switch(e.tag){case 3:vT(e),Qs();break;case 5:WS(e);break;case 1:Xt(e.type)&&_c(e);break;case 4:Km(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ce(Sc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ce($e,$e.current&1),e.flags|=128,null):n&e.child.childLanes?yT(t,e,n):(Ce($e,$e.current&1),t=Er(t,e,n),t!==null?t.sibling:null);Ce($e,$e.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return _T(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ce($e,$e.current),r)break;return null;case 22:case 23:return e.lanes=0,mT(t,e,n)}return Er(t,e,n)}var wT,Zd,ET,ST;wT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Zd=function(){};ET=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ji(Yn.current);var s=null;switch(n){case"input":i=Ed(t,i),r=Ed(t,r),s=[];break;case"select":i=Ue({},i,{value:void 0}),r=Ue({},r,{value:void 0}),s=[];break;case"textarea":i=Id(t,i),r=Id(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=vc)}Pd(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Oa.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Oa.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&je("scroll",t),s||a===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};ST=function(t,e,n,r){n!==r&&(e.flags|=4)};function qo(t,e){if(!Le)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function bt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function MO(t,e,n){var r=e.pendingProps;switch(Vm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(e),null;case 1:return Xt(e.type)&&yc(),bt(e),null;case 3:return r=e.stateNode,Ys(),Fe(Jt),Fe(xt),Gm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Sl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Dn!==null&&(ap(Dn),Dn=null))),Zd(t,e),bt(e),null;case 5:Qm(e);var i=ji(Ua.current);if(n=e.type,t!==null&&e.stateNode!=null)ET(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return bt(e),null}if(t=ji(Yn.current),Sl(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[qn]=e,r[$a]=s,t=(e.mode&1)!==0,n){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(i=0;i<sa.length;i++)je(sa[i],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":Iy(r,s),je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},je("invalid",r);break;case"textarea":Py(r,s),je("invalid",r)}Pd(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&El(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&El(r.textContent,a,t),i=["children",""+a]):Oa.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&je("scroll",r)}switch(n){case"input":dl(r),Ry(r,s,!0);break;case"textarea":dl(r),by(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=vc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=YE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[qn]=e,t[$a]=r,wT(t,e,!1,!1),e.stateNode=t;e:{switch(o=bd(n,r),n){case"dialog":je("cancel",t),je("close",t),i=r;break;case"iframe":case"object":case"embed":je("load",t),i=r;break;case"video":case"audio":for(i=0;i<sa.length;i++)je(sa[i],t);i=r;break;case"source":je("error",t),i=r;break;case"img":case"image":case"link":je("error",t),je("load",t),i=r;break;case"details":je("toggle",t),i=r;break;case"input":Iy(t,r),i=Ed(t,r),je("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ue({},r,{value:void 0}),je("invalid",t);break;case"textarea":Py(t,r),i=Id(t,r),je("invalid",t);break;default:i=r}Pd(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?ZE(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&JE(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Ca(t,u):typeof u=="number"&&Ca(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Oa.hasOwnProperty(s)?u!=null&&s==="onScroll"&&je("scroll",t):u!=null&&Rm(t,s,u,o))}switch(n){case"input":dl(t),Ry(t,r,!1);break;case"textarea":dl(t),by(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ui(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ds(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ds(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=vc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return bt(e),null;case 6:if(t&&e.stateNode!=null)ST(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=ji(Ua.current),ji(Yn.current),Sl(e)){if(r=e.stateNode,n=e.memoizedProps,r[qn]=e,(s=r.nodeValue!==n)&&(t=dn,t!==null))switch(t.tag){case 3:El(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&El(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qn]=e,e.stateNode=r}return bt(e),null;case 13:if(Fe($e),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Le&&fn!==null&&e.mode&1&&!(e.flags&128))VS(),Qs(),e.flags|=98560,s=!1;else if(s=Sl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(H(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(H(317));s[qn]=e}else Qs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;bt(e),s=!1}else Dn!==null&&(ap(Dn),Dn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||$e.current&1?ut===0&&(ut=3):ag())),e.updateQueue!==null&&(e.flags|=4),bt(e),null);case 4:return Ys(),Zd(t,e),t===null&&La(e.stateNode.containerInfo),bt(e),null;case 10:return zm(e.type._context),bt(e),null;case 17:return Xt(e.type)&&yc(),bt(e),null;case 19:if(Fe($e),s=e.memoizedState,s===null)return bt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)qo(s,!1);else{if(ut!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Rc(t),o!==null){for(e.flags|=128,qo(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ce($e,$e.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ye()>Xs&&(e.flags|=128,r=!0,qo(s,!1),e.lanes=4194304)}else{if(!r)if(t=Rc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),qo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Le)return bt(e),null}else 2*Ye()-s.renderingStartTime>Xs&&n!==1073741824&&(e.flags|=128,r=!0,qo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ye(),e.sibling=null,n=$e.current,Ce($e,r?n&1|2:n&1),e):(bt(e),null);case 22:case 23:return og(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?cn&1073741824&&(bt(e),e.subtreeFlags&6&&(e.flags|=8192)):bt(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function $O(t,e){switch(Vm(e),e.tag){case 1:return Xt(e.type)&&yc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ys(),Fe(Jt),Fe(xt),Gm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Qm(e),null;case 13:if(Fe($e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));Qs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Fe($e),null;case 4:return Ys(),null;case 10:return zm(e.type._context),null;case 22:case 23:return og(),null;case 24:return null;default:return null}}var Rl=!1,Ct=!1,VO=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Ps(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ze(t,e,r)}else n.current=null}function ep(t,e,n){try{n()}catch(r){ze(t,e,r)}}var g_=!1;function UO(t,e){if(Ld=pc,t=bS(),Mm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,h=0,f=t,p=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===t)break t;if(p===n&&++c===i&&(a=o),p===s&&++h===r&&(u=o),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Md={focusedElem:t,selectionRange:n},pc=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var E=_.memoizedProps,R=_.memoizedState,y=e.stateNode,w=y.getSnapshotBeforeUpdate(e.elementType===e.type?E:xn(e.type,E),R);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var P=e.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(C){ze(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return _=g_,g_=!1,_}function _a(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&ep(e,n,s)}i=i.next}while(i!==r)}}function gh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function tp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function TT(t){var e=t.alternate;e!==null&&(t.alternate=null,TT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qn],delete e[$a],delete e[Ud],delete e[TO],delete e[IO])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function IT(t){return t.tag===5||t.tag===3||t.tag===4}function v_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||IT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function np(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=vc));else if(r!==4&&(t=t.child,t!==null))for(np(t,e,n),t=t.sibling;t!==null;)np(t,e,n),t=t.sibling}function rp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(rp(t,e,n),t=t.sibling;t!==null;)rp(t,e,n),t=t.sibling}var yt=null,Nn=!1;function xr(t,e,n){for(n=n.child;n!==null;)RT(t,e,n),n=n.sibling}function RT(t,e,n){if(Gn&&typeof Gn.onCommitFiberUnmount=="function")try{Gn.onCommitFiberUnmount(uh,n)}catch{}switch(n.tag){case 5:Ct||Ps(n,e);case 6:var r=yt,i=Nn;yt=null,xr(t,e,n),yt=r,Nn=i,yt!==null&&(Nn?(t=yt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):yt.removeChild(n.stateNode));break;case 18:yt!==null&&(Nn?(t=yt,n=n.stateNode,t.nodeType===8?bf(t.parentNode,n):t.nodeType===1&&bf(t,n),Da(t)):bf(yt,n.stateNode));break;case 4:r=yt,i=Nn,yt=n.stateNode.containerInfo,Nn=!0,xr(t,e,n),yt=r,Nn=i;break;case 0:case 11:case 14:case 15:if(!Ct&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&ep(n,e,o),i=i.next}while(i!==r)}xr(t,e,n);break;case 1:if(!Ct&&(Ps(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ze(n,e,a)}xr(t,e,n);break;case 21:xr(t,e,n);break;case 22:n.mode&1?(Ct=(r=Ct)||n.memoizedState!==null,xr(t,e,n),Ct=r):xr(t,e,n);break;default:xr(t,e,n)}}function y_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new VO),e.forEach(function(r){var i=YO.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function kn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:yt=a.stateNode,Nn=!1;break e;case 3:yt=a.stateNode.containerInfo,Nn=!0;break e;case 4:yt=a.stateNode.containerInfo,Nn=!0;break e}a=a.return}if(yt===null)throw Error(H(160));RT(s,o,i),yt=null,Nn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){ze(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)PT(e,t),e=e.sibling}function PT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(kn(e,t),Un(t),r&4){try{_a(3,t,t.return),gh(3,t)}catch(E){ze(t,t.return,E)}try{_a(5,t,t.return)}catch(E){ze(t,t.return,E)}}break;case 1:kn(e,t),Un(t),r&512&&n!==null&&Ps(n,n.return);break;case 5:if(kn(e,t),Un(t),r&512&&n!==null&&Ps(n,n.return),t.flags&32){var i=t.stateNode;try{Ca(i,"")}catch(E){ze(t,t.return,E)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&QE(i,s),bd(a,o);var c=bd(a,s);for(o=0;o<u.length;o+=2){var h=u[o],f=u[o+1];h==="style"?ZE(i,f):h==="dangerouslySetInnerHTML"?JE(i,f):h==="children"?Ca(i,f):Rm(i,h,f,c)}switch(a){case"input":Sd(i,s);break;case"textarea":GE(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Ds(i,!!s.multiple,g,!1):p!==!!s.multiple&&(s.defaultValue!=null?Ds(i,!!s.multiple,s.defaultValue,!0):Ds(i,!!s.multiple,s.multiple?[]:"",!1))}i[$a]=s}catch(E){ze(t,t.return,E)}}break;case 6:if(kn(e,t),Un(t),r&4){if(t.stateNode===null)throw Error(H(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(E){ze(t,t.return,E)}}break;case 3:if(kn(e,t),Un(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Da(e.containerInfo)}catch(E){ze(t,t.return,E)}break;case 4:kn(e,t),Un(t);break;case 13:kn(e,t),Un(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(ig=Ye())),r&4&&y_(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Ct=(c=Ct)||h,kn(e,t),Ct=c):kn(e,t),Un(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(Y=t,h=t.child;h!==null;){for(f=Y=h;Y!==null;){switch(p=Y,g=p.child,p.tag){case 0:case 11:case 14:case 15:_a(4,p,p.return);break;case 1:Ps(p,p.return);var _=p.stateNode;if(typeof _.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(E){ze(r,n,E)}}break;case 5:Ps(p,p.return);break;case 22:if(p.memoizedState!==null){w_(f);continue}}g!==null?(g.return=p,Y=g):w_(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=XE("display",o))}catch(E){ze(t,t.return,E)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(E){ze(t,t.return,E)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:kn(e,t),Un(t),r&4&&y_(t);break;case 21:break;default:kn(e,t),Un(t)}}function Un(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(IT(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ca(i,""),r.flags&=-33);var s=v_(t);rp(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=v_(t);np(t,a,o);break;default:throw Error(H(161))}}catch(u){ze(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function HO(t,e,n){Y=t,bT(t)}function bT(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var i=Y,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Rl;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Ct;a=Rl;var c=Ct;if(Rl=o,(Ct=u)&&!c)for(Y=i;Y!==null;)o=Y,u=o.child,o.tag===22&&o.memoizedState!==null?E_(i):u!==null?(u.return=o,Y=u):E_(i);for(;s!==null;)Y=s,bT(s),s=s.sibling;Y=i,Rl=a,Ct=c}__(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Y=s):__(t)}}function __(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ct||gh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ct)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:xn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&r_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}r_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Da(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Ct||e.flags&512&&tp(e)}catch(p){ze(e,e.return,p)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function w_(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function E_(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{gh(4,e)}catch(u){ze(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){ze(e,i,u)}}var s=e.return;try{tp(e)}catch(u){ze(e,s,u)}break;case 5:var o=e.return;try{tp(e)}catch(u){ze(e,o,u)}}}catch(u){ze(e,e.return,u)}if(e===t){Y=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Y=a;break}Y=e.return}}var BO=Math.ceil,Ac=Pr.ReactCurrentDispatcher,ng=Pr.ReactCurrentOwner,Tn=Pr.ReactCurrentBatchConfig,ge=0,dt=null,nt=null,wt=0,cn=0,bs=mi(0),ut=0,Wa=null,Qi=0,vh=0,rg=0,wa=null,Kt=null,ig=0,Xs=1/0,ur=null,Oc=!1,ip=null,Zr=null,Pl=!1,Br=null,Cc=0,Ea=0,sp=null,Gl=-1,Yl=0;function Ut(){return ge&6?Ye():Gl!==-1?Gl:Gl=Ye()}function ei(t){return t.mode&1?ge&2&&wt!==0?wt&-wt:PO.transition!==null?(Yl===0&&(Yl=hS()),Yl):(t=Re,t!==0||(t=window.event,t=t===void 0?16:yS(t.type)),t):1}function Ln(t,e,n,r){if(50<Ea)throw Ea=0,sp=null,Error(H(185));xu(t,n,r),(!(ge&2)||t!==dt)&&(t===dt&&(!(ge&2)&&(vh|=n),ut===4&&Mr(t,wt)),Zt(t,r),n===1&&ge===0&&!(e.mode&1)&&(Xs=Ye()+500,dh&&gi()))}function Zt(t,e){var n=t.callbackNode;PA(t,e);var r=dc(t,t===dt?wt:0);if(r===0)n!==null&&Cy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Cy(n),e===1)t.tag===0?RO(S_.bind(null,t)):LS(S_.bind(null,t)),EO(function(){!(ge&6)&&gi()}),n=null;else{switch(fS(r)){case 1:n=Cm;break;case 4:n=lS;break;case 16:n=fc;break;case 536870912:n=cS;break;default:n=fc}n=jT(n,AT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function AT(t,e){if(Gl=-1,Yl=0,ge&6)throw Error(H(327));var n=t.callbackNode;if($s()&&t.callbackNode!==n)return null;var r=dc(t,t===dt?wt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=kc(t,r);else{e=r;var i=ge;ge|=2;var s=CT();(dt!==t||wt!==e)&&(ur=null,Xs=Ye()+500,Vi(t,e));do try{qO();break}catch(a){OT(t,a)}while(!0);Bm(),Ac.current=s,ge=i,nt!==null?e=0:(dt=null,wt=0,e=ut)}if(e!==0){if(e===2&&(i=xd(t),i!==0&&(r=i,e=op(t,i))),e===1)throw n=Wa,Vi(t,0),Mr(t,r),Zt(t,Ye()),n;if(e===6)Mr(t,r);else{if(i=t.current.alternate,!(r&30)&&!zO(i)&&(e=kc(t,r),e===2&&(s=xd(t),s!==0&&(r=s,e=op(t,s))),e===1))throw n=Wa,Vi(t,0),Mr(t,r),Zt(t,Ye()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:bi(t,Kt,ur);break;case 3:if(Mr(t,r),(r&130023424)===r&&(e=ig+500-Ye(),10<e)){if(dc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ut(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Vd(bi.bind(null,t,Kt,ur),e);break}bi(t,Kt,ur);break;case 4:if(Mr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Fn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ye()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*BO(r/1960))-r,10<r){t.timeoutHandle=Vd(bi.bind(null,t,Kt,ur),r);break}bi(t,Kt,ur);break;case 5:bi(t,Kt,ur);break;default:throw Error(H(329))}}}return Zt(t,Ye()),t.callbackNode===n?AT.bind(null,t):null}function op(t,e){var n=wa;return t.current.memoizedState.isDehydrated&&(Vi(t,e).flags|=256),t=kc(t,e),t!==2&&(e=Kt,Kt=n,e!==null&&ap(e)),t}function ap(t){Kt===null?Kt=t:Kt.push.apply(Kt,t)}function zO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Vn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Mr(t,e){for(e&=~rg,e&=~vh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Fn(e),r=1<<n;t[n]=-1,e&=~r}}function S_(t){if(ge&6)throw Error(H(327));$s();var e=dc(t,0);if(!(e&1))return Zt(t,Ye()),null;var n=kc(t,e);if(t.tag!==0&&n===2){var r=xd(t);r!==0&&(e=r,n=op(t,r))}if(n===1)throw n=Wa,Vi(t,0),Mr(t,e),Zt(t,Ye()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,bi(t,Kt,ur),Zt(t,Ye()),null}function sg(t,e){var n=ge;ge|=1;try{return t(e)}finally{ge=n,ge===0&&(Xs=Ye()+500,dh&&gi())}}function Gi(t){Br!==null&&Br.tag===0&&!(ge&6)&&$s();var e=ge;ge|=1;var n=Tn.transition,r=Re;try{if(Tn.transition=null,Re=1,t)return t()}finally{Re=r,Tn.transition=n,ge=e,!(ge&6)&&gi()}}function og(){cn=bs.current,Fe(bs)}function Vi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,wO(n)),nt!==null)for(n=nt.return;n!==null;){var r=n;switch(Vm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&yc();break;case 3:Ys(),Fe(Jt),Fe(xt),Gm();break;case 5:Qm(r);break;case 4:Ys();break;case 13:Fe($e);break;case 19:Fe($e);break;case 10:zm(r.type._context);break;case 22:case 23:og()}n=n.return}if(dt=t,nt=t=ti(t.current,null),wt=cn=e,ut=0,Wa=null,rg=vh=Qi=0,Kt=wa=null,Di!==null){for(e=0;e<Di.length;e++)if(n=Di[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Di=null}return t}function OT(t,e){do{var n=nt;try{if(Bm(),ql.current=bc,Pc){for(var r=Ve.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Pc=!1}if(Ki=0,ft=ot=Ve=null,ya=!1,Ha=0,ng.current=null,n===null||n.return===null){ut=1,Wa=e,nt=null;break}e:{var s=t,o=n.return,a=n,u=e;if(e=wt,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=l_(o);if(g!==null){g.flags&=-257,c_(g,o,a,s,e),g.mode&1&&u_(s,c,e),e=g,u=c;var _=e.updateQueue;if(_===null){var E=new Set;E.add(u),e.updateQueue=E}else _.add(u);break e}else{if(!(e&1)){u_(s,c,e),ag();break e}u=Error(H(426))}}else if(Le&&a.mode&1){var R=l_(o);if(R!==null){!(R.flags&65536)&&(R.flags|=256),c_(R,o,a,s,e),Um(Js(u,a));break e}}s=u=Js(u,a),ut!==4&&(ut=2),wa===null?wa=[s]:wa.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=fT(s,u,e);n_(s,y);break e;case 1:a=u;var w=s.type,P=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(Zr===null||!Zr.has(P)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=dT(s,a,e);n_(s,C);break e}}s=s.return}while(s!==null)}xT(n)}catch(x){e=x,nt===n&&n!==null&&(nt=n=n.return);continue}break}while(!0)}function CT(){var t=Ac.current;return Ac.current=bc,t===null?bc:t}function ag(){(ut===0||ut===3||ut===2)&&(ut=4),dt===null||!(Qi&268435455)&&!(vh&268435455)||Mr(dt,wt)}function kc(t,e){var n=ge;ge|=2;var r=CT();(dt!==t||wt!==e)&&(ur=null,Vi(t,e));do try{WO();break}catch(i){OT(t,i)}while(!0);if(Bm(),ge=n,Ac.current=r,nt!==null)throw Error(H(261));return dt=null,wt=0,ut}function WO(){for(;nt!==null;)kT(nt)}function qO(){for(;nt!==null&&!vA();)kT(nt)}function kT(t){var e=DT(t.alternate,t,cn);t.memoizedProps=t.pendingProps,e===null?xT(t):nt=e,ng.current=null}function xT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=$O(n,e),n!==null){n.flags&=32767,nt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ut=6,nt=null;return}}else if(n=MO(n,e,cn),n!==null){nt=n;return}if(e=e.sibling,e!==null){nt=e;return}nt=e=t}while(e!==null);ut===0&&(ut=5)}function bi(t,e,n){var r=Re,i=Tn.transition;try{Tn.transition=null,Re=1,KO(t,e,n,r)}finally{Tn.transition=i,Re=r}return null}function KO(t,e,n,r){do $s();while(Br!==null);if(ge&6)throw Error(H(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(bA(t,s),t===dt&&(nt=dt=null,wt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Pl||(Pl=!0,jT(fc,function(){return $s(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Tn.transition,Tn.transition=null;var o=Re;Re=1;var a=ge;ge|=4,ng.current=null,UO(t,n),PT(n,t),dO(Md),pc=!!Ld,Md=Ld=null,t.current=n,HO(n),yA(),ge=a,Re=o,Tn.transition=s}else t.current=n;if(Pl&&(Pl=!1,Br=t,Cc=i),s=t.pendingLanes,s===0&&(Zr=null),EA(n.stateNode),Zt(t,Ye()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Oc)throw Oc=!1,t=ip,ip=null,t;return Cc&1&&t.tag!==0&&$s(),s=t.pendingLanes,s&1?t===sp?Ea++:(Ea=0,sp=t):Ea=0,gi(),null}function $s(){if(Br!==null){var t=fS(Cc),e=Tn.transition,n=Re;try{if(Tn.transition=null,Re=16>t?16:t,Br===null)var r=!1;else{if(t=Br,Br=null,Cc=0,ge&6)throw Error(H(331));var i=ge;for(ge|=4,Y=t.current;Y!==null;){var s=Y,o=s.child;if(Y.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(Y=c;Y!==null;){var h=Y;switch(h.tag){case 0:case 11:case 15:_a(8,h,s)}var f=h.child;if(f!==null)f.return=h,Y=f;else for(;Y!==null;){h=Y;var p=h.sibling,g=h.return;if(TT(h),h===c){Y=null;break}if(p!==null){p.return=g,Y=p;break}Y=g}}}var _=s.alternate;if(_!==null){var E=_.child;if(E!==null){_.child=null;do{var R=E.sibling;E.sibling=null,E=R}while(E!==null)}}Y=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Y=o;else e:for(;Y!==null;){if(s=Y,s.flags&2048)switch(s.tag){case 0:case 11:case 15:_a(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,Y=y;break e}Y=s.return}}var w=t.current;for(Y=w;Y!==null;){o=Y;var P=o.child;if(o.subtreeFlags&2064&&P!==null)P.return=o,Y=P;else e:for(o=w;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:gh(9,a)}}catch(x){ze(a,a.return,x)}if(a===o){Y=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,Y=C;break e}Y=a.return}}if(ge=i,gi(),Gn&&typeof Gn.onPostCommitFiberRoot=="function")try{Gn.onPostCommitFiberRoot(uh,t)}catch{}r=!0}return r}finally{Re=n,Tn.transition=e}}return!1}function T_(t,e,n){e=Js(n,e),e=fT(t,e,1),t=Xr(t,e,1),e=Ut(),t!==null&&(xu(t,1,e),Zt(t,e))}function ze(t,e,n){if(t.tag===3)T_(t,t,n);else for(;e!==null;){if(e.tag===3){T_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Zr===null||!Zr.has(r))){t=Js(n,t),t=dT(e,t,1),e=Xr(e,t,1),t=Ut(),e!==null&&(xu(e,1,t),Zt(e,t));break}}e=e.return}}function QO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ut(),t.pingedLanes|=t.suspendedLanes&n,dt===t&&(wt&n)===n&&(ut===4||ut===3&&(wt&130023424)===wt&&500>Ye()-ig?Vi(t,0):rg|=n),Zt(t,e)}function NT(t,e){e===0&&(t.mode&1?(e=gl,gl<<=1,!(gl&130023424)&&(gl=4194304)):e=1);var n=Ut();t=wr(t,e),t!==null&&(xu(t,e,n),Zt(t,n))}function GO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),NT(t,n)}function YO(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),NT(t,n)}var DT;DT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Jt.current)Qt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Qt=!1,LO(t,e,n);Qt=!!(t.flags&131072)}else Qt=!1,Le&&e.flags&1048576&&MS(e,Ec,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ql(t,e),t=e.pendingProps;var i=Ks(e,xt.current);Ms(e,n),i=Jm(null,e,r,t,i,n);var s=Xm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Xt(r)?(s=!0,_c(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,qm(e),i.updater=mh,e.stateNode=i,i._reactInternals=e,Kd(e,r,t,n),e=Yd(null,e,r,!0,s,n)):(e.tag=0,Le&&s&&$m(e),Mt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ql(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=XO(r),t=xn(r,t),i){case 0:e=Gd(null,e,r,t,n);break e;case 1:e=d_(null,e,r,t,n);break e;case 11:e=h_(null,e,r,t,n);break e;case 14:e=f_(null,e,r,xn(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xn(r,i),Gd(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xn(r,i),d_(t,e,r,i,n);case 3:e:{if(vT(e),t===null)throw Error(H(387));r=e.pendingProps,s=e.memoizedState,i=s.element,zS(t,e),Ic(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Js(Error(H(423)),e),e=p_(t,e,r,n,i);break e}else if(r!==i){i=Js(Error(H(424)),e),e=p_(t,e,r,n,i);break e}else for(fn=Jr(e.stateNode.containerInfo.firstChild),dn=e,Le=!0,Dn=null,n=HS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qs(),r===i){e=Er(t,e,n);break e}Mt(t,e,r,n)}e=e.child}return e;case 5:return WS(e),t===null&&zd(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,$d(r,i)?o=null:s!==null&&$d(r,s)&&(e.flags|=32),gT(t,e),Mt(t,e,o,n),e.child;case 6:return t===null&&zd(e),null;case 13:return yT(t,e,n);case 4:return Km(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Gs(e,null,r,n):Mt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xn(r,i),h_(t,e,r,i,n);case 7:return Mt(t,e,e.pendingProps,n),e.child;case 8:return Mt(t,e,e.pendingProps.children,n),e.child;case 12:return Mt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ce(Sc,r._currentValue),r._currentValue=o,s!==null)if(Vn(s.value,o)){if(s.children===i.children&&!Jt.current){e=Er(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=vr(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Wd(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(H(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Wd(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Mt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ms(e,n),i=In(i),r=r(i),e.flags|=1,Mt(t,e,r,n),e.child;case 14:return r=e.type,i=xn(r,e.pendingProps),i=xn(r.type,i),f_(t,e,r,i,n);case 15:return pT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xn(r,i),Ql(t,e),e.tag=1,Xt(r)?(t=!0,_c(e)):t=!1,Ms(e,n),hT(e,r,i),Kd(e,r,i,n),Yd(null,e,r,!0,t,n);case 19:return _T(t,e,n);case 22:return mT(t,e,n)}throw Error(H(156,e.tag))};function jT(t,e){return uS(t,e)}function JO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(t,e,n,r){return new JO(t,e,n,r)}function ug(t){return t=t.prototype,!(!t||!t.isReactComponent)}function XO(t){if(typeof t=="function")return ug(t)?1:0;if(t!=null){if(t=t.$$typeof,t===bm)return 11;if(t===Am)return 14}return 2}function ti(t,e){var n=t.alternate;return n===null?(n=Sn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Jl(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")ug(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case vs:return Ui(n.children,i,s,e);case Pm:o=8,i|=8;break;case vd:return t=Sn(12,n,e,i|2),t.elementType=vd,t.lanes=s,t;case yd:return t=Sn(13,n,e,i),t.elementType=yd,t.lanes=s,t;case _d:return t=Sn(19,n,e,i),t.elementType=_d,t.lanes=s,t;case WE:return yh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case BE:o=10;break e;case zE:o=9;break e;case bm:o=11;break e;case Am:o=14;break e;case jr:o=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=Sn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ui(t,e,n,r){return t=Sn(7,t,r,e),t.lanes=n,t}function yh(t,e,n,r){return t=Sn(22,t,r,e),t.elementType=WE,t.lanes=n,t.stateNode={isHidden:!1},t}function jf(t,e,n){return t=Sn(6,t,null,e),t.lanes=n,t}function Ff(t,e,n){return e=Sn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ZO(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gf(0),this.expirationTimes=gf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function lg(t,e,n,r,i,s,o,a,u){return t=new ZO(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Sn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},qm(s),t}function eC(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function FT(t){if(!t)return li;t=t._reactInternals;e:{if(ss(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Xt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(Xt(n))return FS(t,n,e)}return e}function LT(t,e,n,r,i,s,o,a,u){return t=lg(n,r,!0,t,i,s,o,a,u),t.context=FT(null),n=t.current,r=Ut(),i=ei(n),s=vr(r,i),s.callback=e??null,Xr(n,s,i),t.current.lanes=i,xu(t,i,r),Zt(t,r),t}function _h(t,e,n,r){var i=e.current,s=Ut(),o=ei(i);return n=FT(n),e.context===null?e.context=n:e.pendingContext=n,e=vr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Xr(i,e,o),t!==null&&(Ln(t,i,o,s),Wl(t,i,o)),o}function xc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function I_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function cg(t,e){I_(t,e),(t=t.alternate)&&I_(t,e)}function tC(){return null}var MT=typeof reportError=="function"?reportError:function(t){console.error(t)};function hg(t){this._internalRoot=t}wh.prototype.render=hg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));_h(t,e,null,null)};wh.prototype.unmount=hg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Gi(function(){_h(null,t,null,null)}),e[_r]=null}};function wh(t){this._internalRoot=t}wh.prototype.unstable_scheduleHydration=function(t){if(t){var e=mS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Lr.length&&e!==0&&e<Lr[n].priority;n++);Lr.splice(n,0,t),n===0&&vS(t)}};function fg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Eh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function R_(){}function nC(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=xc(o);s.call(c)}}var o=LT(e,r,t,0,null,!1,!1,"",R_);return t._reactRootContainer=o,t[_r]=o.current,La(t.nodeType===8?t.parentNode:t),Gi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=xc(u);a.call(c)}}var u=lg(t,0,!1,null,null,!1,!1,"",R_);return t._reactRootContainer=u,t[_r]=u.current,La(t.nodeType===8?t.parentNode:t),Gi(function(){_h(e,u,n,r)}),u}function Sh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=xc(o);a.call(u)}}_h(e,o,t,i)}else o=nC(n,e,t,i,r);return xc(o)}dS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ia(e.pendingLanes);n!==0&&(km(e,n|1),Zt(e,Ye()),!(ge&6)&&(Xs=Ye()+500,gi()))}break;case 13:Gi(function(){var r=wr(t,1);if(r!==null){var i=Ut();Ln(r,t,1,i)}}),cg(t,1)}};xm=function(t){if(t.tag===13){var e=wr(t,134217728);if(e!==null){var n=Ut();Ln(e,t,134217728,n)}cg(t,134217728)}};pS=function(t){if(t.tag===13){var e=ei(t),n=wr(t,e);if(n!==null){var r=Ut();Ln(n,t,e,r)}cg(t,e)}};mS=function(){return Re};gS=function(t,e){var n=Re;try{return Re=t,e()}finally{Re=n}};Od=function(t,e,n){switch(e){case"input":if(Sd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=fh(r);if(!i)throw Error(H(90));KE(r),Sd(r,i)}}}break;case"textarea":GE(t,n);break;case"select":e=n.value,e!=null&&Ds(t,!!n.multiple,e,!1)}};nS=sg;rS=Gi;var rC={usingClientEntryPoint:!1,Events:[Du,Es,fh,eS,tS,sg]},Ko={findFiberByHostInstance:Ni,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iC={bundleType:Ko.bundleType,version:Ko.version,rendererPackageName:Ko.rendererPackageName,rendererConfig:Ko.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=oS(t),t===null?null:t.stateNode},findFiberByHostInstance:Ko.findFiberByHostInstance||tC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bl.isDisabled&&bl.supportsFiber)try{uh=bl.inject(iC),Gn=bl}catch{}}vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rC;vn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fg(e))throw Error(H(200));return eC(t,e,null,n)};vn.createRoot=function(t,e){if(!fg(t))throw Error(H(299));var n=!1,r="",i=MT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=lg(t,1,!1,null,null,n,!1,r,i),t[_r]=e.current,La(t.nodeType===8?t.parentNode:t),new hg(e)};vn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=oS(e),t=t===null?null:t.stateNode,t};vn.flushSync=function(t){return Gi(t)};vn.hydrate=function(t,e,n){if(!Eh(e))throw Error(H(200));return Sh(null,t,e,!0,n)};vn.hydrateRoot=function(t,e,n){if(!fg(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=MT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=LT(e,null,t,1,n??null,i,!1,s,o),t[_r]=e.current,La(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new wh(e)};vn.render=function(t,e,n){if(!Eh(e))throw Error(H(200));return Sh(null,t,e,!1,n)};vn.unmountComponentAtNode=function(t){if(!Eh(t))throw Error(H(40));return t._reactRootContainer?(Gi(function(){Sh(null,null,t,!1,function(){t._reactRootContainer=null,t[_r]=null})}),!0):!1};vn.unstable_batchedUpdates=sg;vn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Eh(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return Sh(t,e,n,!1,r)};vn.version="18.3.1-next-f1338f8080-20240426";function $T(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($T)}catch(t){console.error(t)}}$T(),$E.exports=vn;var sC=$E.exports,P_=sC;md.createRoot=P_.createRoot,md.hydrateRoot=P_.hydrateRoot;/**
 * @remix-run/router v1.19.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qa(){return qa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qa.apply(this,arguments)}var zr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(zr||(zr={}));const b_="popstate";function oC(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return up("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Nc(i)}return uC(e,n,null,t)}function Je(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function VT(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function aC(){return Math.random().toString(36).substr(2,8)}function A_(t,e){return{usr:t.state,key:t.key,idx:e}}function up(t,e,n,r){return n===void 0&&(n=null),qa({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?go(e):e,{state:n,key:e&&e.key||r||aC()})}function Nc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function go(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function uC(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=zr.Pop,u=null,c=h();c==null&&(c=0,o.replaceState(qa({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function f(){a=zr.Pop;let R=h(),y=R==null?null:R-c;c=R,u&&u({action:a,location:E.location,delta:y})}function p(R,y){a=zr.Push;let w=up(E.location,R,y);c=h()+1;let P=A_(w,c),C=E.createHref(w);try{o.pushState(P,"",C)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;i.location.assign(C)}s&&u&&u({action:a,location:E.location,delta:1})}function g(R,y){a=zr.Replace;let w=up(E.location,R,y);c=h();let P=A_(w,c),C=E.createHref(w);o.replaceState(P,"",C),s&&u&&u({action:a,location:E.location,delta:0})}function _(R){let y=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof R=="string"?R:Nc(R);return w=w.replace(/ $/,"%20"),Je(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let E={get action(){return a},get location(){return t(i,o)},listen(R){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(b_,f),u=R,()=>{i.removeEventListener(b_,f),u=null}},createHref(R){return e(i,R)},createURL:_,encodeLocation(R){let y=_(R);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:g,go(R){return o.go(R)}};return E}var O_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(O_||(O_={}));function lC(t,e,n){return n===void 0&&(n="/"),cC(t,e,n,!1)}function cC(t,e,n,r){let i=typeof e=="string"?go(e):e,s=dg(i.pathname||"/",n);if(s==null)return null;let o=UT(t);hC(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=SC(s);a=wC(o[u],c,r)}return a}function UT(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Je(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=ni([r,u.relativePath]),h=n.concat(u);s.children&&s.children.length>0&&(Je(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),UT(s.children,e,h,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:yC(c,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of HT(s.path))i(s,o,u)}),e}function HT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=HT(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function hC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:_C(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const fC=/^:[\w-]+$/,dC=3,pC=2,mC=1,gC=10,vC=-2,C_=t=>t==="*";function yC(t,e){let n=t.split("/"),r=n.length;return n.some(C_)&&(r+=vC),e&&(r+=pC),n.filter(i=>!C_(i)).reduce((i,s)=>i+(fC.test(s)?dC:s===""?mC:gC),r)}function _C(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function wC(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",f=k_({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},h),p=u.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=k_({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:ni([s,f.pathname]),pathnameBase:PC(ni([s,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(s=ni([s,f.pathnameBase]))}return o}function k_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=EC(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,h,f)=>{let{paramName:p,isOptional:g}=h;if(p==="*"){let E=a[f]||"";o=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const _=a[f];return g&&!_?c[p]=void 0:c[p]=(_||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function EC(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),VT(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function SC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return VT(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function dg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function TC(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?go(t):t;return{pathname:n?n.startsWith("/")?n:IC(n,e):e,search:bC(r),hash:AC(i)}}function IC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Lf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function RC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function pg(t,e){let n=RC(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function mg(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=go(t):(i=qa({},t),Je(!i.pathname||!i.pathname.includes("?"),Lf("?","pathname","search",i)),Je(!i.pathname||!i.pathname.includes("#"),Lf("#","pathname","hash",i)),Je(!i.search||!i.search.includes("#"),Lf("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}a=f>=0?e[f]:"/"}let u=TC(i,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||h)&&(u.pathname+="/"),u}const ni=t=>t.join("/").replace(/\/\/+/g,"/"),PC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),bC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,AC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function OC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const BT=["post","put","patch","delete"];new Set(BT);const CC=["get",...BT];new Set(CC);/**
 * React Router v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ka(){return Ka=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ka.apply(this,arguments)}const gg=Q.createContext(null),kC=Q.createContext(null),vi=Q.createContext(null),Th=Q.createContext(null),br=Q.createContext({outlet:null,matches:[],isDataRoute:!1}),zT=Q.createContext(null);function xC(t,e){let{relative:n}=e===void 0?{}:e;vo()||Je(!1);let{basename:r,navigator:i}=Q.useContext(vi),{hash:s,pathname:o,search:a}=qT(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:ni([r,o])),i.createHref({pathname:u,search:a,hash:s})}function vo(){return Q.useContext(Th)!=null}function yo(){return vo()||Je(!1),Q.useContext(Th).location}function WT(t){Q.useContext(vi).static||Q.useLayoutEffect(t)}function Ih(){let{isDataRoute:t}=Q.useContext(br);return t?qC():NC()}function NC(){vo()||Je(!1);let t=Q.useContext(gg),{basename:e,future:n,navigator:r}=Q.useContext(vi),{matches:i}=Q.useContext(br),{pathname:s}=yo(),o=JSON.stringify(pg(i,n.v7_relativeSplatPath)),a=Q.useRef(!1);return WT(()=>{a.current=!0}),Q.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=mg(c,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:ni([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,o,s,t])}function DC(){let{matches:t}=Q.useContext(br),e=t[t.length-1];return e?e.params:{}}function qT(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=Q.useContext(vi),{matches:i}=Q.useContext(br),{pathname:s}=yo(),o=JSON.stringify(pg(i,r.v7_relativeSplatPath));return Q.useMemo(()=>mg(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function jC(t,e){return FC(t,e)}function FC(t,e,n,r){vo()||Je(!1);let{navigator:i}=Q.useContext(vi),{matches:s}=Q.useContext(br),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=yo(),h;if(e){var f;let R=typeof e=="string"?go(e):e;u==="/"||(f=R.pathname)!=null&&f.startsWith(u)||Je(!1),h=R}else h=c;let p=h.pathname||"/",g=p;if(u!=="/"){let R=u.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(R.length).join("/")}let _=lC(t,{pathname:g}),E=UC(_&&_.map(R=>Object.assign({},R,{params:Object.assign({},a,R.params),pathname:ni([u,i.encodeLocation?i.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?u:ni([u,i.encodeLocation?i.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),s,n,r);return e&&E?Q.createElement(Th.Provider,{value:{location:Ka({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:zr.Pop}},E):E}function LC(){let t=WC(),e=OC(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),n?Q.createElement("pre",{style:i},n):null,null)}const MC=Q.createElement(LC,null);class $C extends Q.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?Q.createElement(br.Provider,{value:this.props.routeContext},Q.createElement(zT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function VC(t){let{routeContext:e,match:n,children:r}=t,i=Q.useContext(gg);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),Q.createElement(br.Provider,{value:e},r)}function UC(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let h=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||Je(!1),o=o.slice(0,Math.min(o.length,h+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:p,errors:g}=n,_=f.route.loader&&p[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||_){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,f,p)=>{let g,_=!1,E=null,R=null;n&&(g=a&&f.route.id?a[f.route.id]:void 0,E=f.route.errorElement||MC,u&&(c<0&&p===0?(_=!0,R=null):c===p&&(_=!0,R=f.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,p+1)),w=()=>{let P;return g?P=E:_?P=R:f.route.Component?P=Q.createElement(f.route.Component,null):f.route.element?P=f.route.element:P=h,Q.createElement(VC,{match:f,routeContext:{outlet:h,matches:y,isDataRoute:n!=null},children:P})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?Q.createElement($C,{location:n.location,revalidation:n.revalidation,component:E,error:g,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var KT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(KT||{}),Dc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Dc||{});function HC(t){let e=Q.useContext(gg);return e||Je(!1),e}function BC(t){let e=Q.useContext(kC);return e||Je(!1),e}function zC(t){let e=Q.useContext(br);return e||Je(!1),e}function QT(t){let e=zC(),n=e.matches[e.matches.length-1];return n.route.id||Je(!1),n.route.id}function WC(){var t;let e=Q.useContext(zT),n=BC(Dc.UseRouteError),r=QT(Dc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function qC(){let{router:t}=HC(KT.UseNavigateStable),e=QT(Dc.UseNavigateStable),n=Q.useRef(!1);return WT(()=>{n.current=!0}),Q.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ka({fromRouteId:e},s)))},[t,e])}function KC(t){let{to:e,replace:n,state:r,relative:i}=t;vo()||Je(!1);let{future:s,static:o}=Q.useContext(vi),{matches:a}=Q.useContext(br),{pathname:u}=yo(),c=Ih(),h=mg(e,pg(a,s.v7_relativeSplatPath),u,i==="path"),f=JSON.stringify(h);return Q.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:i}),[c,f,i,n,r]),null}function Ai(t){Je(!1)}function QC(t){let{basename:e="/",children:n=null,location:r,navigationType:i=zr.Pop,navigator:s,static:o=!1,future:a}=t;vo()&&Je(!1);let u=e.replace(/^\/*/,"/"),c=Q.useMemo(()=>({basename:u,navigator:s,static:o,future:Ka({v7_relativeSplatPath:!1},a)}),[u,a,s,o]);typeof r=="string"&&(r=go(r));let{pathname:h="/",search:f="",hash:p="",state:g=null,key:_="default"}=r,E=Q.useMemo(()=>{let R=dg(h,u);return R==null?null:{location:{pathname:R,search:f,hash:p,state:g,key:_},navigationType:i}},[u,h,f,p,g,_,i]);return E==null?null:Q.createElement(vi.Provider,{value:c},Q.createElement(Th.Provider,{children:n,value:E}))}function GC(t){let{children:e,location:n}=t;return jC(lp(e),n)}new Promise(()=>{});function lp(t,e){e===void 0&&(e=[]);let n=[];return Q.Children.forEach(t,(r,i)=>{if(!Q.isValidElement(r))return;let s=[...e,i];if(r.type===Q.Fragment){n.push.apply(n,lp(r.props.children,s));return}r.type!==Ai&&Je(!1),!r.props.index||!r.props.children||Je(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=lp(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cp(){return cp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cp.apply(this,arguments)}function YC(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function JC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function XC(t,e){return t.button===0&&(!e||e==="_self")&&!JC(t)}const ZC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],ek="6";try{window.__reactRouterVersion=ek}catch{}const tk="startTransition",x_=Q1[tk];function nk(t){let{basename:e,children:n,future:r,window:i}=t,s=Q.useRef();s.current==null&&(s.current=oC({window:i,v5Compat:!0}));let o=s.current,[a,u]=Q.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},h=Q.useCallback(f=>{c&&x_?x_(()=>u(f)):u(f)},[u,c]);return Q.useLayoutEffect(()=>o.listen(h),[o,h]),Q.createElement(QC,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const rk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ik=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sk=Q.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:u,to:c,preventScrollReset:h,unstable_viewTransition:f}=e,p=YC(e,ZC),{basename:g}=Q.useContext(vi),_,E=!1;if(typeof c=="string"&&ik.test(c)&&(_=c,rk))try{let P=new URL(window.location.href),C=c.startsWith("//")?new URL(P.protocol+c):new URL(c),x=dg(C.pathname,g);C.origin===P.origin&&x!=null?c=x+C.search+C.hash:E=!0}catch{}let R=xC(c,{relative:i}),y=ok(c,{replace:o,state:a,target:u,preventScrollReset:h,relative:i,unstable_viewTransition:f});function w(P){r&&r(P),P.defaultPrevented||y(P)}return Q.createElement("a",cp({},p,{href:_||R,onClick:E||s?r:w,ref:n,target:u}))});var N_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(N_||(N_={}));var D_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(D_||(D_={}));function ok(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,u=Ih(),c=yo(),h=qT(t,{relative:o});return Q.useCallback(f=>{if(XC(f,n)){f.preventDefault();let p=r!==void 0?r:Nc(c)===Nc(h);u(t,{replace:p,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,u,h,r,i,n,t,s,o,a])}const ak=()=>V.jsxs("div",{className:"p-6",children:[V.jsx("h1",{className:"text-4xl font-bold",children:"Welcome to JapanoLearn"}),V.jsx("p",{className:"mt-4",children:"Choose a section to start learning."})]});var j_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},uk=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},vg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=s>>2,f=(s&3)<<4|a>>4;let p=(a&15)<<2|c>>6,g=c&63;u||(g=64,o||(p=64)),r.push(n[h],n[f],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(GT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):uk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||f==null)throw new lk;const p=s<<2|a>>4;if(r.push(p),c!==64){const g=a<<4&240|c>>2;if(r.push(g),f!==64){const _=c<<6&192|f;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class lk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ck=function(t){const e=GT(t);return vg.encodeByteArray(e,!0)},jc=function(t){return ck(t).replace(/\./g,"")},YT=function(t){try{return vg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk=()=>JT().__FIREBASE_DEFAULTS__,fk=()=>{if(typeof process>"u"||typeof j_>"u")return;const t=j_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},dk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&YT(t[1]);return e&&JSON.parse(e)},Rh=()=>{try{return hk()||fk()||dk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},XT=t=>{var e,n;return(n=(e=Rh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},pk=t=>{const e=XT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ZT=()=>{var t;return(t=Rh())===null||t===void 0?void 0:t.config},eI=t=>{var e;return(e=Rh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[jc(JSON.stringify(n)),jc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nt())}function vk(){var t;const e=(t=Rh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function yk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _k(){const t=Nt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function wk(){return!vk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ph(){try{return typeof indexedDB=="object"}catch{return!1}}function nI(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function Ek(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk="FirebaseError";class Pn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Sk,Object.setPrototypeOf(this,Pn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yi.prototype.create)}}class yi{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Tk(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Pn(i,a,r)}}function Tk(t,e){return t.replace(Ik,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Ik=/\{\$([^}]+)}/g;function Rk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ga(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(F_(s)&&F_(o)){if(!Ga(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function F_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Pk(t,e){const n=new bk(t,e);return n.subscribe.bind(n)}class bk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Ak(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Mf),i.error===void 0&&(i.error=Mf),i.complete===void 0&&(i.complete=Mf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ak(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Mf(){}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck=1e3,kk=2,xk=4*60*60*1e3,Nk=.5;function hp(t,e=Ck,n=kk){const r=e*Math.pow(n,t),i=Math.round(Nk*r*(Math.random()-.5)*2);return Math.min(xk,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(t){return t&&t._delegate?t._delegate:t}class nn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Qa;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Fk(e))try{this.getOrInitializeService({instanceIdentifier:Oi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Oi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Oi){return this.instances.has(e)}getOptions(e=Oi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Oi){return this.component?this.component.multipleInstances?e:Oi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jk(t){return t===Oi?void 0:t}function Fk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Dk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(fe||(fe={}));const Mk={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},$k=fe.INFO,Vk={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},Uk=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Vk[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lu{constructor(e){this.name=e,this._logLevel=$k,this._logHandler=Uk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Mk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}}const Hk=(t,e)=>e.some(n=>t instanceof n);let L_,M_;function Bk(){return L_||(L_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zk(){return M_||(M_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rI=new WeakMap,fp=new WeakMap,iI=new WeakMap,$f=new WeakMap,yg=new WeakMap;function Wk(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ri(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&rI.set(n,t)}).catch(()=>{}),yg.set(e,t),e}function qk(t){if(fp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});fp.set(t,e)}let dp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return fp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||iI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ri(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Kk(t){dp=t(dp)}function Qk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Vf(this),e,...n);return iI.set(r,e.sort?e.sort():[e]),ri(r)}:zk().includes(t)?function(...e){return t.apply(Vf(this),e),ri(rI.get(this))}:function(...e){return ri(t.apply(Vf(this),e))}}function Gk(t){return typeof t=="function"?Qk(t):(t instanceof IDBTransaction&&qk(t),Hk(t,Bk())?new Proxy(t,dp):t)}function ri(t){if(t instanceof IDBRequest)return Wk(t);if($f.has(t))return $f.get(t);const e=Gk(t);return e!==t&&($f.set(t,e),yg.set(e,t)),e}const Vf=t=>yg.get(t);function sI(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ri(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ri(o.result),u.oldVersion,u.newVersion,ri(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Yk=["get","getKey","getAll","getAllKeys","count"],Jk=["put","add","delete","clear"],Uf=new Map;function $_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Uf.get(e))return Uf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Jk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Yk.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return Uf.set(e,s),s}Kk(t=>({...t,get:(e,n,r)=>$_(e,n)||t.get(e,n,r),has:(e,n)=>!!$_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Zk(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Zk(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const pp="@firebase/app",V_="0.10.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr=new Lu("@firebase/app"),ex="@firebase/app-compat",tx="@firebase/analytics-compat",nx="@firebase/analytics",rx="@firebase/app-check-compat",ix="@firebase/app-check",sx="@firebase/auth",ox="@firebase/auth-compat",ax="@firebase/database",ux="@firebase/database-compat",lx="@firebase/functions",cx="@firebase/functions-compat",hx="@firebase/installations",fx="@firebase/installations-compat",dx="@firebase/messaging",px="@firebase/messaging-compat",mx="@firebase/performance",gx="@firebase/performance-compat",vx="@firebase/remote-config",yx="@firebase/remote-config-compat",_x="@firebase/storage",wx="@firebase/storage-compat",Ex="@firebase/firestore",Sx="@firebase/vertexai-preview",Tx="@firebase/firestore-compat",Ix="firebase",Rx="10.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp="[DEFAULT]",Px={[pp]:"fire-core",[ex]:"fire-core-compat",[nx]:"fire-analytics",[tx]:"fire-analytics-compat",[ix]:"fire-app-check",[rx]:"fire-app-check-compat",[sx]:"fire-auth",[ox]:"fire-auth-compat",[ax]:"fire-rtdb",[ux]:"fire-rtdb-compat",[lx]:"fire-fn",[cx]:"fire-fn-compat",[hx]:"fire-iid",[fx]:"fire-iid-compat",[dx]:"fire-fcm",[px]:"fire-fcm-compat",[mx]:"fire-perf",[gx]:"fire-perf-compat",[vx]:"fire-rc",[yx]:"fire-rc-compat",[_x]:"fire-gcs",[wx]:"fire-gcs-compat",[Ex]:"fire-fst",[Tx]:"fire-fst-compat",[Sx]:"fire-vertex","fire-js":"fire-js",[Ix]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc=new Map,bx=new Map,gp=new Map;function U_(t,e){try{t.container.addComponent(e)}catch(n){Sr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function gn(t){const e=t.name;if(gp.has(e))return Sr.debug(`There were multiple attempts to register component ${e}.`),!1;gp.set(e,t);for(const n of Fc.values())U_(n,t);for(const n of bx.values())U_(n,t);return!0}function ir(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function dr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ii=new yi("app","Firebase",Ax);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new nn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ii.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o=Rx;function oI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:mp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ii.create("bad-app-name",{appName:String(i)});if(n||(n=ZT()),!n)throw ii.create("no-options");const s=Fc.get(i);if(s){if(Ga(n,s.options)&&Ga(r,s.config))return s;throw ii.create("duplicate-app",{appName:i})}const o=new Lk(i);for(const u of gp.values())o.addComponent(u);const a=new Ox(n,r,o);return Fc.set(i,a),a}function Mu(t=mp){const e=Fc.get(t);if(!e&&t===mp&&ZT())return oI();if(!e)throw ii.create("no-app",{appName:t});return e}function Ht(t,e,n){var r;let i=(r=Px[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Sr.warn(a.join(" "));return}gn(new nn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx="firebase-heartbeat-database",kx=1,Ya="firebase-heartbeat-store";let Hf=null;function aI(){return Hf||(Hf=sI(Cx,kx,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ya)}catch(n){console.warn(n)}}}}).catch(t=>{throw ii.create("idb-open",{originalErrorMessage:t.message})})),Hf}async function xx(t){try{const n=(await aI()).transaction(Ya),r=await n.objectStore(Ya).get(uI(t));return await n.done,r}catch(e){if(e instanceof Pn)Sr.warn(e.message);else{const n=ii.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Sr.warn(n.message)}}}async function H_(t,e){try{const r=(await aI()).transaction(Ya,"readwrite");await r.objectStore(Ya).put(e,uI(t)),await r.done}catch(n){if(n instanceof Pn)Sr.warn(n.message);else{const r=ii.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Sr.warn(r.message)}}}function uI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx=1024,Dx=30*24*60*60*1e3;class jx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Lx(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=B_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=Dx}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Sr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=B_(),{heartbeatsToSend:r,unsentEntries:i}=Fx(this._heartbeatsCache.heartbeats),s=jc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Sr.warn(n),""}}}function B_(){return new Date().toISOString().substring(0,10)}function Fx(t,e=Nx){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),z_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),z_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Lx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ph()?nI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await xx(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return H_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return H_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function z_(t){return jc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(t){gn(new nn("platform-logger",e=>new Xk(e),"PRIVATE")),gn(new nn("heartbeat",e=>new jx(e),"PRIVATE")),Ht(pp,V_,t),Ht(pp,V_,"esm2017"),Ht("fire-js","")}Mx("");var W_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hi,lI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,v){function S(){}S.prototype=v.prototype,A.D=v.prototype,A.prototype=new S,A.prototype.constructor=A,A.C=function(T,b,k){for(var O=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)O[Pe-2]=arguments[Pe];return v.prototype[b].apply(T,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,v,S){S||(S=0);var T=Array(16);if(typeof v=="string")for(var b=0;16>b;++b)T[b]=v.charCodeAt(S++)|v.charCodeAt(S++)<<8|v.charCodeAt(S++)<<16|v.charCodeAt(S++)<<24;else for(b=0;16>b;++b)T[b]=v[S++]|v[S++]<<8|v[S++]<<16|v[S++]<<24;v=A.g[0],S=A.g[1],b=A.g[2];var k=A.g[3],O=v+(k^S&(b^k))+T[0]+3614090360&4294967295;v=S+(O<<7&4294967295|O>>>25),O=k+(b^v&(S^b))+T[1]+3905402710&4294967295,k=v+(O<<12&4294967295|O>>>20),O=b+(S^k&(v^S))+T[2]+606105819&4294967295,b=k+(O<<17&4294967295|O>>>15),O=S+(v^b&(k^v))+T[3]+3250441966&4294967295,S=b+(O<<22&4294967295|O>>>10),O=v+(k^S&(b^k))+T[4]+4118548399&4294967295,v=S+(O<<7&4294967295|O>>>25),O=k+(b^v&(S^b))+T[5]+1200080426&4294967295,k=v+(O<<12&4294967295|O>>>20),O=b+(S^k&(v^S))+T[6]+2821735955&4294967295,b=k+(O<<17&4294967295|O>>>15),O=S+(v^b&(k^v))+T[7]+4249261313&4294967295,S=b+(O<<22&4294967295|O>>>10),O=v+(k^S&(b^k))+T[8]+1770035416&4294967295,v=S+(O<<7&4294967295|O>>>25),O=k+(b^v&(S^b))+T[9]+2336552879&4294967295,k=v+(O<<12&4294967295|O>>>20),O=b+(S^k&(v^S))+T[10]+4294925233&4294967295,b=k+(O<<17&4294967295|O>>>15),O=S+(v^b&(k^v))+T[11]+2304563134&4294967295,S=b+(O<<22&4294967295|O>>>10),O=v+(k^S&(b^k))+T[12]+1804603682&4294967295,v=S+(O<<7&4294967295|O>>>25),O=k+(b^v&(S^b))+T[13]+4254626195&4294967295,k=v+(O<<12&4294967295|O>>>20),O=b+(S^k&(v^S))+T[14]+2792965006&4294967295,b=k+(O<<17&4294967295|O>>>15),O=S+(v^b&(k^v))+T[15]+1236535329&4294967295,S=b+(O<<22&4294967295|O>>>10),O=v+(b^k&(S^b))+T[1]+4129170786&4294967295,v=S+(O<<5&4294967295|O>>>27),O=k+(S^b&(v^S))+T[6]+3225465664&4294967295,k=v+(O<<9&4294967295|O>>>23),O=b+(v^S&(k^v))+T[11]+643717713&4294967295,b=k+(O<<14&4294967295|O>>>18),O=S+(k^v&(b^k))+T[0]+3921069994&4294967295,S=b+(O<<20&4294967295|O>>>12),O=v+(b^k&(S^b))+T[5]+3593408605&4294967295,v=S+(O<<5&4294967295|O>>>27),O=k+(S^b&(v^S))+T[10]+38016083&4294967295,k=v+(O<<9&4294967295|O>>>23),O=b+(v^S&(k^v))+T[15]+3634488961&4294967295,b=k+(O<<14&4294967295|O>>>18),O=S+(k^v&(b^k))+T[4]+3889429448&4294967295,S=b+(O<<20&4294967295|O>>>12),O=v+(b^k&(S^b))+T[9]+568446438&4294967295,v=S+(O<<5&4294967295|O>>>27),O=k+(S^b&(v^S))+T[14]+3275163606&4294967295,k=v+(O<<9&4294967295|O>>>23),O=b+(v^S&(k^v))+T[3]+4107603335&4294967295,b=k+(O<<14&4294967295|O>>>18),O=S+(k^v&(b^k))+T[8]+1163531501&4294967295,S=b+(O<<20&4294967295|O>>>12),O=v+(b^k&(S^b))+T[13]+2850285829&4294967295,v=S+(O<<5&4294967295|O>>>27),O=k+(S^b&(v^S))+T[2]+4243563512&4294967295,k=v+(O<<9&4294967295|O>>>23),O=b+(v^S&(k^v))+T[7]+1735328473&4294967295,b=k+(O<<14&4294967295|O>>>18),O=S+(k^v&(b^k))+T[12]+2368359562&4294967295,S=b+(O<<20&4294967295|O>>>12),O=v+(S^b^k)+T[5]+4294588738&4294967295,v=S+(O<<4&4294967295|O>>>28),O=k+(v^S^b)+T[8]+2272392833&4294967295,k=v+(O<<11&4294967295|O>>>21),O=b+(k^v^S)+T[11]+1839030562&4294967295,b=k+(O<<16&4294967295|O>>>16),O=S+(b^k^v)+T[14]+4259657740&4294967295,S=b+(O<<23&4294967295|O>>>9),O=v+(S^b^k)+T[1]+2763975236&4294967295,v=S+(O<<4&4294967295|O>>>28),O=k+(v^S^b)+T[4]+1272893353&4294967295,k=v+(O<<11&4294967295|O>>>21),O=b+(k^v^S)+T[7]+4139469664&4294967295,b=k+(O<<16&4294967295|O>>>16),O=S+(b^k^v)+T[10]+3200236656&4294967295,S=b+(O<<23&4294967295|O>>>9),O=v+(S^b^k)+T[13]+681279174&4294967295,v=S+(O<<4&4294967295|O>>>28),O=k+(v^S^b)+T[0]+3936430074&4294967295,k=v+(O<<11&4294967295|O>>>21),O=b+(k^v^S)+T[3]+3572445317&4294967295,b=k+(O<<16&4294967295|O>>>16),O=S+(b^k^v)+T[6]+76029189&4294967295,S=b+(O<<23&4294967295|O>>>9),O=v+(S^b^k)+T[9]+3654602809&4294967295,v=S+(O<<4&4294967295|O>>>28),O=k+(v^S^b)+T[12]+3873151461&4294967295,k=v+(O<<11&4294967295|O>>>21),O=b+(k^v^S)+T[15]+530742520&4294967295,b=k+(O<<16&4294967295|O>>>16),O=S+(b^k^v)+T[2]+3299628645&4294967295,S=b+(O<<23&4294967295|O>>>9),O=v+(b^(S|~k))+T[0]+4096336452&4294967295,v=S+(O<<6&4294967295|O>>>26),O=k+(S^(v|~b))+T[7]+1126891415&4294967295,k=v+(O<<10&4294967295|O>>>22),O=b+(v^(k|~S))+T[14]+2878612391&4294967295,b=k+(O<<15&4294967295|O>>>17),O=S+(k^(b|~v))+T[5]+4237533241&4294967295,S=b+(O<<21&4294967295|O>>>11),O=v+(b^(S|~k))+T[12]+1700485571&4294967295,v=S+(O<<6&4294967295|O>>>26),O=k+(S^(v|~b))+T[3]+2399980690&4294967295,k=v+(O<<10&4294967295|O>>>22),O=b+(v^(k|~S))+T[10]+4293915773&4294967295,b=k+(O<<15&4294967295|O>>>17),O=S+(k^(b|~v))+T[1]+2240044497&4294967295,S=b+(O<<21&4294967295|O>>>11),O=v+(b^(S|~k))+T[8]+1873313359&4294967295,v=S+(O<<6&4294967295|O>>>26),O=k+(S^(v|~b))+T[15]+4264355552&4294967295,k=v+(O<<10&4294967295|O>>>22),O=b+(v^(k|~S))+T[6]+2734768916&4294967295,b=k+(O<<15&4294967295|O>>>17),O=S+(k^(b|~v))+T[13]+1309151649&4294967295,S=b+(O<<21&4294967295|O>>>11),O=v+(b^(S|~k))+T[4]+4149444226&4294967295,v=S+(O<<6&4294967295|O>>>26),O=k+(S^(v|~b))+T[11]+3174756917&4294967295,k=v+(O<<10&4294967295|O>>>22),O=b+(v^(k|~S))+T[2]+718787259&4294967295,b=k+(O<<15&4294967295|O>>>17),O=S+(k^(b|~v))+T[9]+3951481745&4294967295,A.g[0]=A.g[0]+v&4294967295,A.g[1]=A.g[1]+(b+(O<<21&4294967295|O>>>11))&4294967295,A.g[2]=A.g[2]+b&4294967295,A.g[3]=A.g[3]+k&4294967295}r.prototype.u=function(A,v){v===void 0&&(v=A.length);for(var S=v-this.blockSize,T=this.B,b=this.h,k=0;k<v;){if(b==0)for(;k<=S;)i(this,A,k),k+=this.blockSize;if(typeof A=="string"){for(;k<v;)if(T[b++]=A.charCodeAt(k++),b==this.blockSize){i(this,T),b=0;break}}else for(;k<v;)if(T[b++]=A[k++],b==this.blockSize){i(this,T),b=0;break}}this.h=b,this.o+=v},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var v=1;v<A.length-8;++v)A[v]=0;var S=8*this.o;for(v=A.length-8;v<A.length;++v)A[v]=S&255,S/=256;for(this.u(A),A=Array(16),v=S=0;4>v;++v)for(var T=0;32>T;T+=8)A[S++]=this.g[v]>>>T&255;return A};function s(A,v){var S=a;return Object.prototype.hasOwnProperty.call(S,A)?S[A]:S[A]=v(A)}function o(A,v){this.h=v;for(var S=[],T=!0,b=A.length-1;0<=b;b--){var k=A[b]|0;T&&k==v||(S[b]=k,T=!1)}this.g=S}var a={};function u(A){return-128<=A&&128>A?s(A,function(v){return new o([v|0],0>v?-1:0)}):new o([A|0],0>A?-1:0)}function c(A){if(isNaN(A)||!isFinite(A))return f;if(0>A)return R(c(-A));for(var v=[],S=1,T=0;A>=S;T++)v[T]=A/S|0,S*=4294967296;return new o(v,0)}function h(A,v){if(A.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(A.charAt(0)=="-")return R(h(A.substring(1),v));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=c(Math.pow(v,8)),T=f,b=0;b<A.length;b+=8){var k=Math.min(8,A.length-b),O=parseInt(A.substring(b,b+k),v);8>k?(k=c(Math.pow(v,k)),T=T.j(k).add(c(O))):(T=T.j(S),T=T.add(c(O)))}return T}var f=u(0),p=u(1),g=u(16777216);t=o.prototype,t.m=function(){if(E(this))return-R(this).m();for(var A=0,v=1,S=0;S<this.g.length;S++){var T=this.i(S);A+=(0<=T?T:4294967296+T)*v,v*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(_(this))return"0";if(E(this))return"-"+R(this).toString(A);for(var v=c(Math.pow(A,6)),S=this,T="";;){var b=C(S,v).g;S=y(S,b.j(v));var k=((0<S.g.length?S.g[0]:S.h)>>>0).toString(A);if(S=b,_(S))return k+T;for(;6>k.length;)k="0"+k;T=k+T}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function _(A){if(A.h!=0)return!1;for(var v=0;v<A.g.length;v++)if(A.g[v]!=0)return!1;return!0}function E(A){return A.h==-1}t.l=function(A){return A=y(this,A),E(A)?-1:_(A)?0:1};function R(A){for(var v=A.g.length,S=[],T=0;T<v;T++)S[T]=~A.g[T];return new o(S,~A.h).add(p)}t.abs=function(){return E(this)?R(this):this},t.add=function(A){for(var v=Math.max(this.g.length,A.g.length),S=[],T=0,b=0;b<=v;b++){var k=T+(this.i(b)&65535)+(A.i(b)&65535),O=(k>>>16)+(this.i(b)>>>16)+(A.i(b)>>>16);T=O>>>16,k&=65535,O&=65535,S[b]=O<<16|k}return new o(S,S[S.length-1]&-2147483648?-1:0)};function y(A,v){return A.add(R(v))}t.j=function(A){if(_(this)||_(A))return f;if(E(this))return E(A)?R(this).j(R(A)):R(R(this).j(A));if(E(A))return R(this.j(R(A)));if(0>this.l(g)&&0>A.l(g))return c(this.m()*A.m());for(var v=this.g.length+A.g.length,S=[],T=0;T<2*v;T++)S[T]=0;for(T=0;T<this.g.length;T++)for(var b=0;b<A.g.length;b++){var k=this.i(T)>>>16,O=this.i(T)&65535,Pe=A.i(b)>>>16,ue=A.i(b)&65535;S[2*T+2*b]+=O*ue,w(S,2*T+2*b),S[2*T+2*b+1]+=k*ue,w(S,2*T+2*b+1),S[2*T+2*b+1]+=O*Pe,w(S,2*T+2*b+1),S[2*T+2*b+2]+=k*Pe,w(S,2*T+2*b+2)}for(T=0;T<v;T++)S[T]=S[2*T+1]<<16|S[2*T];for(T=v;T<2*v;T++)S[T]=0;return new o(S,0)};function w(A,v){for(;(A[v]&65535)!=A[v];)A[v+1]+=A[v]>>>16,A[v]&=65535,v++}function P(A,v){this.g=A,this.h=v}function C(A,v){if(_(v))throw Error("division by zero");if(_(A))return new P(f,f);if(E(A))return v=C(R(A),v),new P(R(v.g),R(v.h));if(E(v))return v=C(A,R(v)),new P(R(v.g),v.h);if(30<A.g.length){if(E(A)||E(v))throw Error("slowDivide_ only works with positive integers.");for(var S=p,T=v;0>=T.l(A);)S=x(S),T=x(T);var b=j(S,1),k=j(T,1);for(T=j(T,2),S=j(S,2);!_(T);){var O=k.add(T);0>=O.l(A)&&(b=b.add(S),k=O),T=j(T,1),S=j(S,1)}return v=y(A,b.j(v)),new P(b,v)}for(b=f;0<=A.l(v);){for(S=Math.max(1,Math.floor(A.m()/v.m())),T=Math.ceil(Math.log(S)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),k=c(S),O=k.j(v);E(O)||0<O.l(A);)S-=T,k=c(S),O=k.j(v);_(k)&&(k=p),b=b.add(k),A=y(A,O)}return new P(b,A)}t.A=function(A){return C(this,A).h},t.and=function(A){for(var v=Math.max(this.g.length,A.g.length),S=[],T=0;T<v;T++)S[T]=this.i(T)&A.i(T);return new o(S,this.h&A.h)},t.or=function(A){for(var v=Math.max(this.g.length,A.g.length),S=[],T=0;T<v;T++)S[T]=this.i(T)|A.i(T);return new o(S,this.h|A.h)},t.xor=function(A){for(var v=Math.max(this.g.length,A.g.length),S=[],T=0;T<v;T++)S[T]=this.i(T)^A.i(T);return new o(S,this.h^A.h)};function x(A){for(var v=A.g.length+1,S=[],T=0;T<v;T++)S[T]=A.i(T)<<1|A.i(T-1)>>>31;return new o(S,A.h)}function j(A,v){var S=v>>5;v%=32;for(var T=A.g.length-S,b=[],k=0;k<T;k++)b[k]=0<v?A.i(k+S)>>>v|A.i(k+S+1)<<32-v:A.i(k+S);return new o(b,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,lI=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,Hi=o}).apply(typeof W_<"u"?W_:typeof self<"u"?self:typeof window<"u"?window:{});var Al=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cI,hI,oa,fI,Xl,vp,dI,pI,mI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,m){return l==Array.prototype||l==Object.prototype||(l[d]=m.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Al=="object"&&Al];for(var d=0;d<l.length;++d){var m=l[d];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(l,d){if(d)e:{var m=r;l=l.split(".");for(var I=0;I<l.length-1;I++){var N=l[I];if(!(N in m))break e;m=m[N]}l=l[l.length-1],I=m[l],d=d(I),d!=I&&d!=null&&e(m,l,{configurable:!0,writable:!0,value:d})}}function s(l,d){l instanceof String&&(l+="");var m=0,I=!1,N={next:function(){if(!I&&m<l.length){var D=m++;return{value:d(D,l[D]),done:!1}}return I=!0,{done:!0,value:void 0}}};return N[Symbol.iterator]=function(){return N},N}i("Array.prototype.values",function(l){return l||function(){return s(this,function(d,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function c(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function h(l,d,m){return l.call.apply(l.bind,arguments)}function f(l,d,m){if(!l)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var N=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(N,I),l.apply(d,N)}}return function(){return l.apply(d,arguments)}}function p(l,d,m){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,p.apply(null,arguments)}function g(l,d){var m=Array.prototype.slice.call(arguments,1);return function(){var I=m.slice();return I.push.apply(I,arguments),l.apply(this,I)}}function _(l,d){function m(){}m.prototype=d.prototype,l.aa=d.prototype,l.prototype=new m,l.prototype.constructor=l,l.Qb=function(I,N,D){for(var q=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)q[Ae-2]=arguments[Ae];return d.prototype[N].apply(I,q)}}function E(l){const d=l.length;if(0<d){const m=Array(d);for(let I=0;I<d;I++)m[I]=l[I];return m}return[]}function R(l,d){for(let m=1;m<arguments.length;m++){const I=arguments[m];if(u(I)){const N=l.length||0,D=I.length||0;l.length=N+D;for(let q=0;q<D;q++)l[N+q]=I[q]}else l.push(I)}}class y{constructor(d,m){this.i=d,this.j=m,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function w(l){return/^[\s\xa0]*$/.test(l)}function P(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function C(l){return C[" "](l),l}C[" "]=function(){};var x=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function j(l,d,m){for(const I in l)d.call(m,l[I],I,l)}function A(l,d){for(const m in l)d.call(void 0,l[m],m,l)}function v(l){const d={};for(const m in l)d[m]=l[m];return d}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(l,d){let m,I;for(let N=1;N<arguments.length;N++){I=arguments[N];for(m in I)l[m]=I[m];for(let D=0;D<S.length;D++)m=S[D],Object.prototype.hasOwnProperty.call(I,m)&&(l[m]=I[m])}}function b(l){var d=1;l=l.split(":");const m=[];for(;0<d&&l.length;)m.push(l.shift()),d--;return l.length&&m.push(l.join(":")),m}function k(l){a.setTimeout(()=>{throw l},0)}function O(){var l=G;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class Pe{constructor(){this.h=this.g=null}add(d,m){const I=ue.get();I.set(d,m),this.h?this.h.next=I:this.g=I,this.h=I}}var ue=new y(()=>new st,l=>l.reset());class st{constructor(){this.next=this.g=this.h=null}set(d,m){this.h=d,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,B=!1,G=new Pe,te=()=>{const l=a.Promise.resolve(void 0);ve=()=>{l.then(re)}};var re=()=>{for(var l;l=O();){try{l.h.call(l.g)}catch(m){k(m)}var d=ue;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}B=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Se(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}Se.prototype.h=function(){this.defaultPrevented=!0};var Ze=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};a.addEventListener("test",m,d),a.removeEventListener("test",m,d)}catch{}return l}();function Wt(l,d){if(Se.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var m=this.type=l.type,I=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(x){e:{try{C(d.nodeName);var N=!0;break e}catch{}N=!1}N||(d=null)}}else m=="mouseover"?d=l.fromElement:m=="mouseout"&&(d=l.toElement);this.relatedTarget=d,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:sn[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Wt.aa.h.call(this)}}_(Wt,Se);var sn={2:"touch",3:"pen",4:"mouse"};Wt.prototype.h=function(){Wt.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var jt="closure_listenable_"+(1e6*Math.random()|0),L=0;function M(l,d,m,I,N){this.listener=l,this.proxy=null,this.src=d,this.type=m,this.capture=!!I,this.ha=N,this.key=++L,this.da=this.fa=!1}function F(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function $(l){this.src=l,this.g={},this.h=0}$.prototype.add=function(l,d,m,I,N){var D=l.toString();l=this.g[D],l||(l=this.g[D]=[],this.h++);var q=Z(l,d,I,N);return-1<q?(d=l[q],m||(d.fa=!1)):(d=new M(d,this.src,D,!!I,N),d.fa=m,l.push(d)),d};function z(l,d){var m=d.type;if(m in l.g){var I=l.g[m],N=Array.prototype.indexOf.call(I,d,void 0),D;(D=0<=N)&&Array.prototype.splice.call(I,N,1),D&&(F(d),l.g[m].length==0&&(delete l.g[m],l.h--))}}function Z(l,d,m,I){for(var N=0;N<l.length;++N){var D=l[N];if(!D.da&&D.listener==d&&D.capture==!!m&&D.ha==I)return N}return-1}var ie="closure_lm_"+(1e6*Math.random()|0),X={};function _e(l,d,m,I,N){if(Array.isArray(d)){for(var D=0;D<d.length;D++)_e(l,d[D],m,I,N);return null}return m=qt(m),l&&l[jt]?l.K(d,m,c(I)?!!I.capture:!!I,N):xe(l,d,m,!1,I,N)}function xe(l,d,m,I,N,D){if(!d)throw Error("Invalid event type");var q=c(N)?!!N.capture:!!N,Ae=et(l);if(Ae||(l[ie]=Ae=new $(l)),m=Ae.add(d,m,I,q,D),m.proxy)return m;if(I=be(),m.proxy=I,I.src=l,I.listener=m,l.addEventListener)Ze||(N=q),N===void 0&&(N=!1),l.addEventListener(d.toString(),I,N);else if(l.attachEvent)l.attachEvent(pt(d.toString()),I);else if(l.addListener&&l.removeListener)l.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return m}function be(){function l(m){return d.call(l.src,l.listener,m)}const d=Oe;return l}function Ke(l,d,m,I,N){if(Array.isArray(d))for(var D=0;D<d.length;D++)Ke(l,d[D],m,I,N);else I=c(I)?!!I.capture:!!I,m=qt(m),l&&l[jt]?(l=l.i,d=String(d).toString(),d in l.g&&(D=l.g[d],m=Z(D,m,I,N),-1<m&&(F(D[m]),Array.prototype.splice.call(D,m,1),D.length==0&&(delete l.g[d],l.h--)))):l&&(l=et(l))&&(d=l.g[d.toString()],l=-1,d&&(l=Z(d,m,I,N)),(m=-1<l?d[l]:null)&&Ne(m))}function Ne(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[jt])z(d.i,l);else{var m=l.type,I=l.proxy;d.removeEventListener?d.removeEventListener(m,I,l.capture):d.detachEvent?d.detachEvent(pt(m),I):d.addListener&&d.removeListener&&d.removeListener(I),(m=et(d))?(z(m,l),m.h==0&&(m.src=null,d[ie]=null)):F(l)}}}function pt(l){return l in X?X[l]:X[l]="on"+l}function Oe(l,d){if(l.da)l=!0;else{d=new Wt(d,this);var m=l.listener,I=l.ha||l.src;l.fa&&Ne(l),l=m.call(I,d)}return l}function et(l){return l=l[ie],l instanceof $?l:null}var on="__closure_events_fn_"+(1e9*Math.random()>>>0);function qt(l){return typeof l=="function"?l:(l[on]||(l[on]=function(d){return l.handleEvent(d)}),l[on])}function Qe(){le.call(this),this.i=new $(this),this.M=this,this.F=null}_(Qe,le),Qe.prototype[jt]=!0,Qe.prototype.removeEventListener=function(l,d,m,I){Ke(this,l,d,m,I)};function he(l,d){var m,I=l.F;if(I)for(m=[];I;I=I.F)m.push(I);if(l=l.M,I=d.type||d,typeof d=="string")d=new Se(d,l);else if(d instanceof Se)d.target=d.target||l;else{var N=d;d=new Se(I,l),T(d,N)}if(N=!0,m)for(var D=m.length-1;0<=D;D--){var q=d.g=m[D];N=we(q,I,!0,d)&&N}if(q=d.g=l,N=we(q,I,!0,d)&&N,N=we(q,I,!1,d)&&N,m)for(D=0;D<m.length;D++)q=d.g=m[D],N=we(q,I,!1,d)&&N}Qe.prototype.N=function(){if(Qe.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var m=l.g[d],I=0;I<m.length;I++)F(m[I]);delete l.g[d],l.h--}}this.F=null},Qe.prototype.K=function(l,d,m,I){return this.i.add(String(l),d,!1,m,I)},Qe.prototype.L=function(l,d,m,I){return this.i.add(String(l),d,!0,m,I)};function we(l,d,m,I){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var N=!0,D=0;D<d.length;++D){var q=d[D];if(q&&!q.da&&q.capture==m){var Ae=q.listener,mt=q.ha||q.src;q.fa&&z(l.i,q),N=Ae.call(mt,I)!==!1&&N}}return N&&!I.defaultPrevented}function an(l,d,m){if(typeof l=="function")m&&(l=p(l,m));else if(l&&typeof l.handleEvent=="function")l=p(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(l,d||0)}function An(l){l.g=an(()=>{l.g=null,l.i&&(l.i=!1,An(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class Ar extends le{constructor(d,m){super(),this.m=d,this.l=m,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:An(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function On(l){le.call(this),this.h=l,this.g={}}_(On,le);var wi=[];function as(l){j(l.g,function(d,m){this.g.hasOwnProperty(m)&&Ne(d)},l),l.g={}}On.prototype.N=function(){On.aa.N.call(this),as(this)},On.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Po=a.JSON.stringify,o1=a.JSON.parse,a1=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Gh(){}Gh.prototype.h=null;function bv(l){return l.h||(l.h=l.i())}function Av(){}var bo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yh(){Se.call(this,"d")}_(Yh,Se);function Jh(){Se.call(this,"c")}_(Jh,Se);var Ei={},Ov=null;function Ju(){return Ov=Ov||new Qe}Ei.La="serverreachability";function Cv(l){Se.call(this,Ei.La,l)}_(Cv,Se);function Ao(l){const d=Ju();he(d,new Cv(d))}Ei.STAT_EVENT="statevent";function kv(l,d){Se.call(this,Ei.STAT_EVENT,l),this.stat=d}_(kv,Se);function Ft(l){const d=Ju();he(d,new kv(d,l))}Ei.Ma="timingevent";function xv(l,d){Se.call(this,Ei.Ma,l),this.size=d}_(xv,Se);function Oo(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},d)}function Co(){this.g=!0}Co.prototype.xa=function(){this.g=!1};function u1(l,d,m,I,N,D){l.info(function(){if(l.g)if(D)for(var q="",Ae=D.split("&"),mt=0;mt<Ae.length;mt++){var ye=Ae[mt].split("=");if(1<ye.length){var It=ye[0];ye=ye[1];var Rt=It.split("_");q=2<=Rt.length&&Rt[1]=="type"?q+(It+"="+ye+"&"):q+(It+"=redacted&")}}else q=null;else q=D;return"XMLHTTP REQ ("+I+") [attempt "+N+"]: "+d+`
`+m+`
`+q})}function l1(l,d,m,I,N,D,q){l.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+N+"]: "+d+`
`+m+`
`+D+" "+q})}function us(l,d,m,I){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+h1(l,m)+(I?" "+I:"")})}function c1(l,d){l.info(function(){return"TIMEOUT: "+d})}Co.prototype.info=function(){};function h1(l,d){if(!l.g)return d;if(!d)return null;try{var m=JSON.parse(d);if(m){for(l=0;l<m.length;l++)if(Array.isArray(m[l])){var I=m[l];if(!(2>I.length)){var N=I[1];if(Array.isArray(N)&&!(1>N.length)){var D=N[0];if(D!="noop"&&D!="stop"&&D!="close")for(var q=1;q<N.length;q++)N[q]=""}}}}return Po(m)}catch{return d}}var Xu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Nv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xh;function Zu(){}_(Zu,Gh),Zu.prototype.g=function(){return new XMLHttpRequest},Zu.prototype.i=function(){return{}},Xh=new Zu;function Or(l,d,m,I){this.j=l,this.i=d,this.l=m,this.R=I||1,this.U=new On(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Dv}function Dv(){this.i=null,this.g="",this.h=!1}var jv={},Zh={};function ef(l,d,m){l.L=1,l.v=rl(sr(d)),l.m=m,l.P=!0,Fv(l,null)}function Fv(l,d){l.F=Date.now(),el(l),l.A=sr(l.v);var m=l.A,I=l.R;Array.isArray(I)||(I=[String(I)]),Yv(m.i,"t",I),l.C=0,m=l.j.J,l.h=new Dv,l.g=py(l.j,m?d:null,!l.m),0<l.O&&(l.M=new Ar(p(l.Y,l,l.g),l.O)),d=l.U,m=l.g,I=l.ca;var N="readystatechange";Array.isArray(N)||(N&&(wi[0]=N.toString()),N=wi);for(var D=0;D<N.length;D++){var q=_e(m,N[D],I||d.handleEvent,!1,d.h||d);if(!q)break;d.g[q.key]=q}d=l.H?v(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),Ao(),u1(l.i,l.u,l.A,l.l,l.R,l.m)}Or.prototype.ca=function(l){l=l.target;const d=this.M;d&&or(l)==3?d.j():this.Y(l)},Or.prototype.Y=function(l){try{if(l==this.g)e:{const Rt=or(this.g);var d=this.g.Ba();const hs=this.g.Z();if(!(3>Rt)&&(Rt!=3||this.g&&(this.h.h||this.g.oa()||ry(this.g)))){this.J||Rt!=4||d==7||(d==8||0>=hs?Ao(3):Ao(2)),tf(this);var m=this.g.Z();this.X=m;t:if(Lv(this)){var I=ry(this.g);l="";var N=I.length,D=or(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Si(this),ko(this);var q="";break t}this.h.i=new a.TextDecoder}for(d=0;d<N;d++)this.h.h=!0,l+=this.h.i.decode(I[d],{stream:!(D&&d==N-1)});I.length=0,this.h.g+=l,this.C=0,q=this.h.g}else q=this.g.oa();if(this.o=m==200,l1(this.i,this.u,this.A,this.l,this.R,Rt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Ae,mt=this.g;if((Ae=mt.g?mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Ae)){var ye=Ae;break t}}ye=null}if(m=ye)us(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,nf(this,m);else{this.o=!1,this.s=3,Ft(12),Si(this),ko(this);break e}}if(this.P){m=!0;let Cn;for(;!this.J&&this.C<q.length;)if(Cn=f1(this,q),Cn==Zh){Rt==4&&(this.s=4,Ft(14),m=!1),us(this.i,this.l,null,"[Incomplete Response]");break}else if(Cn==jv){this.s=4,Ft(15),us(this.i,this.l,q,"[Invalid Chunk]"),m=!1;break}else us(this.i,this.l,Cn,null),nf(this,Cn);if(Lv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||q.length!=0||this.h.h||(this.s=1,Ft(16),m=!1),this.o=this.o&&m,!m)us(this.i,this.l,q,"[Invalid Chunked Response]"),Si(this),ko(this);else if(0<q.length&&!this.W){this.W=!0;var It=this.j;It.g==this&&It.ba&&!It.M&&(It.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),lf(It),It.M=!0,Ft(11))}}else us(this.i,this.l,q,null),nf(this,q);Rt==4&&Si(this),this.o&&!this.J&&(Rt==4?cy(this.j,this):(this.o=!1,el(this)))}else O1(this.g),m==400&&0<q.indexOf("Unknown SID")?(this.s=3,Ft(12)):(this.s=0,Ft(13)),Si(this),ko(this)}}}catch{}finally{}};function Lv(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function f1(l,d){var m=l.C,I=d.indexOf(`
`,m);return I==-1?Zh:(m=Number(d.substring(m,I)),isNaN(m)?jv:(I+=1,I+m>d.length?Zh:(d=d.slice(I,I+m),l.C=I+m,d)))}Or.prototype.cancel=function(){this.J=!0,Si(this)};function el(l){l.S=Date.now()+l.I,Mv(l,l.I)}function Mv(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Oo(p(l.ba,l),d)}function tf(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Or.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(c1(this.i,this.A),this.L!=2&&(Ao(),Ft(17)),Si(this),this.s=2,ko(this)):Mv(this,this.S-l)};function ko(l){l.j.G==0||l.J||cy(l.j,l)}function Si(l){tf(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,as(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function nf(l,d){try{var m=l.j;if(m.G!=0&&(m.g==l||rf(m.h,l))){if(!l.K&&rf(m.h,l)&&m.G==3){try{var I=m.Da.g.parse(d)}catch{I=null}if(Array.isArray(I)&&I.length==3){var N=I;if(N[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<l.F)ul(m),ol(m);else break e;uf(m),Ft(18)}}else m.za=N[1],0<m.za-m.T&&37500>N[2]&&m.F&&m.v==0&&!m.C&&(m.C=Oo(p(m.Za,m),6e3));if(1>=Uv(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Ii(m,11)}else if((l.K||m.g==l)&&ul(m),!w(d))for(N=m.Da.g.parse(d),d=0;d<N.length;d++){let ye=N[d];if(m.T=ye[0],ye=ye[1],m.G==2)if(ye[0]=="c"){m.K=ye[1],m.ia=ye[2];const It=ye[3];It!=null&&(m.la=It,m.j.info("VER="+m.la));const Rt=ye[4];Rt!=null&&(m.Aa=Rt,m.j.info("SVER="+m.Aa));const hs=ye[5];hs!=null&&typeof hs=="number"&&0<hs&&(I=1.5*hs,m.L=I,m.j.info("backChannelRequestTimeoutMs_="+I)),I=m;const Cn=l.g;if(Cn){const cl=Cn.g?Cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(cl){var D=I.h;D.g||cl.indexOf("spdy")==-1&&cl.indexOf("quic")==-1&&cl.indexOf("h2")==-1||(D.j=D.l,D.g=new Set,D.h&&(sf(D,D.h),D.h=null))}if(I.D){const cf=Cn.g?Cn.g.getResponseHeader("X-HTTP-Session-Id"):null;cf&&(I.ya=cf,De(I.I,I.D,cf))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-l.F,m.j.info("Handshake RTT: "+m.R+"ms")),I=m;var q=l;if(I.qa=dy(I,I.J?I.ia:null,I.W),q.K){Hv(I.h,q);var Ae=q,mt=I.L;mt&&(Ae.I=mt),Ae.B&&(tf(Ae),el(Ae)),I.g=q}else uy(I);0<m.i.length&&al(m)}else ye[0]!="stop"&&ye[0]!="close"||Ii(m,7);else m.G==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?Ii(m,7):af(m):ye[0]!="noop"&&m.l&&m.l.ta(ye),m.v=0)}}Ao(4)}catch{}}var d1=class{constructor(l,d){this.g=l,this.map=d}};function $v(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Vv(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Uv(l){return l.h?1:l.g?l.g.size:0}function rf(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function sf(l,d){l.g?l.g.add(d):l.h=d}function Hv(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}$v.prototype.cancel=function(){if(this.i=Bv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Bv(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const m of l.g.values())d=d.concat(m.D);return d}return E(l.i)}function p1(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var d=[],m=l.length,I=0;I<m;I++)d.push(l[I]);return d}d=[],m=0;for(I in l)d[m++]=l[I];return d}function m1(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var d=[];l=l.length;for(var m=0;m<l;m++)d.push(m);return d}d=[],m=0;for(const I in l)d[m++]=I;return d}}}function zv(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var m=m1(l),I=p1(l),N=I.length,D=0;D<N;D++)d.call(void 0,I[D],m&&m[D],l)}var Wv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function g1(l,d){if(l){l=l.split("&");for(var m=0;m<l.length;m++){var I=l[m].indexOf("="),N=null;if(0<=I){var D=l[m].substring(0,I);N=l[m].substring(I+1)}else D=l[m];d(D,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}function Ti(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Ti){this.h=l.h,tl(this,l.j),this.o=l.o,this.g=l.g,nl(this,l.s),this.l=l.l;var d=l.i,m=new Do;m.i=d.i,d.g&&(m.g=new Map(d.g),m.h=d.h),qv(this,m),this.m=l.m}else l&&(d=String(l).match(Wv))?(this.h=!1,tl(this,d[1]||"",!0),this.o=xo(d[2]||""),this.g=xo(d[3]||"",!0),nl(this,d[4]),this.l=xo(d[5]||"",!0),qv(this,d[6]||"",!0),this.m=xo(d[7]||"")):(this.h=!1,this.i=new Do(null,this.h))}Ti.prototype.toString=function(){var l=[],d=this.j;d&&l.push(No(d,Kv,!0),":");var m=this.g;return(m||d=="file")&&(l.push("//"),(d=this.o)&&l.push(No(d,Kv,!0),"@"),l.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&l.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&l.push("/"),l.push(No(m,m.charAt(0)=="/"?_1:y1,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",No(m,E1)),l.join("")};function sr(l){return new Ti(l)}function tl(l,d,m){l.j=m?xo(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function nl(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function qv(l,d,m){d instanceof Do?(l.i=d,S1(l.i,l.h)):(m||(d=No(d,w1)),l.i=new Do(d,l.h))}function De(l,d,m){l.i.set(d,m)}function rl(l){return De(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function xo(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function No(l,d,m){return typeof l=="string"?(l=encodeURI(l).replace(d,v1),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function v1(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Kv=/[#\/\?@]/g,y1=/[#\?:]/g,_1=/[#\?]/g,w1=/[#\?@]/g,E1=/#/g;function Do(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function Cr(l){l.g||(l.g=new Map,l.h=0,l.i&&g1(l.i,function(d,m){l.add(decodeURIComponent(d.replace(/\+/g," ")),m)}))}t=Do.prototype,t.add=function(l,d){Cr(this),this.i=null,l=ls(this,l);var m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(d),this.h+=1,this};function Qv(l,d){Cr(l),d=ls(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function Gv(l,d){return Cr(l),d=ls(l,d),l.g.has(d)}t.forEach=function(l,d){Cr(this),this.g.forEach(function(m,I){m.forEach(function(N){l.call(d,N,I,this)},this)},this)},t.na=function(){Cr(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),m=[];for(let I=0;I<d.length;I++){const N=l[I];for(let D=0;D<N.length;D++)m.push(d[I])}return m},t.V=function(l){Cr(this);let d=[];if(typeof l=="string")Gv(this,l)&&(d=d.concat(this.g.get(ls(this,l))));else{l=Array.from(this.g.values());for(let m=0;m<l.length;m++)d=d.concat(l[m])}return d},t.set=function(l,d){return Cr(this),this.i=null,l=ls(this,l),Gv(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},t.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function Yv(l,d,m){Qv(l,d),0<m.length&&(l.i=null,l.g.set(ls(l,d),E(m)),l.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var m=0;m<d.length;m++){var I=d[m];const D=encodeURIComponent(String(I)),q=this.V(I);for(I=0;I<q.length;I++){var N=D;q[I]!==""&&(N+="="+encodeURIComponent(String(q[I]))),l.push(N)}}return this.i=l.join("&")};function ls(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function S1(l,d){d&&!l.j&&(Cr(l),l.i=null,l.g.forEach(function(m,I){var N=I.toLowerCase();I!=N&&(Qv(this,I),Yv(this,N,m))},l)),l.j=d}function T1(l,d){const m=new Co;if(a.Image){const I=new Image;I.onload=g(kr,m,"TestLoadImage: loaded",!0,d,I),I.onerror=g(kr,m,"TestLoadImage: error",!1,d,I),I.onabort=g(kr,m,"TestLoadImage: abort",!1,d,I),I.ontimeout=g(kr,m,"TestLoadImage: timeout",!1,d,I),a.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=l}else d(!1)}function I1(l,d){const m=new Co,I=new AbortController,N=setTimeout(()=>{I.abort(),kr(m,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:I.signal}).then(D=>{clearTimeout(N),D.ok?kr(m,"TestPingServer: ok",!0,d):kr(m,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(N),kr(m,"TestPingServer: error",!1,d)})}function kr(l,d,m,I,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),I(m)}catch{}}function R1(){this.g=new a1}function P1(l,d,m){const I=m||"";try{zv(l,function(N,D){let q=N;c(N)&&(q=Po(N)),d.push(I+D+"="+encodeURIComponent(q))})}catch(N){throw d.push(I+"type="+encodeURIComponent("_badmap")),N}}function jo(l){this.l=l.Ub||null,this.j=l.eb||!1}_(jo,Gh),jo.prototype.g=function(){return new il(this.l,this.j)},jo.prototype.i=function(l){return function(){return l}}({});function il(l,d){Qe.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(il,Qe),t=il.prototype,t.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,Lo(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fo(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Lo(this)),this.g&&(this.readyState=3,Lo(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Jv(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Jv(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?Fo(this):Lo(this),this.readyState==3&&Jv(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Fo(this))},t.Qa=function(l){this.g&&(this.response=l,Fo(this))},t.ga=function(){this.g&&Fo(this)};function Fo(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Lo(l)}t.setRequestHeader=function(l,d){this.u.append(l,d)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var m=d.next();!m.done;)m=m.value,l.push(m[0]+": "+m[1]),m=d.next();return l.join(`\r
`)};function Lo(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(il.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Xv(l){let d="";return j(l,function(m,I){d+=I,d+=":",d+=m,d+=`\r
`}),d}function of(l,d,m){e:{for(I in m){var I=!1;break e}I=!0}I||(m=Xv(m),typeof l=="string"?m!=null&&encodeURIComponent(String(m)):De(l,d,m))}function He(l){Qe.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(He,Qe);var b1=/^https?$/i,A1=["POST","PUT"];t=He.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,d,m,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xh.g(),this.v=this.o?bv(this.o):bv(Xh),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(D){Zv(this,D);return}if(l=m||"",m=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var N in I)m.set(N,I[N]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const D of I.keys())m.set(D,I.get(D));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(m.keys()).find(D=>D.toLowerCase()=="content-type"),N=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(A1,d,void 0))||I||N||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[D,q]of m)this.g.setRequestHeader(D,q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ny(this),this.u=!0,this.g.send(l),this.u=!1}catch(D){Zv(this,D)}};function Zv(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,ey(l),sl(l)}function ey(l){l.A||(l.A=!0,he(l,"complete"),he(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,he(this,"complete"),he(this,"abort"),sl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sl(this,!0)),He.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ty(this):this.bb())},t.bb=function(){ty(this)};function ty(l){if(l.h&&typeof o<"u"&&(!l.v[1]||or(l)!=4||l.Z()!=2)){if(l.u&&or(l)==4)an(l.Ea,0,l);else if(he(l,"readystatechange"),or(l)==4){l.h=!1;try{const q=l.Z();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var m;if(!(m=d)){var I;if(I=q===0){var N=String(l.D).match(Wv)[1]||null;!N&&a.self&&a.self.location&&(N=a.self.location.protocol.slice(0,-1)),I=!b1.test(N?N.toLowerCase():"")}m=I}if(m)he(l,"complete"),he(l,"success");else{l.m=6;try{var D=2<or(l)?l.g.statusText:""}catch{D=""}l.l=D+" ["+l.Z()+"]",ey(l)}}finally{sl(l)}}}}function sl(l,d){if(l.g){ny(l);const m=l.g,I=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||he(l,"ready");try{m.onreadystatechange=I}catch{}}}function ny(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function or(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<or(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),o1(d)}};function ry(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function O1(l){const d={};l=(l.g&&2<=or(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<l.length;I++){if(w(l[I]))continue;var m=b(l[I]);const N=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const D=d[N]||[];d[N]=D,D.push(m)}A(d,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mo(l,d,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||d}function iy(l){this.Aa=0,this.i=[],this.j=new Co,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Mo("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Mo("baseRetryDelayMs",5e3,l),this.cb=Mo("retryDelaySeedMs",1e4,l),this.Wa=Mo("forwardChannelMaxRetries",2,l),this.wa=Mo("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new $v(l&&l.concurrentRequestLimit),this.Da=new R1,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=iy.prototype,t.la=8,t.G=1,t.connect=function(l,d,m,I){Ft(0),this.W=l,this.H=d||{},m&&I!==void 0&&(this.H.OSID=m,this.H.OAID=I),this.F=this.X,this.I=dy(this,null,this.W),al(this)};function af(l){if(sy(l),l.G==3){var d=l.U++,m=sr(l.I);if(De(m,"SID",l.K),De(m,"RID",d),De(m,"TYPE","terminate"),$o(l,m),d=new Or(l,l.j,d),d.L=2,d.v=rl(sr(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=d.v,m=!0),m||(d.g=py(d.j,null),d.g.ea(d.v)),d.F=Date.now(),el(d)}fy(l)}function ol(l){l.g&&(lf(l),l.g.cancel(),l.g=null)}function sy(l){ol(l),l.u&&(a.clearTimeout(l.u),l.u=null),ul(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function al(l){if(!Vv(l.h)&&!l.s){l.s=!0;var d=l.Ga;ve||te(),B||(ve(),B=!0),G.add(d,l),l.B=0}}function C1(l,d){return Uv(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Oo(p(l.Ga,l,d),hy(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const N=new Or(this,this.j,l);let D=this.o;if(this.S&&(D?(D=v(D),T(D,this.S)):D=this.S),this.m!==null||this.O||(N.H=D,D=null),this.P)e:{for(var d=0,m=0;m<this.i.length;m++){t:{var I=this.i[m];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(d+=I,4096<d){d=m;break e}if(d===4096||m===this.i.length-1){d=m+1;break e}}d=1e3}else d=1e3;d=ay(this,N,d),m=sr(this.I),De(m,"RID",l),De(m,"CVER",22),this.D&&De(m,"X-HTTP-Session-Id",this.D),$o(this,m),D&&(this.O?d="headers="+encodeURIComponent(String(Xv(D)))+"&"+d:this.m&&of(m,this.m,D)),sf(this.h,N),this.Ua&&De(m,"TYPE","init"),this.P?(De(m,"$req",d),De(m,"SID","null"),N.T=!0,ef(N,m,null)):ef(N,m,d),this.G=2}}else this.G==3&&(l?oy(this,l):this.i.length==0||Vv(this.h)||oy(this))};function oy(l,d){var m;d?m=d.l:m=l.U++;const I=sr(l.I);De(I,"SID",l.K),De(I,"RID",m),De(I,"AID",l.T),$o(l,I),l.m&&l.o&&of(I,l.m,l.o),m=new Or(l,l.j,m,l.B+1),l.m===null&&(m.H=l.o),d&&(l.i=d.D.concat(l.i)),d=ay(l,m,1e3),m.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),sf(l.h,m),ef(m,I,d)}function $o(l,d){l.H&&j(l.H,function(m,I){De(d,I,m)}),l.l&&zv({},function(m,I){De(d,I,m)})}function ay(l,d,m){m=Math.min(l.i.length,m);var I=l.l?p(l.l.Na,l.l,l):null;e:{var N=l.i;let D=-1;for(;;){const q=["count="+m];D==-1?0<m?(D=N[0].g,q.push("ofs="+D)):D=0:q.push("ofs="+D);let Ae=!0;for(let mt=0;mt<m;mt++){let ye=N[mt].g;const It=N[mt].map;if(ye-=D,0>ye)D=Math.max(0,N[mt].g-100),Ae=!1;else try{P1(It,q,"req"+ye+"_")}catch{I&&I(It)}}if(Ae){I=q.join("&");break e}}}return l=l.i.splice(0,m),d.D=l,I}function uy(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;ve||te(),B||(ve(),B=!0),G.add(d,l),l.v=0}}function uf(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Oo(p(l.Fa,l),hy(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,ly(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Oo(p(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ft(10),ol(this),ly(this))};function lf(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function ly(l){l.g=new Or(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=sr(l.qa);De(d,"RID","rpc"),De(d,"SID",l.K),De(d,"AID",l.T),De(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&De(d,"TO",l.ja),De(d,"TYPE","xmlhttp"),$o(l,d),l.m&&l.o&&of(d,l.m,l.o),l.L&&(l.g.I=l.L);var m=l.g;l=l.ia,m.L=1,m.v=rl(sr(d)),m.m=null,m.P=!0,Fv(m,l)}t.Za=function(){this.C!=null&&(this.C=null,ol(this),uf(this),Ft(19))};function ul(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function cy(l,d){var m=null;if(l.g==d){ul(l),lf(l),l.g=null;var I=2}else if(rf(l.h,d))m=d.D,Hv(l.h,d),I=1;else return;if(l.G!=0){if(d.o)if(I==1){m=d.m?d.m.length:0,d=Date.now()-d.F;var N=l.B;I=Ju(),he(I,new xv(I,m)),al(l)}else uy(l);else if(N=d.s,N==3||N==0&&0<d.X||!(I==1&&C1(l,d)||I==2&&uf(l)))switch(m&&0<m.length&&(d=l.h,d.i=d.i.concat(m)),N){case 1:Ii(l,5);break;case 4:Ii(l,10);break;case 3:Ii(l,6);break;default:Ii(l,2)}}}function hy(l,d){let m=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(m*=2),m*d}function Ii(l,d){if(l.j.info("Error code "+d),d==2){var m=p(l.fb,l),I=l.Xa;const N=!I;I=new Ti(I||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||tl(I,"https"),rl(I),N?T1(I.toString(),m):I1(I.toString(),m)}else Ft(2);l.G=0,l.l&&l.l.sa(d),fy(l),sy(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Ft(2)):(this.j.info("Failed to ping google.com"),Ft(1))};function fy(l){if(l.G=0,l.ka=[],l.l){const d=Bv(l.h);(d.length!=0||l.i.length!=0)&&(R(l.ka,d),R(l.ka,l.i),l.h.i.length=0,E(l.i),l.i.length=0),l.l.ra()}}function dy(l,d,m){var I=m instanceof Ti?sr(m):new Ti(m);if(I.g!="")d&&(I.g=d+"."+I.g),nl(I,I.s);else{var N=a.location;I=N.protocol,d=d?d+"."+N.hostname:N.hostname,N=+N.port;var D=new Ti(null);I&&tl(D,I),d&&(D.g=d),N&&nl(D,N),m&&(D.l=m),I=D}return m=l.D,d=l.ya,m&&d&&De(I,m,d),De(I,"VER",l.la),$o(l,I),I}function py(l,d,m){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new He(new jo({eb:m})):new He(l.pa),d.Ha(l.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function my(){}t=my.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ll(){}ll.prototype.g=function(l,d){return new un(l,d)};function un(l,d){Qe.call(this),this.g=new iy(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!w(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!w(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new cs(this)}_(un,Qe),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){af(this.g)},un.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var m={};m.__data__=l,l=m}else this.u&&(m={},m.__data__=Po(l),l=m);d.i.push(new d1(d.Ya++,l)),d.G==3&&al(d)},un.prototype.N=function(){this.g.l=null,delete this.j,af(this.g),delete this.g,un.aa.N.call(this)};function gy(l){Yh.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const m in d){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}_(gy,Yh);function vy(){Jh.call(this),this.status=1}_(vy,Jh);function cs(l){this.g=l}_(cs,my),cs.prototype.ua=function(){he(this.g,"a")},cs.prototype.ta=function(l){he(this.g,new gy(l))},cs.prototype.sa=function(l){he(this.g,new vy)},cs.prototype.ra=function(){he(this.g,"b")},ll.prototype.createWebChannel=ll.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,mI=function(){return new ll},pI=function(){return Ju()},dI=Ei,vp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xu.NO_ERROR=0,Xu.TIMEOUT=8,Xu.HTTP_ERROR=6,Xl=Xu,Nv.COMPLETE="complete",fI=Nv,Av.EventType=bo,bo.OPEN="a",bo.CLOSE="b",bo.ERROR="c",bo.MESSAGE="d",Qe.prototype.listen=Qe.prototype.K,oa=Av,hI=jo,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,cI=He}).apply(typeof Al<"u"?Al:typeof self<"u"?self:typeof window<"u"?window:{});const q_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ot.UNAUTHENTICATED=new Ot(null),Ot.GOOGLE_CREDENTIALS=new Ot("google-credentials-uid"),Ot.FIRST_PARTY=new Ot("first-party-uid"),Ot.MOCK_USER=new Ot("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wo="10.13.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi=new Lu("@firebase/firestore");function Qo(){return Yi.logLevel}function J(t,...e){if(Yi.logLevel<=fe.DEBUG){const n=e.map(_g);Yi.debug(`Firestore (${wo}): ${t}`,...n)}}function Tr(t,...e){if(Yi.logLevel<=fe.ERROR){const n=e.map(_g);Yi.error(`Firestore (${wo}): ${t}`,...n)}}function Zs(t,...e){if(Yi.logLevel<=fe.WARN){const n=e.map(_g);Yi.warn(`Firestore (${wo}): ${t}`,...n)}}function _g(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(t="Unexpected state"){const e=`FIRESTORE (${wo}) INTERNAL ASSERTION FAILED: `+t;throw Tr(e),new Error(e)}function it(t,e){t||ae()}function pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ee extends Pn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $x{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ot.UNAUTHENTICATED))}shutdown(){}}class Vx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Ux{constructor(e){this.t=e,this.currentUser=Ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new si;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new si,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{J("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(J("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new si)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(J("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(it(typeof r.accessToken=="string"),new gI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string"),new Ot(e)}}class Hx{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ot.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Bx{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Hx(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Wx{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&J("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,J("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{J("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):J("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(it(typeof n.token=="string"),this.R=n.token,new zx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=qx(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ee(t,e){return t<e?-1:t>e?1:0}function eo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ee(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ee(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ee(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ee(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return en.fromMillis(Date.now())}static fromDate(e){return en.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new en(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ee(this.nanoseconds,e.nanoseconds):Ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new oe(e)}static min(){return new oe(new en(0,0))}static max(){return new oe(new en(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,n,r){n===void 0?n=0:n>e.length&&ae(),r===void 0?r=e.length-n:r>e.length-n&&ae(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ja.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ja?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Me extends Ja{construct(e,n,r){return new Me(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ee(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Me(n)}static emptyPath(){return new Me([])}}const Kx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vt extends Ja{construct(e,n,r){return new Vt(e,n,r)}static isValidIdentifier(e){return Kx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Vt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ee(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ee(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ee(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ee(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vt(n)}static emptyPath(){return new Vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.path=e}static fromPath(e){return new ne(Me.fromString(e))}static fromName(e){return new ne(Me.fromString(e).popFirst(5))}static empty(){return new ne(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ne(new Me(e.slice()))}}function Qx(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=oe.fromTimestamp(r===1e9?new en(n+1,0):new en(n,r));return new ci(i,ne.empty(),e)}function Gx(t){return new ci(t.readTime,t.key,-1)}class ci{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ci(oe.min(),ne.empty(),-1)}static max(){return new ci(oe.max(),ne.empty(),-1)}}function Yx(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:Ee(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Xx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wg(t){if(t.code!==K.FAILED_PRECONDITION||t.message!==Jx)throw t;J("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(i=>i?U.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new U((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(h=>{o[c]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new U((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Zx(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $u(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Eg.oe=-1;function bh(t){return t==null}function yp(t){return t===0&&1/t==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ah(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function eN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,n){this.comparator=e,this.root=n||_t.EMPTY}insert(e,n){return new Xe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_t.BLACK,null,null))}remove(e){return new Xe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ol(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ol(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ol(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ol(this.root,e,this.comparator,!0)}}class Ol{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??_t.RED,this.left=i??_t.EMPTY,this.right=s??_t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new _t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return _t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return _t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ae();const e=this.left.check();if(e!==this.right.check())throw ae();return e+(this.isRed()?0:1)}}_t.EMPTY=null,_t.RED=!0,_t.BLACK=!1;_t.EMPTY=new class{constructor(){this.size=0}get key(){throw ae()}get value(){throw ae()}get color(){throw ae()}get left(){throw ae()}get right(){throw ae()}copy(e,n,r,i,s){return this}insert(e,n,r){return new _t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.comparator=e,this.data=new Xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Q_(this.data.getIterator())}getIteratorFrom(e){return new Q_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Et)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Et(this.comparator);return n.data=e,n}}class Q_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e){this.fields=e,e.sort(Vt.comparator)}static empty(){return new Wr([])}unionWith(e){let n=new Et(Vt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Wr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return eo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new yI("Invalid base64 string: "+s):s}}(e);return new Tt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Tt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tt.EMPTY_BYTE_STRING=new Tt("");const tN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hi(t){if(it(!!t),typeof t=="string"){let e=0;const n=tN.exec(t);if(it(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ge(t.seconds),nanos:Ge(t.nanos)}}function Ge(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ji(t){return typeof t=="string"?Tt.fromBase64String(t):Tt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Tg(t){const e=t.mapValue.fields.__previous_value__;return Sg(e)?Tg(e):e}function Xa(t){const e=hi(t.mapValue.fields.__local_write_time__.timestampValue);return new en(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Za{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Za("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Za&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Xi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Sg(t)?4:iN(t)?9007199254740991:rN(t)?10:11:ae()}function er(t,e){if(t===e)return!0;const n=Xi(t);if(n!==Xi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xa(t).isEqual(Xa(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=hi(i.timestampValue),a=hi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ji(i.bytesValue).isEqual(Ji(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ge(i.geoPointValue.latitude)===Ge(s.geoPointValue.latitude)&&Ge(i.geoPointValue.longitude)===Ge(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ge(i.integerValue)===Ge(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ge(i.doubleValue),a=Ge(s.doubleValue);return o===a?yp(o)===yp(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return eo(t.arrayValue.values||[],e.arrayValue.values||[],er);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(K_(o)!==K_(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!er(o[u],a[u])))return!1;return!0}(t,e);default:return ae()}}function eu(t,e){return(t.values||[]).find(n=>er(n,e))!==void 0}function to(t,e){if(t===e)return 0;const n=Xi(t),r=Xi(e);if(n!==r)return Ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ee(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Ge(s.integerValue||s.doubleValue),u=Ge(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return G_(t.timestampValue,e.timestampValue);case 4:return G_(Xa(t),Xa(e));case 5:return Ee(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Ji(s),u=Ji(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const h=Ee(a[c],u[c]);if(h!==0)return h}return Ee(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ee(Ge(s.latitude),Ge(o.latitude));return a!==0?a:Ee(Ge(s.longitude),Ge(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Y_(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,c,h;const f=s.fields||{},p=o.fields||{},g=(a=f.value)===null||a===void 0?void 0:a.arrayValue,_=(u=p.value)===null||u===void 0?void 0:u.arrayValue,E=Ee(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((h=_==null?void 0:_.values)===null||h===void 0?void 0:h.length)||0);return E!==0?E:Y_(g,_)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Cl.mapValue&&o===Cl.mapValue)return 0;if(s===Cl.mapValue)return 1;if(o===Cl.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),c=o.fields||{},h=Object.keys(c);u.sort(),h.sort();for(let f=0;f<u.length&&f<h.length;++f){const p=Ee(u[f],h[f]);if(p!==0)return p;const g=to(a[u[f]],c[h[f]]);if(g!==0)return g}return Ee(u.length,h.length)}(t.mapValue,e.mapValue);default:throw ae()}}function G_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ee(t,e);const n=hi(t),r=hi(e),i=Ee(n.seconds,r.seconds);return i!==0?i:Ee(n.nanos,r.nanos)}function Y_(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=to(n[i],r[i]);if(s)return s}return Ee(n.length,r.length)}function no(t){return _p(t)}function _p(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=hi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ji(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=_p(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${_p(n.fields[o])}`;return i+"}"}(t.mapValue):ae()}function wp(t){return!!t&&"integerValue"in t}function Ig(t){return!!t&&"arrayValue"in t}function J_(t){return!!t&&"nullValue"in t}function X_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Bf(t){return!!t&&"mapValue"in t}function rN(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Sa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ah(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Sa(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Sa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function iN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.value=e}static empty(){return new Kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Bf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sa(n)}setAll(e){let n=Vt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Sa(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Bf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return er(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Bf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ah(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Kn(Sa(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new kt(e,0,oe.min(),oe.min(),oe.min(),Kn.empty(),0)}static newFoundDocument(e,n,r,i){return new kt(e,1,n,oe.min(),r,i,0)}static newNoDocument(e,n){return new kt(e,2,n,oe.min(),oe.min(),Kn.empty(),0)}static newUnknownDocument(e,n){return new kt(e,3,n,oe.min(),oe.min(),Kn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,n){this.position=e,this.inclusive=n}}function Z_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ne.comparator(ne.fromName(o.referenceValue),n.key):r=to(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function e0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!er(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,n="asc"){this.field=e,this.dir=n}}function sN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{}class at extends _I{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new aN(e,n,r):n==="array-contains"?new cN(e,r):n==="in"?new hN(e,r):n==="not-in"?new fN(e,r):n==="array-contains-any"?new dN(e,r):new at(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new uN(e,r):new lN(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(to(n,this.value)):n!==null&&Xi(this.value)===Xi(n)&&this.matchesComparison(to(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class tr extends _I{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new tr(e,n)}matches(e){return wI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function wI(t){return t.op==="and"}function EI(t){return oN(t)&&wI(t)}function oN(t){for(const e of t.filters)if(e instanceof tr)return!1;return!0}function Ep(t){if(t instanceof at)return t.field.canonicalString()+t.op.toString()+no(t.value);if(EI(t))return t.filters.map(e=>Ep(e)).join(",");{const e=t.filters.map(n=>Ep(n)).join(",");return`${t.op}(${e})`}}function SI(t,e){return t instanceof at?function(r,i){return i instanceof at&&r.op===i.op&&r.field.isEqual(i.field)&&er(r.value,i.value)}(t,e):t instanceof tr?function(r,i){return i instanceof tr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&SI(o,i.filters[a]),!0):!1}(t,e):void ae()}function TI(t){return t instanceof at?function(n){return`${n.field.canonicalString()} ${n.op} ${no(n.value)}`}(t):t instanceof tr?function(n){return n.op.toString()+" {"+n.getFilters().map(TI).join(" ,")+"}"}(t):"Filter"}class aN extends at{constructor(e,n,r){super(e,n,r),this.key=ne.fromName(r.referenceValue)}matches(e){const n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class uN extends at{constructor(e,n){super(e,"in",n),this.keys=II("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class lN extends at{constructor(e,n){super(e,"not-in",n),this.keys=II("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function II(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ne.fromName(r.referenceValue))}class cN extends at{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ig(n)&&eu(n.arrayValue,this.value)}}class hN extends at{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&eu(this.value.arrayValue,n)}}class fN extends at{constructor(e,n){super(e,"not-in",n)}matches(e){if(eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!eu(this.value.arrayValue,n)}}class dN extends at{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ig(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>eu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function t0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new pN(t,e,n,r,i,s,o)}function Rg(t){const e=pe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ep(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),bh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>no(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>no(r)).join(",")),e.ue=n}return e.ue}function Pg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!sN(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!SI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!e0(t.startAt,e.startAt)&&e0(t.endAt,e.endAt)}function Sp(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function mN(t,e,n,r,i,s,o,a){return new Oh(t,e,n,r,i,s,o,a)}function bg(t){return new Oh(t)}function n0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function gN(t){return t.collectionGroup!==null}function Ta(t){const e=pe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Et(Vt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Mc(s,r))}),n.has(Vt.keyField().canonicalString())||e.ce.push(new Mc(Vt.keyField(),r))}return e.ce}function Jn(t){const e=pe(t);return e.le||(e.le=vN(e,Ta(t))),e.le}function vN(t,e){if(t.limitType==="F")return t0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Mc(i.field,s)});const n=t.endAt?new Lc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Lc(t.startAt.position,t.startAt.inclusive):null;return t0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Tp(t,e,n){return new Oh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ch(t,e){return Pg(Jn(t),Jn(e))&&t.limitType===e.limitType}function RI(t){return`${Rg(Jn(t))}|lt:${t.limitType}`}function ds(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>TI(i)).join(", ")}]`),bh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>no(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>no(i)).join(",")),`Target(${r})`}(Jn(t))}; limitType=${t.limitType})`}function kh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ne.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ta(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){const c=Z_(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,Ta(r),i)||r.endAt&&!function(o,a,u){const c=Z_(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,Ta(r),i))}(t,e)}function yN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function PI(t){return(e,n)=>{let r=!1;for(const i of Ta(t)){const s=_N(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function _N(t,e,n){const r=t.field.isKeyField()?ne.comparator(e.key,n.key):function(s,o,a){const u=o.data.field(s),c=a.data.field(s);return u!==null&&c!==null?to(u,c):ae()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ah(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return eN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=new Xe(ne.comparator);function fi(){return wN}const bI=new Xe(ne.comparator);function aa(...t){let e=bI;for(const n of t)e=e.insert(n.key,n);return e}function EN(t){let e=bI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Fi(){return Ia()}function AI(){return Ia()}function Ia(){return new Eo(t=>t.toString(),(t,e)=>t.isEqual(e))}const SN=new Et(ne.comparator);function me(...t){let e=SN;for(const n of t)e=e.add(n);return e}const TN=new Et(Ee);function IN(){return TN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yp(e)?"-0":e}}function PN(t){return{integerValue:""+t}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(){this._=void 0}}function bN(t,e,n){return t instanceof Ip?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Sg(s)&&(s=Tg(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof $c?OI(t,e):t instanceof Vc?CI(t,e):function(i,s){const o=ON(i,s),a=r0(o)+r0(i.Pe);return wp(o)&&wp(i.Pe)?PN(a):RN(i.serializer,a)}(t,e)}function AN(t,e,n){return t instanceof $c?OI(t,e):t instanceof Vc?CI(t,e):n}function ON(t,e){return t instanceof Rp?function(r){return wp(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Ip extends xh{}class $c extends xh{constructor(e){super(),this.elements=e}}function OI(t,e){const n=kI(e);for(const r of t.elements)n.some(i=>er(i,r))||n.push(r);return{arrayValue:{values:n}}}class Vc extends xh{constructor(e){super(),this.elements=e}}function CI(t,e){let n=kI(e);for(const r of t.elements)n=n.filter(i=>!er(i,r));return{arrayValue:{values:n}}}class Rp extends xh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function r0(t){return Ge(t.integerValue||t.doubleValue)}function kI(t){return Ig(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function CN(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof $c&&i instanceof $c||r instanceof Vc&&i instanceof Vc?eo(r.elements,i.elements,er):r instanceof Rp&&i instanceof Rp?er(r.Pe,i.Pe):r instanceof Ip&&i instanceof Ip}(t.transform,e.transform)}class Bi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Bi}static exists(e){return new Bi(void 0,e)}static updateTime(e){return new Bi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ag{}function xI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new xN(t.key,Bi.none()):new Og(t.key,t.data,Bi.none());{const n=t.data,r=Kn.empty();let i=new Et(Vt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Nh(t.key,r,new Wr(i.toArray()),Bi.none())}}function kN(t,e,n){t instanceof Og?function(i,s,o){const a=i.value.clone(),u=s0(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Nh?function(i,s,o){if(!Zl(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=s0(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(NI(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ra(t,e,n,r){return t instanceof Og?function(s,o,a,u){if(!Zl(s.precondition,o))return a;const c=s.value.clone(),h=o0(s.fieldTransforms,u,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Nh?function(s,o,a,u){if(!Zl(s.precondition,o))return a;const c=o0(s.fieldTransforms,u,o),h=o.data;return h.setAll(NI(s)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return Zl(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function i0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&eo(r,i,(s,o)=>CN(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Og extends Ag{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Nh extends Ag{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function NI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function s0(t,e,n){const r=new Map;it(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,AN(o,a,n[i]))}return r}function o0(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,bN(s,o,e))}return r}class xN extends Ag{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&kN(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ra(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ra(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=AI();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=xI(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(oe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),me())}isEqual(e){return this.batchId===e.batchId&&eo(this.mutations,e.mutations,(n,r)=>i0(n,r))&&eo(this.baseMutations,e.baseMutations,(n,r)=>i0(n,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt,de;function DI(t){if(t===void 0)return Tr("GRPC error has no .code"),K.UNKNOWN;switch(t){case tt.OK:return K.OK;case tt.CANCELLED:return K.CANCELLED;case tt.UNKNOWN:return K.UNKNOWN;case tt.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case tt.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case tt.INTERNAL:return K.INTERNAL;case tt.UNAVAILABLE:return K.UNAVAILABLE;case tt.UNAUTHENTICATED:return K.UNAUTHENTICATED;case tt.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case tt.NOT_FOUND:return K.NOT_FOUND;case tt.ALREADY_EXISTS:return K.ALREADY_EXISTS;case tt.PERMISSION_DENIED:return K.PERMISSION_DENIED;case tt.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case tt.ABORTED:return K.ABORTED;case tt.OUT_OF_RANGE:return K.OUT_OF_RANGE;case tt.UNIMPLEMENTED:return K.UNIMPLEMENTED;case tt.DATA_LOSS:return K.DATA_LOSS;default:return ae()}}(de=tt||(tt={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=new Hi([4294967295,4294967295],0);function a0(t){const e=FN().encode(t),n=new lI;return n.update(e),new Uint8Array(n.digest())}function u0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Hi([n,r],0),new Hi([i,s],0)]}class Cg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ua(`Invalid padding: ${n}`);if(r<0)throw new ua(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ua(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ua(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Hi.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Hi.fromNumber(r)));return i.compare(LN)===1&&(i=new Hi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=a0(e),[r,i]=u0(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Cg(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=a0(e),[r,i]=u0(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ua extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Vu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Dh(oe.min(),i,new Xe(Ee),fi(),me())}}class Vu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Vu(r,n,me(),me(),me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class jI{constructor(e,n){this.targetId=e,this.me=n}}class FI{constructor(e,n,r=Tt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class l0{constructor(){this.fe=0,this.ge=h0(),this.pe=Tt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=me(),n=me(),r=me();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ae()}}),new Vu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=h0()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,it(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class MN{constructor(e){this.Le=e,this.Be=new Map,this.ke=fi(),this.qe=c0(),this.Qe=new Xe(Ee)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ae()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Sp(s))if(r===0){const o=new ne(s.path);this.Ue(n,o,kt.newNoDocument(o,oe.min()))}else it(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Ji(r).toUint8Array()}catch(u){if(u instanceof yI)return Zs("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Cg(o,i,s)}catch(u){return Zs(u instanceof ua?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Sp(a.target)){const u=new ne(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,kt.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=me();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Dh(e,n,this.Qe,this.ke,r);return this.ke=fi(),this.qe=c0(),this.Qe=new Xe(Ee),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new l0,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Et(Ee),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||J("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new l0),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function c0(){return new Xe(ne.comparator)}function h0(){return new Xe(ne.comparator)}const $N={asc:"ASCENDING",desc:"DESCENDING"},VN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UN={and:"AND",or:"OR"};class HN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Pp(t,e){return t.useProto3Json||bh(e)?e:{value:e}}function BN(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Vs(t){return it(!!t),oe.fromTimestamp(function(n){const r=hi(n);return new en(r.seconds,r.nanos)}(t))}function WN(t,e){return bp(t,e).canonicalString()}function bp(t,e){const n=function(i){return new Me(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function LI(t){const e=Me.fromString(t);return it(HI(e)),e}function zf(t,e){const n=LI(e);if(n.get(1)!==t.databaseId.projectId)throw new ee(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ee(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne($I(n))}function MI(t,e){return WN(t.databaseId,e)}function qN(t){const e=LI(t);return e.length===4?Me.emptyPath():$I(e)}function f0(t){return new Me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $I(t){return it(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function KN(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(it(h===void 0||typeof h=="string"),Tt.fromBase64String(h||"")):(it(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Tt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?K.UNKNOWN:DI(c.code);return new ee(h,c.message||"")}(o);n=new FI(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=zf(t,r.document.name),s=Vs(r.document.updateTime),o=r.document.createTime?Vs(r.document.createTime):oe.min(),a=new Kn({mapValue:{fields:r.document.fields}}),u=kt.newFoundDocument(i,s,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new ec(c,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=zf(t,r.document),s=r.readTime?Vs(r.readTime):oe.min(),o=kt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new ec([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=zf(t,r.document),s=r.removedTargetIds||[];n=new ec([],s,i,null)}else{if(!("filter"in e))return ae();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new jN(i,s),a=r.targetId;n=new jI(a,o)}}return n}function QN(t,e){return{documents:[MI(t,e.path)]}}function GN(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=MI(t,i);const s=function(c){if(c.length!==0)return UI(tr.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(h=>function(p){return{field:ps(p.field),direction:XN(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Pp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function YN(t){let e=qN(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){it(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(f){const p=VI(f);return p instanceof tr&&EI(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(_){return new Mc(ms(_.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,bh(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(f){const p=!!f.before,g=f.values||[];return new Lc(g,p)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const p=!f.before,g=f.values||[];return new Lc(g,p)}(n.endAt)),mN(e,i,o,s,a,"F",u,c)}function JN(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ae()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function VI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ms(n.unaryFilter.field);return at.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ms(n.unaryFilter.field);return at.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ms(n.unaryFilter.field);return at.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ms(n.unaryFilter.field);return at.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ae()}}(t):t.fieldFilter!==void 0?function(n){return at.create(ms(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ae()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return tr.create(n.compositeFilter.filters.map(r=>VI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ae()}}(n.compositeFilter.op))}(t):ae()}function XN(t){return $N[t]}function ZN(t){return VN[t]}function eD(t){return UN[t]}function ps(t){return{fieldPath:t.canonicalString()}}function ms(t){return Vt.fromServerFormat(t.fieldPath)}function UI(t){return t instanceof at?function(n){if(n.op==="=="){if(X_(n.value))return{unaryFilter:{field:ps(n.field),op:"IS_NAN"}};if(J_(n.value))return{unaryFilter:{field:ps(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(X_(n.value))return{unaryFilter:{field:ps(n.field),op:"IS_NOT_NAN"}};if(J_(n.value))return{unaryFilter:{field:ps(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ps(n.field),op:ZN(n.op),value:n.value}}}(t):t instanceof tr?function(n){const r=n.getFilters().map(i=>UI(i));return r.length===1?r[0]:{compositeFilter:{op:eD(n.op),filters:r}}}(t):ae()}function HI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,n,r,i,s=oe.min(),o=oe.min(),a=Tt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new qr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e){this.ct=e}}function nD(t){const e=YN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Tp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(){this.un=new iD}addToCollectionParentIndex(e,n){return this.un.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(ci.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(ci.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class iD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Et(Me.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Et(Me.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ro(0)}static kn(){return new ro(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(){this.changes=new Eo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,kt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ra(r.mutation,i,Wr.empty(),en.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,me()).next(()=>r))}getLocalViewOfDocuments(e,n,r=me()){const i=Fi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=aa();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Fi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,me()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=fi();const o=Ia(),a=function(){return Ia()}();return n.forEach((u,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof Nh)?s=s.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),Ra(h.mutation,c,h.mutation.getFieldMask(),en.now())):o.set(c.key,Wr.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var f;return a.set(c,new oD(h,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ia();let i=new Xe((o,a)=>o-a),s=me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let h=r.get(u)||Wr.empty();h=a.applyToLocalView(c,h),r.set(u,h);const f=(i.get(a.batchId)||me()).add(u);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,h=u.value,f=AI();h.forEach(p=>{if(!s.has(p)){const g=xI(n.get(p),r.get(p));g!==null&&f.set(p,g),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ne.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):gN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):U.resolve(Fi());let a=-1,u=s;return o.next(c=>U.forEach(c,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(h)?U.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{u=u.insert(h,p)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,me())).next(h=>({batchId:a,changes:EN(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(r=>{let i=aa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=aa();return this.indexManager.getCollectionParents(e,s).next(a=>U.forEach(a,u=>{const c=function(f,p){return new Oh(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,kt.newInvalidDocument(h)))});let a=aa();return o.forEach((u,c)=>{const h=s.get(u);h!==void 0&&Ra(h.mutation,c,Wr.empty(),en.now()),kh(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return U.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Vs(i.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:nD(i.bundledQuery),readTime:Vs(i.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(){this.overlays=new Xe(ne.comparator),this.Ir=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Fi();return U.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const i=Fi(),s=n.length+1,o=new ne(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return U.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Xe((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=Fi(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=Fi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=i)););return U.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new DN(n,r));let s=this.Ir.get(n);s===void 0&&(s=me(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(){this.sessionToken=Tt.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(){this.Tr=new Et(ht.Er),this.dr=new Et(ht.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new ht(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new ht(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ne(new Me([])),r=new ht(n,e),i=new ht(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ne(new Me([])),r=new ht(n,e),i=new ht(n,e+1);let s=me();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ht(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ht{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ne.comparator(e.key,n.key)||Ee(e.wr,n.wr)}static Ar(e,n){return Ee(e.wr,n.wr)||ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Et(ht.Er)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new NN(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new ht(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return U.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ht(n,0),i=new ht(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),U.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Et(Ee);return n.forEach(i=>{const s=new ht(i,0),o=new ht(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),U.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ne.isDocumentKey(s)||(s=s.child(""));const o=new ht(new ne(s),0);let a=new Et(Ee);return this.br.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.wr)),!0)},o),U.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){it(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return U.forEach(n.mutations,i=>{const s=new ht(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new ht(n,0),i=this.br.firstAfterOrEqual(r);return U.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e){this.Mr=e,this.docs=function(){return new Xe(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():kt.newInvalidDocument(n))}getEntries(e,n){let r=fi();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():kt.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=fi();const o=n.path,a=new ne(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:h}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Yx(Gx(h),r)<=0||(i.has(h.key)||kh(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return U.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ae()}Or(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new dD(this)}getSize(e){return U.resolve(this.size)}}class dD extends sD{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e){this.persistence=e,this.Nr=new Eo(n=>Rg(n),Pg),this.lastRemoteSnapshotVersion=oe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new kg,this.targetCount=0,this.kr=ro.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),U.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new ro(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Kn(n),U.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),U.waitFor(s).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),U.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Eg(0),this.Kr=!1,this.Kr=!0,this.$r=new cD,this.referenceDelegate=e(this),this.Ur=new pD(this),this.indexManager=new rD,this.remoteDocumentCache=function(i){return new fD(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new tD(n),this.Gr=new uD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new lD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new hD(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){J("MemoryPersistence","Starting transaction:",e);const i=new gD(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return U.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class gD extends Xx{constructor(e){super(),this.currentSequenceNumber=e}}class xg{constructor(e){this.persistence=e,this.Jr=new kg,this.Yr=null}static Zr(e){return new xg(e)}get Xr(){if(this.Yr)return this.Yr;throw ae()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),U.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Xr,r=>{const i=ne.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,oe.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return U.or([()=>U.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=me(),i=me();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Ng(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return wk()?8:Zx(Nt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new vD;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Qo()<=fe.DEBUG&&J("QueryEngine","SDK will not create cache indexes for query:",ds(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),U.resolve()):(Qo()<=fe.DEBUG&&J("QueryEngine","Query:",ds(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Qo()<=fe.DEBUG&&J("QueryEngine","The SDK decides to create cache indexes for query:",ds(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jn(n))):U.resolve())}Yi(e,n){if(n0(n))return U.resolve(null);let r=Jn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Tp(n,null,"F"),r=Jn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=me(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ts(n,a);return this.ns(n,c,o,u.readTime)?this.Yi(e,Tp(n,null,"F")):this.rs(e,c,n,u)}))})))}Zi(e,n,r,i){return n0(n)||i.isEqual(oe.min())?U.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?U.resolve(null):(Qo()<=fe.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ds(n)),this.rs(e,o,n,Qx(i,-1)).next(a=>a))})}ts(e,n){let r=new Et(PI(e));return n.forEach((i,s)=>{kh(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Qo()<=fe.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",ds(n)),this.Ji.getDocumentsMatchingQuery(e,n,ci.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Xe(Ee),this._s=new Eo(s=>Rg(s),Pg),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aD(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function wD(t,e,n,r){return new _D(t,e,n,r)}async function BI(t,e){const n=pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=me();for(const c of i){o.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}for(const c of s){a.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function zI(t){const e=pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function ED(t,e){const n=pe(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((h,f)=>{const p=i.get(f);if(!p)return;a.push(n.Ur.removeMatchingKeys(s,h.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(s,h.addedDocuments,f)));let g=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(Tt.EMPTY_BYTE_STRING,oe.min()).withLastLimboFreeSnapshotVersion(oe.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),i=i.insert(f,g),function(E,R,y){return E.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(p,g,h)&&a.push(n.Ur.updateTargetData(s,g))});let u=fi(),c=me();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(SD(s,o,e.documentUpdates).next(h=>{u=h.Ps,c=h.Is})),!r.isEqual(oe.min())){const h=n.Ur.getLastRemoteSnapshotVersion(s).next(f=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return U.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.os=i,s))}function SD(t,e,n){let r=me(),i=me();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=fi();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(oe.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):J("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function TD(t,e){const n=pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,U.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new qr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Ap(t,e,n){const r=pe(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!$u(o))throw o;J("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function d0(t,e,n){const r=pe(t);let i=oe.min(),s=me();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,h){const f=pe(u),p=f._s.get(h);return p!==void 0?U.resolve(f.os.get(p)):f.Ur.getTargetData(c,h)}(r,o,Jn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:oe.min(),n?s:me())).next(a=>(ID(r,yN(e),a),{documents:a,Ts:s})))}function ID(t,e,n){let r=t.us.get(e)||oe.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class p0{constructor(){this.activeTargetIds=IN()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RD{constructor(){this.so=new p0,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new p0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){J("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){J("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kl=null;function Wf(){return kl===null?kl=function(){return 268435456+Math.round(2147483648*Math.random())}():kl++,"0x"+kl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const At="WebChannelConnection";class OD extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=Wf(),u=this.xo(n,r.toUriEncodedString());J("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(n,u,c,i).then(h=>(J("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Zs("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=bD[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Wf();return new Promise((o,a)=>{const u=new cI;u.setWithCredentials(!0),u.listenOnce(fI.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Xl.NO_ERROR:const h=u.getResponseJson();J(At,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case Xl.TIMEOUT:J(At,`RPC '${e}' ${s} timed out`),a(new ee(K.DEADLINE_EXCEEDED,"Request time out"));break;case Xl.HTTP_ERROR:const f=u.getStatus();if(J(At,`RPC '${e}' ${s} failed with status:`,f,"response text:",u.getResponseText()),f>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const _=function(R){const y=R.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(y)>=0?y:K.UNKNOWN}(g.status);a(new ee(_,g.message))}else a(new ee(K.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new ee(K.UNAVAILABLE,"Connection failed."));break;default:ae()}}finally{J(At,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);J(At,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=Wf(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=mI(),a=pI(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new hI({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=s.join("");J(At,`Creating RPC '${e}' stream ${i}: ${h}`,u);const f=o.createWebChannel(h,u);let p=!1,g=!1;const _=new AD({Io:R=>{g?J(At,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(p||(J(At,`Opening RPC '${e}' stream ${i} transport.`),f.open(),p=!0),J(At,`RPC '${e}' stream ${i} sending:`,R),f.send(R))},To:()=>f.close()}),E=(R,y,w)=>{R.listen(y,P=>{try{w(P)}catch(C){setTimeout(()=>{throw C},0)}})};return E(f,oa.EventType.OPEN,()=>{g||(J(At,`RPC '${e}' stream ${i} transport opened.`),_.yo())}),E(f,oa.EventType.CLOSE,()=>{g||(g=!0,J(At,`RPC '${e}' stream ${i} transport closed`),_.So())}),E(f,oa.EventType.ERROR,R=>{g||(g=!0,Zs(At,`RPC '${e}' stream ${i} transport errored:`,R),_.So(new ee(K.UNAVAILABLE,"The operation could not be completed")))}),E(f,oa.EventType.MESSAGE,R=>{var y;if(!g){const w=R.data[0];it(!!w);const P=w,C=P.error||((y=P[0])===null||y===void 0?void 0:y.error);if(C){J(At,`RPC '${e}' stream ${i} received error:`,C);const x=C.status;let j=function(S){const T=tt[S];if(T!==void 0)return DI(T)}(x),A=C.message;j===void 0&&(j=K.INTERNAL,A="Unknown error status: "+x+" with message "+C.message),g=!0,_.So(new ee(j,A)),f.close()}else J(At,`RPC '${e}' stream ${i} received:`,w),_.bo(w)}}),E(a,dI.STAT_EVENT,R=>{R.stat===vp.PROXY?J(At,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===vp.NOPROXY&&J(At,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.wo()},0),_}}function qf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(t){return new HN(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&J("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e,n,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new qI(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(Tr(n.toString()),Tr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ee(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return J("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(J("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kD extends CD{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=KN(this.serializer,e),r=function(s){if(!("targetChange"in s))return oe.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?oe.min():o.readTime?Vs(o.readTime):oe.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=f0(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=Sp(u)?{documents:QN(s,u)}:{query:GN(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=zN(s,o.resumeToken);const c=Pp(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(oe.min())>0){a.readTime=BN(s,o.snapshotVersion.toTimestamp());const c=Pp(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=JN(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=f0(this.serializer),n.removeTarget=e,this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ee(K.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,bp(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ee(K.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,bp(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ee(K.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class ND{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Tr(n),this.D_=!1):J("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Hu(this)&&(J("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=pe(u);c.L_.add(4),await Uu(c),c.q_.set("Unknown"),c.L_.delete(4),await jh(c)}(this))})}),this.q_=new ND(r,i)}}async function jh(t){if(Hu(t))for(const e of t.B_)await e(!0)}async function Uu(t){for(const e of t.B_)await e(!1)}function KI(t,e){const n=pe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Lg(n)?Fg(n):So(n).r_()&&jg(n,e))}function Dg(t,e){const n=pe(t),r=So(n);n.N_.delete(e),r.r_()&&QI(n,e),n.N_.size===0&&(r.r_()?r.o_():Hu(n)&&n.q_.set("Unknown"))}function jg(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}So(t).A_(e)}function QI(t,e){t.Q_.xe(e),So(t).R_(e)}function Fg(t){t.Q_=new MN({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),So(t).start(),t.q_.v_()}function Lg(t){return Hu(t)&&!So(t).n_()&&t.N_.size>0}function Hu(t){return pe(t).L_.size===0}function GI(t){t.Q_=void 0}async function jD(t){t.q_.set("Online")}async function FD(t){t.N_.forEach((e,n)=>{jg(t,e)})}async function LD(t,e){GI(t),Lg(t)?(t.q_.M_(e),Fg(t)):t.q_.set("Unknown")}async function MD(t,e,n){if(t.q_.set("Online"),e instanceof FI&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){J("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await g0(t,r)}else if(e instanceof ec?t.Q_.Ke(e):e instanceof jI?t.Q_.He(e):t.Q_.We(e),!n.isEqual(oe.min()))try{const r=await zI(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const h=s.N_.get(c);h&&s.N_.set(c,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const h=s.N_.get(u);if(!h)return;s.N_.set(u,h.withResumeToken(Tt.EMPTY_BYTE_STRING,h.snapshotVersion)),QI(s,u);const f=new qr(h.target,u,c,h.sequenceNumber);jg(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){J("RemoteStore","Failed to raise snapshot:",r),await g0(t,r)}}async function g0(t,e,n){if(!$u(e))throw e;t.L_.add(1),await Uu(t),t.q_.set("Offline"),n||(n=()=>zI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{J("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await jh(t)})}async function v0(t,e){const n=pe(t);n.asyncQueue.verifyOperationInProgress(),J("RemoteStore","RemoteStore received new credentials");const r=Hu(n);n.L_.add(3),await Uu(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await jh(n)}async function $D(t,e){const n=pe(t);e?(n.L_.delete(2),await jh(n)):e||(n.L_.add(2),await Uu(n),n.q_.set("Unknown"))}function So(t){return t.K_||(t.K_=function(n,r,i){const s=pe(n);return s.w_(),new kD(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:jD.bind(null,t),Ro:FD.bind(null,t),mo:LD.bind(null,t),d_:MD.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Lg(t)?Fg(t):t.q_.set("Unknown")):(await t.K_.stop(),GI(t))})),t.K_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Mg(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ee(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function YI(t,e){if(Tr("AsyncQueue",`${e}: ${t}`),$u(t))return new ee(K.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ne.comparator(n.key,r.key):(n,r)=>ne.comparator(n.key,r.key),this.keyedMap=aa(),this.sortedSet=new Xe(this.comparator)}static emptySet(e){return new Us(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Us)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Us;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(){this.W_=new Xe(ne.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ae():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class io{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new io(e,n,Us.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ch(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class UD{constructor(){this.queries=_0(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=pe(n),s=i.queries;i.queries=_0(),s.forEach((o,a)=>{for(const u of a.j_)u.onError(r)})})(this,new ee(K.ABORTED,"Firestore shutting down"))}}function _0(){return new Eo(t=>RI(t),Ch)}async function JI(t,e){const n=pe(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new VD,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=YI(o,`Initialization of query '${ds(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&$g(n)}async function XI(t,e){const n=pe(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function HD(t,e){const n=pe(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&$g(n)}function BD(t,e,n){const r=pe(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function $g(t){t.Y_.forEach(e=>{e.next()})}var Op,w0;(w0=Op||(Op={})).ea="default",w0.Cache="cache";class ZI{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new io(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=io.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Op.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e){this.key=e}}class tR{constructor(e){this.key=e}}class zD{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=me(),this.mutatedKeys=me(),this.Aa=PI(e),this.Ra=new Us(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new y0,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{const p=i.get(h),g=kh(this.query,f)?f:null,_=!!p&&this.mutatedKeys.has(p.key),E=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let R=!1;p&&g?p.data.isEqual(g.data)?_!==E&&(r.track({type:3,doc:g}),R=!0):this.ga(p,g)||(r.track({type:2,doc:g}),R=!0,(u&&this.Aa(g,u)>0||c&&this.Aa(g,c)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),R=!0):p&&!g&&(r.track({type:1,doc:p}),R=!0,(u||c)&&(a=!0)),R&&(g?(o=o.add(g),s=E?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((h,f)=>function(g,_){const E=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae()}};return E(g)-E(_)}(h.type,f.type)||this.Aa(h.doc,f.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,c=u!==this.Ea;return this.Ea=u,o.length!==0||c?{snapshot:new io(this.query,e.Ra,s,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new y0,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=me(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new tR(r))}),this.da.forEach(r=>{e.has(r)||n.push(new eR(r))}),n}ba(e){this.Ta=e.Ts,this.da=me();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return io.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class WD{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class qD{constructor(e){this.key=e,this.va=!1}}class KD{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Eo(a=>RI(a),Ch),this.Ma=new Map,this.xa=new Set,this.Oa=new Xe(ne.comparator),this.Na=new Map,this.La=new kg,this.Ba={},this.ka=new Map,this.qa=ro.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function QD(t,e,n=!0){const r=oR(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await nR(r,e,n,!0),i}async function GD(t,e){const n=oR(t);await nR(n,e,!0,!1)}async function nR(t,e,n,r){const i=await TD(t.localStore,Jn(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await YD(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&KI(t.remoteStore,i),a}async function YD(t,e,n,r,i){t.Ka=(f,p,g)=>async function(E,R,y,w){let P=R.view.ma(y);P.ns&&(P=await d0(E.localStore,R.query,!1).then(({documents:A})=>R.view.ma(A,P)));const C=w&&w.targetChanges.get(R.targetId),x=w&&w.targetMismatches.get(R.targetId)!=null,j=R.view.applyChanges(P,E.isPrimaryClient,C,x);return S0(E,R.targetId,j.wa),j.snapshot}(t,f,p,g);const s=await d0(t.localStore,e,!0),o=new zD(e,s.Ts),a=o.ma(s.documents),u=Vu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,u);S0(t,n,c.wa);const h=new WD(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function JD(t,e,n){const r=pe(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Ch(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Ap(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Dg(r.remoteStore,i.targetId),Cp(r,i.targetId)}).catch(wg)):(Cp(r,i.targetId),await Ap(r.localStore,i.targetId,!0))}async function XD(t,e){const n=pe(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Dg(n.remoteStore,r.targetId))}async function rR(t,e){const n=pe(t);try{const r=await ED(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(it(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?it(o.va):i.removedDocuments.size>0&&(it(o.va),o.va=!1))}),await sR(n,r,e)}catch(r){await wg(r)}}function E0(t,e,n){const r=pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=pe(o);u.onlineState=a;let c=!1;u.queries.forEach((h,f)=>{for(const p of f.j_)p.Z_(a)&&(c=!0)}),c&&$g(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ZD(t,e,n){const r=pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new Xe(ne.comparator);o=o.insert(s,kt.newNoDocument(s,oe.min()));const a=me().add(s),u=new Dh(oe.min(),new Map,new Xe(Ee),o,a);await rR(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),Vg(r)}else await Ap(r.localStore,e,!1).then(()=>Cp(r,e,n)).catch(wg)}function Cp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||iR(t,r)})}function iR(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Dg(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Vg(t))}function S0(t,e,n){for(const r of n)r instanceof eR?(t.La.addReference(r.key,e),ej(t,r)):r instanceof tR?(J("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||iR(t,r.key)):ae()}function ej(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(J("SyncEngine","New document in limbo: "+n),t.xa.add(r),Vg(t))}function Vg(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ne(Me.fromString(e)),r=t.qa.next();t.Na.set(r,new qD(n)),t.Oa=t.Oa.insert(n,r),KI(t.remoteStore,new qr(Jn(bg(n.path)),r,"TargetPurposeLimboResolution",Eg.oe))}}async function sR(t,e,n){const r=pe(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(c){i.push(c);const f=Ng.Wi(u.targetId,c);s.push(f)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(u,c){const h=pe(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>U.forEach(c,p=>U.forEach(p.$i,g=>h.persistence.referenceDelegate.addReference(f,p.targetId,g)).next(()=>U.forEach(p.Ui,g=>h.persistence.referenceDelegate.removeReference(f,p.targetId,g)))))}catch(f){if(!$u(f))throw f;J("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const g=h.os.get(p),_=g.snapshotVersion,E=g.withLastLimboFreeSnapshotVersion(_);h.os=h.os.insert(p,E)}}}(r.localStore,s))}async function tj(t,e){const n=pe(t);if(!n.currentUser.isEqual(e)){J("SyncEngine","User change. New user:",e.toKey());const r=await BI(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new ee(K.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await sR(n,r.hs)}}function nj(t,e){const n=pe(t),r=n.Na.get(e);if(r&&r.va)return me().add(r.key);{let i=me();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function oR(t){const e=pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=rR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ZD.bind(null,e),e.Ca.d_=HD.bind(null,e.eventManager),e.Ca.$a=BD.bind(null,e.eventManager),e}class T0{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=WI(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return wD(this.persistence,new yD,e.initialUser,this.serializer)}createPersistence(e){return new mD(xg.Zr,this.serializer)}createSharedClientState(e){return new RD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class rj{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>E0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=tj.bind(null,this.syncEngine),await $D(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new UD}()}createDatastore(e){const n=WI(e.databaseInfo.databaseId),r=function(s){return new OD(s)}(e.databaseInfo);return function(s,o,a,u){return new xD(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new DD(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>E0(this.syncEngine,n,0),function(){return m0.D()?new m0:new PD}())}createSyncEngine(e,n){return function(i,s,o,a,u,c,h){const f=new KD(i,s,o,a,u,c);return h&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=pe(i);J("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Uu(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Tr("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ot.UNAUTHENTICATED,this.clientId=vI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{J("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(J("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ee(K.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=YI(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Kf(t,e){t.asyncQueue.verifyOperationInProgress(),J("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await BI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function I0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await oj(t);J("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>v0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>v0(e.remoteStore,i)),t._onlineComponents=e}function sj(t){return t.name==="FirebaseError"?t.code===K.FAILED_PRECONDITION||t.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function oj(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){J("FirestoreClient","Using user provided OfflineComponentProvider");try{await Kf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!sj(n))throw n;Zs("Error using user provided cache. Falling back to memory cache: "+n),await Kf(t,new T0)}}else J("FirestoreClient","Using default OfflineComponentProvider"),await Kf(t,new T0);return t._offlineComponents}async function aj(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(J("FirestoreClient","Using user provided OnlineComponentProvider"),await I0(t,t._uninitializedComponentsProvider._online)):(J("FirestoreClient","Using default OnlineComponentProvider"),await I0(t,new rj))),t._onlineComponents}async function uR(t){const e=await aj(t),n=e.eventManager;return n.onListen=QD.bind(null,e.syncEngine),n.onUnlisten=JD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=GD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=XD.bind(null,e.syncEngine),n}function uj(t,e,n={}){const r=new si;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,c){const h=new aR({next:p=>{o.enqueueAndForget(()=>XI(s,f));const g=p.docs.has(a);!g&&p.fromCache?c.reject(new ee(K.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&u&&u.source==="server"?c.reject(new ee(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new ZI(bg(a.path),h,{includeMetadataChanges:!0,_a:!0});return JI(s,f)}(await uR(t),t.asyncQueue,e,n,r)),r.promise}function lj(t,e,n={}){const r=new si;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,c){const h=new aR({next:p=>{o.enqueueAndForget(()=>XI(s,f)),p.fromCache&&u.source==="server"?c.reject(new ee(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new ZI(a,h,{includeMetadataChanges:!0,_a:!0});return JI(s,f)}(await uR(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(t,e,n){if(!n)throw new ee(K.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function cj(t,e,n,r){if(e===!0&&r===!0)throw new ee(K.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function P0(t){if(!ne.isDocumentKey(t))throw new ee(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function b0(t){if(ne.isDocumentKey(t))throw new ee(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function hj(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ae()}function tu(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ee(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hj(t);throw new ee(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ee(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ee(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ee(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ee(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ee(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new A0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ee(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ee(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new A0(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new $x;switch(r.type){case"firstParty":return new Bx(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ee(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=R0.get(n);r&&(J("ComponentProvider","Removing Datastore"),R0.delete(n),r.terminate())}(this),Promise.resolve()}}function fj(t,e,n,r={}){var i;const s=(t=tu(t,Fh))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Zs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Ot.MOCK_USER;else{a=mk(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ee(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ot(c)}t._authCredentials=new Vx(new gI(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Lh(this.firestore,e,this._query)}}class Xn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xn(this.firestore,e,this._key)}}class oi extends Lh{constructor(e,n,r){super(e,n,bg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xn(this.firestore,null,new ne(e))}withConverter(e){return new oi(this.firestore,e,this._path)}}function dj(t,e,...n){if(t=_n(t),cR("collection","path",e),t instanceof Fh){const r=Me.fromString(e,...n);return b0(r),new oi(t,null,r)}{if(!(t instanceof Xn||t instanceof oi))throw new ee(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return b0(r),new oi(t.firestore,null,r)}}function pj(t,e,...n){if(t=_n(t),arguments.length===1&&(e=vI.newId()),cR("doc","path",e),t instanceof Fh){const r=Me.fromString(e,...n);return P0(r),new Xn(t,null,new ne(r))}{if(!(t instanceof Xn||t instanceof oi))throw new ee(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return P0(r),new Xn(t.firestore,t instanceof oi?t.converter:null,new ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new qI(this,"async_queue_retry"),this.Eu=()=>{const n=qf();n&&J("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=qf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=qf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new si;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!$u(e))throw e;J("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Tr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const i=Mg.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&ae()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}class Ug extends Fh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new mj}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||fR(this),this._firestoreClient.terminate()}}function gj(t,e){const n=typeof t=="object"?t:Mu(),r=typeof t=="string"?t:"(default)",i=ir(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=pk("firestore");s&&fj(i,...s)}return i}function hR(t){return t._firestoreClient||fR(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function fR(t){var e,n,r;const i=t._freezeSettings(),s=function(a,u,c,h){return new nN(a,u,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,lR(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new ij(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Uc(Tt.fromBase64String(e))}catch(n){throw new ee(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Uc(Tt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ee(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ee(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ee(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ee(this._lat,e._lat)||Ee(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}const _j=new RegExp("[~\\*/\\[\\]]");function wj(t,e,n){if(e.search(_j)>=0)throw O0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t);try{return new dR(...e.split("."))._internalPath}catch{throw O0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t)}}function O0(t,e,n,r,i){let s=`Function ${e}() called with invalid data`;s+=". ";let o="";return new ee(K.INVALID_ARGUMENT,s+t+o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Ej(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(mR("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Ej extends pR{data(){return super.data()}}function mR(t,e){return typeof e=="string"?wj(t,e):e instanceof dR?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ee(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tj{convertValue(e,n="none"){switch(Xi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ji(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ae()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ah(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Ge(o.doubleValue));return new yj(s)}convertGeoPoint(e){return new vj(Ge(e.latitude),Ge(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Tg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xa(e));default:return null}}convertTimestamp(e){const n=hi(e);return new en(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Me.fromString(e);it(HI(r));const i=new Za(r.get(1),r.get(3)),s=new ne(r.popFirst(5));return i.isEqual(n)||Tr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gR extends pR{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new tc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(mR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class tc extends gR{data(e={}){return super.data(e)}}class Ij{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new la(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new tc(this._firestore,this._userDataWriter,r.key,r,new la(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ee(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new tc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new la(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new tc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new la(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:Rj(a.type),doc:u,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Rj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ae()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pj(t){t=tu(t,Xn);const e=tu(t.firestore,Ug);return uj(hR(e),t._key).then(n=>Aj(e,t,n))}class vR extends Tj{constructor(e){super(),this.firestore=e}convertBytes(e){return new Uc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Xn(this.firestore,null,n)}}function bj(t){t=tu(t,Lh);const e=tu(t.firestore,Ug),n=hR(e),r=new vR(e);return Sj(t._query),lj(n,t._query).then(i=>new Ij(e,r,t,i))}function Aj(t,e,n){const r=n.docs.get(e._key),i=new vR(t);return new gR(t,i,e._key,r,new la(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){wo=i})(_o),gn(new nn("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Ug(new Ux(r.getProvider("auth-internal")),new Wx(r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ee(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Za(c.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ht(q_,"4.7.1",e),Ht(q_,"4.7.1","esm2017")})();var Oj="firebase",Cj="10.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ht(Oj,Cj,"app");function Hg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function nu(t){return this instanceof nu?(this.v=t,this):new nu(t)}function kj(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(g){return function(_){return Promise.resolve(_).then(g,f)}}function a(g,_){r[g]&&(i[g]=function(E){return new Promise(function(R,y){s.push([g,E,R,y])>1||u(g,E)})},_&&(i[g]=_(i[g])))}function u(g,_){try{c(r[g](_))}catch(E){p(s[0][3],E)}}function c(g){g.value instanceof nu?Promise.resolve(g.value.v).then(h,f):p(s[0][2],g)}function h(g){u("next",g)}function f(g){u("throw",g)}function p(g,_){g(_),s.shift(),s.length&&u(s[0][0],s[0][1])}}function yR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xj=yR,_R=new yi("auth","Firebase",yR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc=new Lu("@firebase/auth");function Nj(t,...e){Hc.logLevel<=fe.WARN&&Hc.warn(`Auth (${_o}): ${t}`,...e)}function nc(t,...e){Hc.logLevel<=fe.ERROR&&Hc.error(`Auth (${_o}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(t,...e){throw zg(t,...e)}function Mn(t,...e){return zg(t,...e)}function Bg(t,e,n){const r=Object.assign(Object.assign({},xj()),{[e]:n});return new yi("auth","Firebase",r).create(e,{appName:t.name})}function zi(t){return Bg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dj(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&nr(t,"argument-error"),Bg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function zg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return _R.create(t,...e)}function se(t,e,...n){if(!t)throw zg(e,...n)}function pr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw nc(e),new Error(e)}function Ir(t,e){t||pr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function jj(){return C0()==="http:"||C0()==="https:"}function C0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jj()||tI()||"connection"in navigator)?navigator.onLine:!0}function Lj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ir(n>e,"Short delay should be less than long delay!"),this.isMobile=gk()||yk()}get(){return Fj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(t,e){Ir(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $j=new Bu(3e4,6e4);function qg(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function To(t,e,n,r,i={}){return ER(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Fu(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),wR.fetch()(SR(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))})}async function ER(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Mj),e);try{const i=new Uj(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw xl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw xl(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw xl(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw xl(t,"user-disabled",o);const h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Bg(t,h,c);nr(t,h)}}catch(i){if(i instanceof Pn)throw i;nr(t,"network-request-failed",{message:String(i)})}}async function Vj(t,e,n,r,i={}){const s=await To(t,e,n,r,i);return"mfaPendingCredential"in s&&nr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function SR(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Wg(t.config,i):`${t.config.apiScheme}://${i}`}class Uj{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Mn(this.auth,"network-request-failed")),$j.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function xl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Mn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hj(t,e){return To(t,"POST","/v1/accounts:delete",e)}async function TR(t,e){return To(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Bj(t,e=!1){const n=_n(t),r=await n.getIdToken(e),i=Kg(r);se(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Pa(Qf(i.auth_time)),issuedAtTime:Pa(Qf(i.iat)),expirationTime:Pa(Qf(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Qf(t){return Number(t)*1e3}function Kg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return nc("JWT malformed, contained fewer than 3 sections"),null;try{const i=YT(n);return i?JSON.parse(i):(nc("Failed to decode base64 JWT payload"),null)}catch(i){return nc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function k0(t){const e=Kg(t);return se(e,"internal-error"),se(typeof e.exp<"u","internal-error"),se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ru(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Pn&&zj(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function zj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pa(this.lastLoginAt),this.creationTime=Pa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ru(t,TR(n,{idToken:r}));se(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?IR(s.providerUserInfo):[],a=Kj(t.providerData,o),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),h=u?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new xp(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function qj(t){const e=_n(t);await Bc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Kj(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function IR(t){return t.map(e=>{var{providerId:n}=e,r=Hg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qj(t,e){const n=await ER(t,{},async()=>{const r=Fu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=SR(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",wR.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Gj(t,e){return To(t,"POST","/v2/accounts:revokeToken",qg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(typeof e.idToken<"u","internal-error"),se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):k0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){se(e.length!==0,"internal-error");const n=k0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Qj(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Hs;return r&&(se(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(se(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(se(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Hs,this.toJSON())}_performRefresh(){return pr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(t,e){se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class mr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Hg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Wj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new xp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ru(this,this.stsTokenManager.getToken(this.auth,e));return se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Bj(this,e)}reload(){return qj(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new mr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Bc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(dr(this.auth.app))return Promise.reject(zi(this.auth));const e=await this.getIdToken();return await ru(this,Hj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,E=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,y=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:P,emailVerified:C,isAnonymous:x,providerData:j,stsTokenManager:A}=n;se(P&&A,e,"internal-error");const v=Hs.fromJSON(this.name,A);se(typeof P=="string",e,"internal-error"),Nr(f,e.name),Nr(p,e.name),se(typeof C=="boolean",e,"internal-error"),se(typeof x=="boolean",e,"internal-error"),Nr(g,e.name),Nr(_,e.name),Nr(E,e.name),Nr(R,e.name),Nr(y,e.name),Nr(w,e.name);const S=new mr({uid:P,auth:e,email:p,emailVerified:C,displayName:f,isAnonymous:x,photoURL:_,phoneNumber:g,tenantId:E,stsTokenManager:v,createdAt:y,lastLoginAt:w});return j&&Array.isArray(j)&&(S.providerData=j.map(T=>Object.assign({},T))),R&&(S._redirectEventId=R),S}static async _fromIdTokenResponse(e,n,r=!1){const i=new Hs;i.updateFromServerResponse(n);const s=new mr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Bc(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];se(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?IR(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Hs;a.updateFromIdToken(r);const u=new mr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new xp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0=new Map;function gr(t){Ir(t instanceof Function,"Expected a class definition");let e=x0.get(t);return e?(Ir(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,x0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}RR.type="NONE";const N0=RR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(t,e,n){return`firebase:${t}:${e}:${n}`}class Bs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=rc(this.userKey,i.apiKey,s),this.fullPersistenceKey=rc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?mr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Bs(gr(N0),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||gr(N0);const o=rc(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){const f=mr._fromJSON(e,h);c!==s&&(a=f),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Bs(s,e,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Bs(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(OR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kR(e))return"Blackberry";if(xR(e))return"Webos";if(bR(e))return"Safari";if((e.includes("chrome/")||AR(e))&&!e.includes("edge/"))return"Chrome";if(CR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function PR(t=Nt()){return/firefox\//i.test(t)}function bR(t=Nt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function AR(t=Nt()){return/crios\//i.test(t)}function OR(t=Nt()){return/iemobile/i.test(t)}function CR(t=Nt()){return/android/i.test(t)}function kR(t=Nt()){return/blackberry/i.test(t)}function xR(t=Nt()){return/webos/i.test(t)}function Qg(t=Nt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Yj(t=Nt()){var e;return Qg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Jj(){return _k()&&document.documentMode===10}function NR(t=Nt()){return Qg(t)||CR(t)||xR(t)||kR(t)||/windows phone/i.test(t)||OR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(t,e=[]){let n;switch(t){case"Browser":n=D0(Nt());break;case"Worker":n=`${D0(Nt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${_o}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zj(t,e={}){return To(t,"GET","/v2/passwordPolicy",qg(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eF=6;class tF{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:eF,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new j0(this),this.idTokenSubscription=new j0(this),this.beforeStateQueue=new Xj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_R,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=gr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Bs.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await TR(this,{idToken:e}),r=await mr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(dr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Bc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Lj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(dr(this.app))return Promise.reject(zi(this));const n=e?_n(e):null;return n&&se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return dr(this.app)?Promise.reject(zi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return dr(this.app)?Promise.reject(zi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Zj(this),n=new tF(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new yi("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Gj(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&gr(e)||this._popupRedirectResolver;se(n,this,"argument-error"),this.redirectPersistenceManager=await Bs.create(this,[gr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(se(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=DR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Nj(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Mh(t){return _n(t)}class j0{constructor(e){this.auth=e,this.observer=null,this.addObserver=Pk(n=>this.observer=n)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rF(t){Gg=t}function iF(t){return Gg.loadJS(t)}function sF(){return Gg.gapiScript}function oF(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aF(t,e){const n=ir(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Ga(s,e??{}))return i;nr(i,"already-initialized")}return n.initialize({options:e})}function uF(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(gr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function lF(t,e,n){const r=Mh(t);se(r._canInitEmulator,r,"emulator-config-failed"),se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=jR(e),{host:o,port:a}=cF(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),hF()}function jR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function cF(t){const e=jR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:F0(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:F0(o)}}}function F0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function hF(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return pr("not implemented")}_getIdTokenResponse(e){return pr("not implemented")}_linkToIdToken(e,n){return pr("not implemented")}_getReauthenticationResolver(e){return pr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zs(t,e){return Vj(t,"POST","/v1/accounts:signInWithIdp",qg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fF="http://localhost";class Zi extends FR{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Zi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):nr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Hg(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Zi(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return zs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,zs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,zs(e,n)}buildRequest(){const e={requestUri:fF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Fu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu extends Yg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends zu{constructor(){super("facebook.com")}static credential(e){return Zi._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $r.credential(e.oauthAccessToken)}catch{return null}}}$r.FACEBOOK_SIGN_IN_METHOD="facebook.com";$r.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr extends zu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Zi._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return cr.credential(n,r)}catch{return null}}}cr.GOOGLE_SIGN_IN_METHOD="google.com";cr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends zu{constructor(){super("github.com")}static credential(e){return Zi._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vr.credential(e.oauthAccessToken)}catch{return null}}}Vr.GITHUB_SIGN_IN_METHOD="github.com";Vr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends zu{constructor(){super("twitter.com")}static credential(e,n){return Zi._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ur.credential(n,r)}catch{return null}}}Ur.TWITTER_SIGN_IN_METHOD="twitter.com";Ur.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await mr._fromIdTokenResponse(e,r,i),o=L0(r);return new so({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=L0(r);return new so({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function L0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc extends Pn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,zc.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new zc(e,n,r,i)}}function LR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?zc._fromErrorAndOperation(t,s,e,r):s})}async function dF(t,e,n=!1){const r=await ru(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return so._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pF(t,e,n=!1){const{auth:r}=t;if(dr(r.app))return Promise.reject(zi(r));const i="reauthenticate";try{const s=await ru(t,LR(r,i,e,t),n);se(s.idToken,r,"internal-error");const o=Kg(s.idToken);se(o,r,"internal-error");const{sub:a}=o;return se(t.uid===a,r,"user-mismatch"),so._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&nr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mF(t,e,n=!1){if(dr(t.app))return Promise.reject(zi(t));const r="signIn",i=await LR(t,r,e),s=await so._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function gF(t,e,n,r){return _n(t).onIdTokenChanged(e,n,r)}function vF(t,e,n){return _n(t).beforeAuthStateChanged(e,n)}function yF(t,e,n,r){return _n(t).onAuthStateChanged(e,n,r)}const Wc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Wc,"1"),this.storage.removeItem(Wc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _F=1e3,wF=10;class $R extends MR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=NR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Jj()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,wF):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},_F)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}$R.type="LOCAL";const EF=$R;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR extends MR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}VR.type="SESSION";const UR=VR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new $h(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),u=await SF(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$h.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const c=Jg("",20);i.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const p=f;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(){return window}function IF(t){Zn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(){return typeof Zn().WorkerGlobalScope<"u"&&typeof Zn().importScripts=="function"}async function RF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function PF(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function bF(){return HR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR="firebaseLocalStorageDb",AF=1,qc="firebaseLocalStorage",zR="fbase_key";class Wu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vh(t,e){return t.transaction([qc],e?"readwrite":"readonly").objectStore(qc)}function OF(){const t=indexedDB.deleteDatabase(BR);return new Wu(t).toPromise()}function Np(){const t=indexedDB.open(BR,AF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(qc,{keyPath:zR})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(qc)?e(r):(r.close(),await OF(),e(await Np()))})})}async function M0(t,e,n){const r=Vh(t,!0).put({[zR]:e,value:n});return new Wu(r).toPromise()}async function CF(t,e){const n=Vh(t,!1).get(e),r=await new Wu(n).toPromise();return r===void 0?null:r.value}function $0(t,e){const n=Vh(t,!0).delete(e);return new Wu(n).toPromise()}const kF=800,xF=3;class WR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Np(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>xF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return HR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$h._getInstance(bF()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await RF(),!this.activeServiceWorker)return;this.sender=new TF(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||PF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Np();return await M0(e,Wc,"1"),await $0(e,Wc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>M0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>CF(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>$0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Vh(i,!1).getAll();return new Wu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}WR.type="LOCAL";const NF=WR;new Bu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(t,e){return e?gr(e):(se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg extends FR{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return zs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return zs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function DF(t){return mF(t.auth,new Xg(t),t.bypassAuthState)}function jF(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),pF(n,new Xg(t),t.bypassAuthState)}async function FF(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),dF(n,new Xg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return DF;case"linkViaPopup":case"linkViaRedirect":return FF;case"reauthViaPopup":case"reauthViaRedirect":return jF;default:nr(this.auth,"internal-error")}}resolve(e){Ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LF=new Bu(2e3,1e4);async function MF(t,e,n){if(dr(t.app))return Promise.reject(Mn(t,"operation-not-supported-in-this-environment"));const r=Mh(t);Dj(t,e,Yg);const i=qR(r,n);return new Li(r,"signInViaPopup",e,i).executeNotNull()}class Li extends KR{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Li.currentPopupAction&&Li.currentPopupAction.cancel(),Li.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return se(e,this.auth,"internal-error"),e}async onExecution(){Ir(this.filter.length===1,"Popup operations only handle one event");const e=Jg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Mn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Mn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Li.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,LF.get())};e()}}Li.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $F="pendingRedirect",ic=new Map;class VF extends KR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ic.get(this.auth._key());if(!e){try{const r=await UF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ic.set(this.auth._key(),e)}return this.bypassAuthState||ic.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function UF(t,e){const n=zF(e),r=BF(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function HF(t,e){ic.set(t._key(),e)}function BF(t){return gr(t._redirectPersistence)}function zF(t){return rc($F,t.config.apiKey,t.name)}async function WF(t,e,n=!1){if(dr(t.app))return Promise.reject(zi(t));const r=Mh(t),i=qR(r,e),o=await new VF(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qF=10*60*1e3;class KF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!QF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!QR(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Mn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qF&&this.cachedEventUids.clear(),this.cachedEventUids.has(V0(e))}saveEventToCache(e){this.cachedEventUids.add(V0(e)),this.lastProcessedEventTime=Date.now()}}function V0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function QR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function QF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GF(t,e={}){return To(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,JF=/^https?/;async function XF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await GF(t);for(const n of e)try{if(ZF(n))return}catch{}nr(t,"unauthorized-domain")}function ZF(t){const e=kp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!JF.test(n))return!1;if(YF.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=new Bu(3e4,6e4);function U0(){const t=Zn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function t2(t){return new Promise((e,n)=>{var r,i,s;function o(){U0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{U0(),n(Mn(t,"network-request-failed"))},timeout:e2.get()})}if(!((i=(r=Zn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Zn().gapi)===null||s===void 0)&&s.load)o();else{const a=oF("iframefcb");return Zn()[a]=()=>{gapi.load?o():n(Mn(t,"network-request-failed"))},iF(`${sF()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw sc=null,e})}let sc=null;function n2(t){return sc=sc||t2(t),sc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=new Bu(5e3,15e3),i2="__/auth/iframe",s2="emulator/auth/iframe",o2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},a2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function u2(t){const e=t.config;se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Wg(e,s2):`https://${t.config.authDomain}/${i2}`,r={apiKey:e.apiKey,appName:t.name,v:_o},i=a2.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Fu(r).slice(1)}`}async function l2(t){const e=await n2(t),n=Zn().gapi;return se(n,t,"internal-error"),e.open({where:document.body,url:u2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:o2,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Mn(t,"network-request-failed"),a=Zn().setTimeout(()=>{s(o)},r2.get());function u(){Zn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},h2=500,f2=600,d2="_blank",p2="http://localhost";class H0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function m2(t,e,n,r=h2,i=f2){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},c2),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Nt().toLowerCase();n&&(a=AR(c)?d2:n),PR(c)&&(e=e||p2,u.scrollbars="yes");const h=Object.entries(u).reduce((p,[g,_])=>`${p}${g}=${_},`,"");if(Yj(c)&&a!=="_self")return g2(e||"",a),new H0(null);const f=window.open(e||"",a,h);se(f,t,"popup-blocked");try{f.focus()}catch{}return new H0(f)}function g2(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2="__/auth/handler",y2="emulator/auth/handler",_2=encodeURIComponent("fac");async function B0(t,e,n,r,i,s){se(t.config.authDomain,t,"auth-domain-config-required"),se(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:_o,eventId:i};if(e instanceof Yg){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Rk(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof zu){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const u=await t._getAppCheckToken(),c=u?`#${_2}=${encodeURIComponent(u)}`:"";return`${w2(t)}?${Fu(a).slice(1)}${c}`}function w2({config:t}){return t.emulator?Wg(t,y2):`https://${t.authDomain}/${v2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf="webStorageSupport";class E2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=UR,this._completeRedirectFn=WF,this._overrideRedirectResult=HF}async _openPopup(e,n,r,i){var s;Ir((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await B0(e,n,r,kp(),i);return m2(e,o,Jg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await B0(e,n,r,kp(),i);return IF(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ir(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await l2(e),r=new KF(e);return n.register("authEvent",i=>(se(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Gf,{type:Gf},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Gf];o!==void 0&&n(!!o),nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=XF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return NR()||bR()||Qg()}}const S2=E2;var z0="@firebase/auth",W0="1.7.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function R2(t){gn(new nn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;se(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DR(t)},c=new nF(r,i,s,u);return uF(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),gn(new nn("auth-internal",e=>{const n=Mh(e.getProvider("auth").getImmediate());return(r=>new T2(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ht(z0,W0,I2(t)),Ht(z0,W0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=5*60,b2=eI("authIdTokenMaxAge")||P2;let q0=null;const A2=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>b2)return;const i=n==null?void 0:n.token;q0!==i&&(q0=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function O2(t=Mu()){const e=ir(t,"auth");if(e.isInitialized())return e.getImmediate();const n=aF(t,{popupRedirectResolver:S2,persistence:[NF,EF,UR]}),r=eI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=A2(s.toString());vF(n,o,()=>o(n.currentUser)),gF(n,a=>o(a))}}const i=XT("auth");return i&&lF(n,`http://${i}`),n}function C2(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}rF({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Mn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",C2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});R2("Browser");const GR="@firebase/installations",Zg="0.6.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=1e4,JR=`w:${Zg}`,XR="FIS_v2",k2="https://firebaseinstallations.googleapis.com/v1",x2=60*60*1e3,N2="installations",D2="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},es=new yi(N2,D2,j2);function ZR(t){return t instanceof Pn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eP({projectId:t}){return`${k2}/projects/${t}/installations`}function tP(t){return{token:t.token,requestStatus:2,expiresIn:L2(t.expiresIn),creationTime:Date.now()}}async function nP(t,e){const r=(await e.json()).error;return es.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function rP({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function F2(t,{refreshToken:e}){const n=rP(t);return n.append("Authorization",M2(e)),n}async function iP(t){const e=await t();return e.status>=500&&e.status<600?t():e}function L2(t){return Number(t.replace("s","000"))}function M2(t){return`${XR} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $2({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=eP(t),i=rP(t),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={fid:n,authVersion:XR,appId:t.appId,sdkVersion:JR},a={method:"POST",headers:i,body:JSON.stringify(o)},u=await iP(()=>fetch(r,a));if(u.ok){const c=await u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:tP(c.authToken)}}else throw await nP("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2=/^[cdef][\w-]{21}$/,Dp="";function H2(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=B2(t);return U2.test(n)?n:Dp}catch{return Dp}}function B2(t){return V2(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP=new Map;function aP(t,e){const n=Uh(t);uP(n,e),z2(n,e)}function uP(t,e){const n=oP.get(t);if(n)for(const r of n)r(e)}function z2(t,e){const n=W2();n&&n.postMessage({key:t,fid:e}),q2()}let Mi=null;function W2(){return!Mi&&"BroadcastChannel"in self&&(Mi=new BroadcastChannel("[Firebase] FID Change"),Mi.onmessage=t=>{uP(t.data.key,t.data.fid)}),Mi}function q2(){oP.size===0&&Mi&&(Mi.close(),Mi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2="firebase-installations-database",Q2=1,ts="firebase-installations-store";let Yf=null;function ev(){return Yf||(Yf=sI(K2,Q2,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ts)}}})),Yf}async function Kc(t,e){const n=Uh(t),i=(await ev()).transaction(ts,"readwrite"),s=i.objectStore(ts),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&aP(t,e.fid),e}async function lP(t){const e=Uh(t),r=(await ev()).transaction(ts,"readwrite");await r.objectStore(ts).delete(e),await r.done}async function Hh(t,e){const n=Uh(t),i=(await ev()).transaction(ts,"readwrite"),s=i.objectStore(ts),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&aP(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tv(t){let e;const n=await Hh(t.appConfig,r=>{const i=G2(r),s=Y2(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Dp?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function G2(t){const e=t||{fid:H2(),registrationStatus:0};return cP(e)}function Y2(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(es.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=J2(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:X2(t)}:{installationEntry:e}}async function J2(t,e){try{const n=await $2(t,e);return Kc(t.appConfig,n)}catch(n){throw ZR(n)&&n.customData.serverCode===409?await lP(t.appConfig):await Kc(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function X2(t){let e=await K0(t.appConfig);for(;e.registrationStatus===1;)await sP(100),e=await K0(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await tv(t);return r||n}return e}function K0(t){return Hh(t,e=>{if(!e)throw es.create("installation-not-found");return cP(e)})}function cP(t){return Z2(t)?{fid:t.fid,registrationStatus:0}:t}function Z2(t){return t.registrationStatus===1&&t.registrationTime+YR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eL({appConfig:t,heartbeatServiceProvider:e},n){const r=tL(t,n),i=F2(t,n),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={installation:{sdkVersion:JR,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},u=await iP(()=>fetch(r,a));if(u.ok){const c=await u.json();return tP(c)}else throw await nP("Generate Auth Token",u)}function tL(t,{fid:e}){return`${eP(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nv(t,e=!1){let n;const r=await Hh(t.appConfig,s=>{if(!hP(s))throw es.create("not-registered");const o=s.authToken;if(!e&&iL(o))return s;if(o.requestStatus===1)return n=nL(t,e),s;{if(!navigator.onLine)throw es.create("app-offline");const a=oL(s);return n=rL(t,a),a}});return n?await n:r.authToken}async function nL(t,e){let n=await Q0(t.appConfig);for(;n.authToken.requestStatus===1;)await sP(100),n=await Q0(t.appConfig);const r=n.authToken;return r.requestStatus===0?nv(t,e):r}function Q0(t){return Hh(t,e=>{if(!hP(e))throw es.create("not-registered");const n=e.authToken;return aL(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function rL(t,e){try{const n=await eL(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Kc(t.appConfig,r),n}catch(n){if(ZR(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await lP(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Kc(t.appConfig,r)}throw n}}function hP(t){return t!==void 0&&t.registrationStatus===2}function iL(t){return t.requestStatus===2&&!sL(t)}function sL(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+x2}function oL(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function aL(t){return t.requestStatus===1&&t.requestTime+YR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uL(t){const e=t,{installationEntry:n,registrationPromise:r}=await tv(e);return r?r.catch(console.error):nv(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lL(t,e=!1){const n=t;return await cL(n),(await nv(n,e)).token}async function cL(t){const{registrationPromise:e}=await tv(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hL(t){if(!t||!t.options)throw Jf("App Configuration");if(!t.name)throw Jf("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Jf(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Jf(t){return es.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP="installations",fL="installations-internal",dL=t=>{const e=t.getProvider("app").getImmediate(),n=hL(e),r=ir(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},pL=t=>{const e=t.getProvider("app").getImmediate(),n=ir(e,fP).getImmediate();return{getId:()=>uL(n),getToken:i=>lL(n,i)}};function mL(){gn(new nn(fP,dL,"PUBLIC")),gn(new nn(fL,pL,"PRIVATE"))}mL();Ht(GR,Zg);Ht(GR,Zg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qc="analytics",gL="firebase_id",vL="origin",yL=60*1e3,_L="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",rv="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn=new Lu("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},pn=new yi("analytics","Analytics",wL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EL(t){if(!t.startsWith(rv)){const e=pn.create("invalid-gtag-resource",{gtagURL:t});return tn.warn(e.message),""}return t}function dP(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function SL(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function TL(t,e){const n=SL("firebase-js-sdk-policy",{createScriptURL:EL}),r=document.createElement("script"),i=`${rv}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function IL(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function RL(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const u=(await dP(n)).find(c=>c.measurementId===i);u&&await e[u.appId]}}catch(a){tn.error(a)}t("config",i,s)}async function PL(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await dP(n);for(const u of o){const c=a.find(f=>f.measurementId===u),h=c&&e[c.appId];if(h)s.push(h);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){tn.error(s)}}function bL(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,u]=o;await PL(t,e,n,a,u)}else if(s==="config"){const[a,u]=o;await RL(t,e,n,r,a,u)}else if(s==="consent"){const[a,u]=o;t("consent",a,u)}else if(s==="get"){const[a,u,c]=o;t("get",a,u,c)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){tn.error(a)}}return i}function AL(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=bL(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function OL(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(rv)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL=30,kL=1e3;class xL{constructor(e={},n=kL){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const pP=new xL;function NL(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function DL(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:NL(r)},s=_L.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const u=await o.json();!((e=u.error)===null||e===void 0)&&e.message&&(a=u.error.message)}catch{}throw pn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function jL(t,e=pP,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw pn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw pn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new ML;return setTimeout(async()=>{a.abort()},yL),mP({appId:r,apiKey:i,measurementId:s},o,a,e)}async function mP(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=pP){var s;const{appId:o,measurementId:a}=t;try{await FL(r,e)}catch(u){if(a)return tn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw u}try{const u=await DL(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!LL(c)){if(i.deleteThrottleMetadata(o),a)return tn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw u}const h=Number((s=c==null?void 0:c.customData)===null||s===void 0?void 0:s.httpStatus)===503?hp(n,i.intervalMillis,CL):hp(n,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return i.setThrottleMetadata(o,f),tn.debug(`Calling attemptFetch again in ${h} millis`),mP(t,f,r,i)}}function FL(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(pn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function LL(t){if(!(t instanceof Pn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class ML{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function $L(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VL(){if(Ph())try{await nI()}catch(t){return tn.warn(pn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return tn.warn(pn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function UL(t,e,n,r,i,s,o){var a;const u=jL(t);u.then(g=>{n[g.measurementId]=g.appId,t.options.measurementId&&g.measurementId!==t.options.measurementId&&tn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>tn.error(g)),e.push(u);const c=VL().then(g=>{if(g)return r.getId()}),[h,f]=await Promise.all([u,c]);OL(s)||TL(s,h.measurementId),i("js",new Date);const p=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return p[vL]="firebase",p.update=!0,f!=null&&(p[gL]=f),i("config",h.measurementId,p),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e){this.app=e}_delete(){return delete ba[this.app.options.appId],Promise.resolve()}}let ba={},G0=[];const Y0={};let Xf="dataLayer",BL="gtag",J0,gP,X0=!1;function zL(){const t=[];if(tI()&&t.push("This is a browser extension environment."),Ek()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=pn.create("invalid-analytics-context",{errorInfo:e});tn.warn(n.message)}}function WL(t,e,n){zL();const r=t.options.appId;if(!r)throw pn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)tn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw pn.create("no-api-key");if(ba[r]!=null)throw pn.create("already-exists",{id:r});if(!X0){IL(Xf);const{wrappedGtag:s,gtagCore:o}=AL(ba,G0,Y0,Xf,BL);gP=s,J0=o,X0=!0}return ba[r]=UL(t,G0,Y0,e,J0,Xf,n),new HL(t)}function qL(t=Mu()){t=_n(t);const e=ir(t,Qc);return e.isInitialized()?e.getImmediate():KL(t)}function KL(t,e={}){const n=ir(t,Qc);if(n.isInitialized()){const i=n.getImmediate();if(Ga(e,n.getOptions()))return i;throw pn.create("already-initialized")}return n.initialize({options:e})}function QL(t,e,n,r){t=_n(t),$L(gP,ba[t.app.options.appId],e,n,r).catch(i=>tn.error(i))}const Z0="@firebase/analytics",ew="0.10.7";function GL(){gn(new nn(Qc,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return WL(r,i,n)},"PUBLIC")),gn(new nn("analytics-internal",t,"PRIVATE")),Ht(Z0,ew),Ht(Z0,ew,"esm2017");function t(e){try{const n=e.getProvider(Qc).getImmediate();return{logEvent:(r,i,s)=>QL(n,r,i,s)}}catch(n){throw pn.create("interop-component-reg-failed",{reason:n})}}}GL();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp=new Map,vP={activated:!1,tokenObservers:[]},YL={initialized:!1,enabled:!1};function lt(t){return jp.get(t)||Object.assign({},vP)}function JL(t,e){return jp.set(t,e),jp.get(t)}function Bh(){return YL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP="https://content-firebaseappcheck.googleapis.com/v1",XL="exchangeRecaptchaEnterpriseToken",ZL="exchangeDebugToken",tw={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},eM=24*60*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new Qa,this.pending.promise.catch(n=>{}),await nM(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new Qa,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function nM(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Gt=new yi("appCheck","AppCheck",rM);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(t=!1){var e;return t?(e=self.grecaptcha)===null||e===void 0?void 0:e.enterprise:self.grecaptcha}function iv(t){if(!lt(t).activated)throw Gt.create("use-before-activation",{appName:t.name})}function _P(t){const e=Math.round(t/1e3),n=Math.floor(e/(3600*24)),r=Math.floor((e-n*3600*24)/3600),i=Math.floor((e-n*3600*24-r*3600)/60),s=e-n*3600*24-r*3600-i*60;let o="";return n&&(o+=Nl(n)+"d:"),r&&(o+=Nl(r)+"h:"),o+=Nl(i)+"m:"+Nl(s)+"s",o}function Nl(t){return t===0?"00":t>=10?t.toString():"0"+t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sv({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const f=await i.getHeartbeatsHeader();f&&(r["X-Firebase-Client"]=f)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o;try{o=await fetch(t,s)}catch(f){throw Gt.create("fetch-network-error",{originalErrorMessage:f==null?void 0:f.message})}if(o.status!==200)throw Gt.create("fetch-status-error",{httpStatus:o.status});let a;try{a=await o.json()}catch(f){throw Gt.create("fetch-parse-error",{originalErrorMessage:f==null?void 0:f.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Gt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=Number(u[1])*1e3,h=Date.now();return{token:a.token,expireTimeMillis:h+c,issuedAtTimeMillis:h}}function iM(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${yP}/projects/${n}/apps/${r}:${XL}?key=${i}`,body:{recaptcha_enterprise_token:e}}}function wP(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${yP}/projects/${n}/apps/${r}:${ZL}?key=${i}`,body:{debug_token:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM="firebase-app-check-database",oM=1,iu="firebase-app-check-store",EP="debug-token";let Dl=null;function SP(){return Dl||(Dl=new Promise((t,e)=>{try{const n=indexedDB.open(sM,oM);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Gt.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(iu,{keyPath:"compositeKey"})}}}catch(n){e(Gt.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),Dl)}function aM(t){return IP(RP(t))}function uM(t,e){return TP(RP(t),e)}function lM(t){return TP(EP,t)}function cM(){return IP(EP)}async function TP(t,e){const r=(await SP()).transaction(iu,"readwrite"),s=r.objectStore(iu).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(Gt.create("storage-set",{originalErrorMessage:(c=u.target.error)===null||c===void 0?void 0:c.message}))}})}async function IP(t){const n=(await SP()).transaction(iu,"readonly"),i=n.objectStore(iu).get(t);return new Promise((s,o)=>{i.onsuccess=a=>{const u=a.target.result;s(u?u.value:void 0)},n.onerror=a=>{var u;o(Gt.create("storage-get",{originalErrorMessage:(u=a.target.error)===null||u===void 0?void 0:u.message}))}})}function RP(t){return`${t.options.appId}-${t.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=new Lu("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hM(t){if(Ph()){let e;try{e=await aM(t)}catch(n){su.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}}function Zf(t,e){return Ph()?uM(t,e).catch(n=>{su.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function fM(){let t;try{t=await cM()}catch{}if(t)return t;{const e=Ok();return lM(e).catch(n=>su.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(){return Bh().enabled}async function av(){const t=Bh();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function dM(){const t=JT(),e=Bh();if(e.initialized=!0,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&t.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;e.enabled=!0;const n=new Qa;e.token=n,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(fM())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM={error:"UNKNOWN_ERROR"};function mM(t){return vg.encodeString(JSON.stringify(t),!1)}async function Fp(t,e=!1){const n=t.app;iv(n);const r=lt(n);let i=r.token,s;if(i&&!As(i)&&(r.token=void 0,i=void 0),!i){const u=await r.cachedTokenPromise;u&&(As(u)?i=u:await Zf(n,void 0))}if(!e&&i&&As(i))return{token:i.token};let o=!1;if(ov()){r.exchangeTokenPromise||(r.exchangeTokenPromise=sv(wP(n,await av()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=await r.exchangeTokenPromise;return await Zf(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=await lt(n).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"?su.warn(u.message):su.error(u),s=u}let a;return i?s?As(i)?a={token:i.token,internalError:s}:a=iw(s):(a={token:i.token},r.token=i,await Zf(n,i)):a=iw(s),o&&AP(n,a),a}async function gM(t){const e=t.app;iv(e);const{provider:n}=lt(e);if(ov()){const r=await av(),{token:i}=await sv(wP(e,r),t.heartbeatServiceProvider);return{token:i}}else{const{token:r}=await n.getToken();return{token:r}}}function PP(t,e,n,r){const{app:i}=t,s=lt(i),o={next:n,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&As(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),rw(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>rw(t))}function bP(t,e){const n=lt(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function rw(t){const{app:e}=t,n=lt(e);let r=n.tokenRefresher;r||(r=vM(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function vM(t){const{app:e}=t;return new tM(async()=>{const n=lt(e);let r;if(n.token?r=await Fp(t,!0):r=await Fp(t),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=lt(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},tw.RETRIAL_MIN_WAIT,tw.RETRIAL_MAX_WAIT)}function AP(t,e){const n=lt(t).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function As(t){return t.expireTimeMillis-Date.now()>0}function iw(t){return{token:mM(pM),error:t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=lt(this.app);for(const n of e)bP(this.app,n.next);return Promise.resolve()}}function _M(t,e){return new yM(t,e)}function wM(t){return{getToken:e=>Fp(t,e),getLimitedUseToken:()=>gM(t),addTokenListener:e=>PP(t,"INTERNAL",e),removeTokenListener:e=>bP(t.app,e)}}const EM="@firebase/app-check",SM="0.8.7",TM="https://www.google.com/recaptcha/enterprise.js";function IM(t,e){const n=new Qa,r=lt(t);r.reCAPTCHAState={initialized:n};const i=RM(t),s=nw(!0);return s?sw(t,e,s,i,n):AM(()=>{const o=nw(!0);if(!o)throw new Error("no recaptcha");sw(t,e,o,i,n)}),n.promise}function sw(t,e,n,r,i){n.ready(()=>{bM(t,e,n,r),i.resolve(n)})}function RM(t){const e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}async function PM(t){iv(t);const n=await lt(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=lt(t).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})}function bM(t,e,n,r){const i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{lt(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{lt(t).reCAPTCHAState.succeeded=!1}}),s=lt(t);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})}function AM(t){const e=document.createElement("script");e.src=TM,e.onload=t,document.head.appendChild(e)}class uv{constructor(e){this._siteKey=e,this._throttleData=null}async getToken(){var e,n,r;CM(this._throttleData);const i=await PM(this._app).catch(o=>{throw Gt.create("recaptcha-error")});if(!(!((e=lt(this._app).reCAPTCHAState)===null||e===void 0)&&e.succeeded))throw Gt.create("recaptcha-error");let s;try{s=await sv(iM(this._app,i),this._heartbeatServiceProvider)}catch(o){throw!((n=o.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=OM(Number((r=o.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),Gt.create("throttled",{time:_P(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):o}return this._throttleData=null,s}initialize(e){this._app=e,this._heartbeatServiceProvider=ir(e,"heartbeat"),IM(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof uv?this._siteKey===e._siteKey:!1}}function OM(t,e){if(t===404||t===403)return{backoffCount:1,allowRequestsAfter:Date.now()+eM,httpStatus:t};{const n=e?e.backoffCount:0,r=hp(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}function CM(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw Gt.create("throttled",{time:_P(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(t=Mu(),e){t=_n(t);const n=ir(t,"app-check");if(Bh().initialized||dM(),ov()&&av().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&s.provider.isEqual(e.provider))return i;throw Gt.create("already-initialized",{appName:t.name})}const r=n.initialize({options:e});return xM(t,e.provider,e.isTokenAutoRefreshEnabled),lt(t).isTokenAutoRefreshEnabled&&PP(r,"INTERNAL",()=>{}),r}function xM(t,e,n){const r=JL(t,Object.assign({},vP));r.activated=!0,r.provider=e,r.cachedTokenPromise=hM(t).then(i=>(i&&As(i)&&(r.token=i,AP(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n===void 0?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}const NM="app-check",ow="app-check-internal";function DM(){gn(new nn(NM,t=>{const e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return _M(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(ow).initialize()})),gn(new nn(ow,t=>{const e=t.getProvider("app-check").getImmediate();return wM(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ht(EM,SM)}DM();const jM={apiKey:"AIzaSyBLnp5i6VET-aRxafItsIwAyZQYcPoB7MA",authDomain:"japanolearn-b696a.firebaseapp.com",projectId:"japanolearn-b696a",storageBucket:"japanolearn-b696a.appspot.com",messagingSenderId:"371685326092",appId:"1:371685326092:web:5f6d44da5951209ea9dd29",measurementId:"G-1BM1J723N3"},FM="6LfsWTYqAAAAAOYEWfzHrA0HuAkfWTBmNqcZV7hK",qu=oI(jM);qL(qu);const lv=O2(qu),LM=new cr,OP=gj(qu);kM(qu,{provider:new uv(FM)});const MM=()=>{const[t,e]=Q.useState([]);return Q.useEffect(()=>{(async()=>{const r=dj(OP,"lessons"),s=(await bj(r)).docs.map(o=>({id:o.id,...o.data()}));e(s)})()},[]),V.jsxs("div",{className:"p-6",children:[V.jsx("h1",{className:"text-4xl font-bold mb-6",children:"Lessons"}),V.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:t.map(n=>V.jsx("div",{className:"card lg:card-side bg-base-100 shadow-xl",children:V.jsxs("div",{className:"card-body",children:[V.jsx("h2",{className:"card-title",children:n.title}),V.jsx("p",{children:n.description}),V.jsxs("div",{className:"card-actions justify-end",children:[V.jsx(sk,{to:`/lessons/${n.id}`,className:"btn btn-primary",children:"Start"}),V.jsx("button",{className:"btn btn-secondary",disabled:!0,children:"Exercise"})]})]})},n.id))})]})},$M=()=>V.jsxs("div",{className:"p-6",children:[V.jsx("h1",{className:"text-4xl font-bold",children:"Exercises"}),V.jsx("p",{className:"mt-4",children:"Practice what youve learned with exercises."})]}),VM="/assets/logo-CcxgvupC.svg",UM=()=>{const t=Ih(),e=async()=>{try{const n=await MF(lv,LM);console.log(n.user),t("/home")}catch(n){console.error("Error logging in:",n)}};return V.jsx("div",{className:"flex justify-center items-center h-screen bg-base-200",children:V.jsxs("div",{className:"card lg:card-side bg-base-100 shadow-xl",children:[V.jsx("figure",{children:V.jsx("img",{src:VM,alt:"JapanoLearn Logo"})}),V.jsxs("div",{className:"card-body",children:[V.jsx("h2",{className:"card-title",children:"Welcome to JapanoLearn!"}),V.jsx("p",{children:"Let's get started!"}),V.jsx("div",{className:"card-actions justify-end",children:V.jsx("button",{onClick:e,className:"btn btn-primary",children:"Sign in with Google"})})]})]})})};var CP={exports:{}};/*! algoliasearch-lite.umd.js | 4.24.0 |  Algolia, inc. | https://github.com/algolia/algoliasearch-client-javascript */(function(t,e){(function(n,r){t.exports=r()})(x1,function(){function n(L,M,F){return M in L?Object.defineProperty(L,M,{value:F,enumerable:!0,configurable:!0,writable:!0}):L[M]=F,L}function r(L,M){var F=Object.keys(L);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(L);M&&($=$.filter(function(z){return Object.getOwnPropertyDescriptor(L,z).enumerable})),F.push.apply(F,$)}return F}function i(L){for(var M=1;M<arguments.length;M++){var F=arguments[M]!=null?arguments[M]:{};M%2?r(Object(F),!0).forEach(function($){n(L,$,F[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(F)):r(Object(F)).forEach(function($){Object.defineProperty(L,$,Object.getOwnPropertyDescriptor(F,$))})}return L}function s(L,M){if(L==null)return{};var F,$,z=function(ie,X){if(ie==null)return{};var _e,xe,be={},Ke=Object.keys(ie);for(xe=0;xe<Ke.length;xe++)_e=Ke[xe],X.indexOf(_e)>=0||(be[_e]=ie[_e]);return be}(L,M);if(Object.getOwnPropertySymbols){var Z=Object.getOwnPropertySymbols(L);for($=0;$<Z.length;$++)F=Z[$],M.indexOf(F)>=0||Object.prototype.propertyIsEnumerable.call(L,F)&&(z[F]=L[F])}return z}function o(L,M){return function(F){if(Array.isArray(F))return F}(L)||function(F,$){if(Symbol.iterator in Object(F)||Object.prototype.toString.call(F)==="[object Arguments]"){var z=[],Z=!0,ie=!1,X=void 0;try{for(var _e,xe=F[Symbol.iterator]();!(Z=(_e=xe.next()).done)&&(z.push(_e.value),!$||z.length!==$);Z=!0);}catch(be){ie=!0,X=be}finally{try{Z||xe.return==null||xe.return()}finally{if(ie)throw X}}return z}}(L,M)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(L){return function(M){if(Array.isArray(M)){for(var F=0,$=new Array(M.length);F<M.length;F++)$[F]=M[F];return $}}(L)||function(M){if(Symbol.iterator in Object(M)||Object.prototype.toString.call(M)==="[object Arguments]")return Array.from(M)}(L)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(L){var M,F="algoliasearch-client-js-".concat(L.key),$=function(){return M===void 0&&(M=L.localStorage||window.localStorage),M},z=function(){return JSON.parse($().getItem(F)||"{}")},Z=function(X){$().setItem(F,JSON.stringify(X))},ie=function(){var X=L.timeToLive?1e3*L.timeToLive:null,_e=z(),xe=Object.fromEntries(Object.entries(_e).filter(function(Ke){return o(Ke,2)[1].timestamp!==void 0}));if(Z(xe),X){var be=Object.fromEntries(Object.entries(xe).filter(function(Ke){var Ne=o(Ke,2)[1],pt=new Date().getTime();return!(Ne.timestamp+X<pt)}));Z(be)}};return{get:function(X,_e){var xe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then(function(){ie();var be=JSON.stringify(X);return z()[be]}).then(function(be){return Promise.all([be?be.value:_e(),be!==void 0])}).then(function(be){var Ke=o(be,2),Ne=Ke[0],pt=Ke[1];return Promise.all([Ne,pt||xe.miss(Ne)])}).then(function(be){return o(be,1)[0]})},set:function(X,_e){return Promise.resolve().then(function(){var xe=z();return xe[JSON.stringify(X)]={timestamp:new Date().getTime(),value:_e},$().setItem(F,JSON.stringify(xe)),_e})},delete:function(X){return Promise.resolve().then(function(){var _e=z();delete _e[JSON.stringify(X)],$().setItem(F,JSON.stringify(_e))})},clear:function(){return Promise.resolve().then(function(){$().removeItem(F)})}}}function c(L){var M=a(L.caches),F=M.shift();return F===void 0?{get:function($,z){var Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},ie=z();return ie.then(function(X){return Promise.all([X,Z.miss(X)])}).then(function(X){return o(X,1)[0]})},set:function($,z){return Promise.resolve(z)},delete:function($){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function($,z){var Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return F.get($,z,Z).catch(function(){return c({caches:M}).get($,z,Z)})},set:function($,z){return F.set($,z).catch(function(){return c({caches:M}).set($,z)})},delete:function($){return F.delete($).catch(function(){return c({caches:M}).delete($)})},clear:function(){return F.clear().catch(function(){return c({caches:M}).clear()})}}}function h(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{serializable:!0},M={};return{get:function(F,$){var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},Z=JSON.stringify(F);if(Z in M)return Promise.resolve(L.serializable?JSON.parse(M[Z]):M[Z]);var ie=$(),X=z&&z.miss||function(){return Promise.resolve()};return ie.then(function(_e){return X(_e)}).then(function(){return ie})},set:function(F,$){return M[JSON.stringify(F)]=L.serializable?JSON.stringify($):$,Promise.resolve($)},delete:function(F){return delete M[JSON.stringify(F)],Promise.resolve()},clear:function(){return M={},Promise.resolve()}}}function f(L){for(var M=L.length-1;M>0;M--){var F=Math.floor(Math.random()*(M+1)),$=L[M];L[M]=L[F],L[F]=$}return L}function p(L,M){return M&&Object.keys(M).forEach(function(F){L[F]=M[F](L)}),L}function g(L){for(var M=arguments.length,F=new Array(M>1?M-1:0),$=1;$<M;$++)F[$-1]=arguments[$];var z=0;return L.replace(/%s/g,function(){return encodeURIComponent(F[z++])})}var _={WithinQueryParameters:0,WithinHeaders:1};function E(L,M){var F=L||{},$=F.data||{};return Object.keys(F).forEach(function(z){["timeout","headers","queryParameters","data","cacheable"].indexOf(z)===-1&&($[z]=F[z])}),{data:Object.entries($).length>0?$:void 0,timeout:F.timeout||M,headers:F.headers||{},queryParameters:F.queryParameters||{},cacheable:F.cacheable}}var R={Read:1,Write:2,Any:3},y=1,w=2,P=3;function C(L){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y;return i(i({},L),{},{status:M,lastUpdate:Date.now()})}function x(L){return typeof L=="string"?{protocol:"https",url:L,accept:R.Any}:{protocol:L.protocol||"https",url:L.url,accept:L.accept||R.Any}}var j="GET",A="POST";function v(L,M){return Promise.all(M.map(function(F){return L.get(F,function(){return Promise.resolve(C(F))})})).then(function(F){var $=F.filter(function(ie){return function(X){return X.status===y||Date.now()-X.lastUpdate>12e4}(ie)}),z=F.filter(function(ie){return function(X){return X.status===P&&Date.now()-X.lastUpdate<=12e4}(ie)}),Z=[].concat(a($),a(z));return{getTimeout:function(ie,X){return(z.length===0&&ie===0?1:z.length+3+ie)*X},statelessHosts:Z.length>0?Z.map(function(ie){return x(ie)}):M}})}function S(L,M,F,$){var z=[],Z=function(Ne,pt){if(!(Ne.method===j||Ne.data===void 0&&pt.data===void 0)){var Oe=Array.isArray(Ne.data)?Ne.data:i(i({},Ne.data),pt.data);return JSON.stringify(Oe)}}(F,$),ie=function(Ne,pt){var Oe=i(i({},Ne.headers),pt.headers),et={};return Object.keys(Oe).forEach(function(on){var qt=Oe[on];et[on.toLowerCase()]=qt}),et}(L,$),X=F.method,_e=F.method!==j?{}:i(i({},F.data),$.data),xe=i(i(i({"x-algolia-agent":L.userAgent.value},L.queryParameters),_e),$.queryParameters),be=0,Ke=function Ne(pt,Oe){var et=pt.pop();if(et===void 0)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, please reach out to the Algolia Support team: https://alg.li/support .",transporterStackTrace:O(z)};var on={data:Z,headers:ie,method:X,url:b(et,F.path,xe),connectTimeout:Oe(be,L.timeouts.connect),responseTimeout:Oe(be,$.timeout)},qt=function(he){var we={request:on,response:he,host:et,triesLeft:pt.length};return z.push(we),we},Qe={onSuccess:function(he){return function(we){try{return JSON.parse(we.content)}catch(an){throw function(An,Ar){return{name:"DeserializationError",message:An,response:Ar}}(an.message,we)}}(he)},onRetry:function(he){var we=qt(he);return he.isTimedOut&&be++,Promise.all([L.logger.info("Retryable failure",Pe(we)),L.hostsCache.set(et,C(et,he.isTimedOut?P:w))]).then(function(){return Ne(pt,Oe)})},onFail:function(he){throw qt(he),function(we,an){var An=we.content,Ar=we.status,On=An;try{On=JSON.parse(An).message}catch{}return function(wi,as,Po){return{name:"ApiError",message:wi,status:as,transporterStackTrace:Po}}(On,Ar,an)}(he,O(z))}};return L.requester.send(on).then(function(he){return function(we,an){return function(An){var Ar=An.status;return An.isTimedOut||function(On){var wi=On.isTimedOut,as=On.status;return!wi&&~~as==0}(An)||~~(Ar/100)!=2&&~~(Ar/100)!=4}(we)?an.onRetry(we):~~(we.status/100)==2?an.onSuccess(we):an.onFail(we)}(he,Qe)})};return v(L.hostsCache,M).then(function(Ne){return Ke(a(Ne.statelessHosts).reverse(),Ne.getTimeout)})}function T(L){var M={value:"Algolia for JavaScript (".concat(L,")"),add:function(F){var $="; ".concat(F.segment).concat(F.version!==void 0?" (".concat(F.version,")"):"");return M.value.indexOf($)===-1&&(M.value="".concat(M.value).concat($)),M}};return M}function b(L,M,F){var $=k(F),z="".concat(L.protocol,"://").concat(L.url,"/").concat(M.charAt(0)==="/"?M.substr(1):M);return $.length&&(z+="?".concat($)),z}function k(L){return Object.keys(L).map(function(M){return g("%s=%s",M,(F=L[M],Object.prototype.toString.call(F)==="[object Object]"||Object.prototype.toString.call(F)==="[object Array]"?JSON.stringify(L[M]):L[M]));var F}).join("&")}function O(L){return L.map(function(M){return Pe(M)})}function Pe(L){var M=L.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return i(i({},L),{},{request:i(i({},L.request),{},{headers:i(i({},L.request.headers),M)})})}var ue=function(L){var M=L.appId,F=function(z,Z,ie){var X={"x-algolia-api-key":ie,"x-algolia-application-id":Z};return{headers:function(){return z===_.WithinHeaders?X:{}},queryParameters:function(){return z===_.WithinQueryParameters?X:{}}}}(L.authMode!==void 0?L.authMode:_.WithinHeaders,M,L.apiKey),$=function(z){var Z=z.hostsCache,ie=z.logger,X=z.requester,_e=z.requestsCache,xe=z.responsesCache,be=z.timeouts,Ke=z.userAgent,Ne=z.hosts,pt=z.queryParameters,Oe={hostsCache:Z,logger:ie,requester:X,requestsCache:_e,responsesCache:xe,timeouts:be,userAgent:Ke,headers:z.headers,queryParameters:pt,hosts:Ne.map(function(et){return x(et)}),read:function(et,on){var qt=E(on,Oe.timeouts.read),Qe=function(){return S(Oe,Oe.hosts.filter(function(we){return(we.accept&R.Read)!=0}),et,qt)};if((qt.cacheable!==void 0?qt.cacheable:et.cacheable)!==!0)return Qe();var he={request:et,mappedRequestOptions:qt,transporter:{queryParameters:Oe.queryParameters,headers:Oe.headers}};return Oe.responsesCache.get(he,function(){return Oe.requestsCache.get(he,function(){return Oe.requestsCache.set(he,Qe()).then(function(we){return Promise.all([Oe.requestsCache.delete(he),we])},function(we){return Promise.all([Oe.requestsCache.delete(he),Promise.reject(we)])}).then(function(we){var an=o(we,2);return an[0],an[1]})})},{miss:function(we){return Oe.responsesCache.set(he,we)}})},write:function(et,on){return S(Oe,Oe.hosts.filter(function(qt){return(qt.accept&R.Write)!=0}),et,E(on,Oe.timeouts.write))}};return Oe}(i(i({hosts:[{url:"".concat(M,"-dsn.algolia.net"),accept:R.Read},{url:"".concat(M,".algolia.net"),accept:R.Write}].concat(f([{url:"".concat(M,"-1.algolianet.com")},{url:"".concat(M,"-2.algolianet.com")},{url:"".concat(M,"-3.algolianet.com")}]))},L),{},{headers:i(i(i({},F.headers()),{"content-type":"application/x-www-form-urlencoded"}),L.headers),queryParameters:i(i({},F.queryParameters()),L.queryParameters)}));return p({transporter:$,appId:M,addAlgoliaAgent:function(z,Z){$.userAgent.add({segment:z,version:Z})},clearCache:function(){return Promise.all([$.requestsCache.clear(),$.responsesCache.clear()]).then(function(){})}},L.methods)},st=function(L){return function(M,F){return M.method===j?L.transporter.read(M,F):L.transporter.write(M,F)}},ve=function(L){return function(M){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$={transporter:L.transporter,appId:L.appId,indexName:M};return p($,F.methods)}},B=function(L){return function(M,F){var $=M.map(function(z){return i(i({},z),{},{params:k(z.params||{})})});return L.transporter.read({method:A,path:"1/indexes/*/queries",data:{requests:$},cacheable:!0},F)}},G=function(L){return function(M,F){return Promise.all(M.map(function($){var z=$.params,Z=z.facetName,ie=z.facetQuery,X=s(z,["facetName","facetQuery"]);return ve(L)($.indexName,{methods:{searchForFacetValues:le}}).searchForFacetValues(Z,ie,i(i({},F),X))}))}},te=function(L){return function(M,F,$){return L.transporter.read({method:A,path:g("1/answers/%s/prediction",L.indexName),data:{query:M,queryLanguages:F},cacheable:!0},$)}},re=function(L){return function(M,F){return L.transporter.read({method:A,path:g("1/indexes/%s/query",L.indexName),data:{query:M},cacheable:!0},F)}},le=function(L){return function(M,F,$){return L.transporter.read({method:A,path:g("1/indexes/%s/facets/%s/query",L.indexName,M),data:{facetQuery:F},cacheable:!0},$)}},Se=1,Ze=2,Wt=3,sn=function(L){return function(M,F){var $=M.map(function(z){return i(i({},z),{},{threshold:z.threshold||0})});return L.transporter.read({method:A,path:"1/indexes/*/recommendations",data:{requests:$},cacheable:!0},F)}};function jt(L,M,F){var $,z={appId:L,apiKey:M,timeouts:{connect:1,read:2,write:30},requester:{send:function(Z){return new Promise(function(ie){var X=new XMLHttpRequest;X.open(Z.method,Z.url,!0),Object.keys(Z.headers).forEach(function(Ke){return X.setRequestHeader(Ke,Z.headers[Ke])});var _e,xe=function(Ke,Ne){return setTimeout(function(){X.abort(),ie({status:0,content:Ne,isTimedOut:!0})},1e3*Ke)},be=xe(Z.connectTimeout,"Connection timeout");X.onreadystatechange=function(){X.readyState>X.OPENED&&_e===void 0&&(clearTimeout(be),_e=xe(Z.responseTimeout,"Socket timeout"))},X.onerror=function(){X.status===0&&(clearTimeout(be),clearTimeout(_e),ie({content:X.responseText||"Network request failed",status:X.status,isTimedOut:!1}))},X.onload=function(){clearTimeout(be),clearTimeout(_e),ie({content:X.responseText,status:X.status,isTimedOut:!1})},X.send(Z.data)})}},logger:($=Wt,{debug:function(Z,ie){return Se>=$&&console.debug(Z,ie),Promise.resolve()},info:function(Z,ie){return Ze>=$&&console.info(Z,ie),Promise.resolve()},error:function(Z,ie){return console.error(Z,ie),Promise.resolve()}}),responsesCache:h(),requestsCache:h({serializable:!1}),hostsCache:c({caches:[u({key:"".concat("4.24.0","-").concat(L)}),h()]}),userAgent:T("4.24.0").add({segment:"Browser",version:"lite"}),authMode:_.WithinQueryParameters};return ue(i(i(i({},z),F),{},{methods:{search:B,searchForFacetValues:G,multipleQueries:B,multipleSearchForFacetValues:G,customRequest:st,initIndex:function(Z){return function(ie){return ve(Z)(ie,{methods:{search:re,searchForFacetValues:le,findAnswers:te}})}},getRecommendations:sn}}))}return jt.version="4.24.0",jt})})(CP);var HM=CP.exports;const BM=ho(HM);var zM="ais",zh=function(e){return function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=n.descendantName,i=n.modifierName,s=r?"-".concat(r):"",o=i?"--".concat(i):"";return"".concat(zM,"-").concat(e).concat(s).concat(o)}},WM=0;function qM(t){t.dependsOn==="recommend"&&(t.$$id=WM++)}function hn(){}var Ku=function(e,n){return e};function KM(t){return Object.prototype.toString.call(t).slice(8,-1)}function QM(t,e){if(t===void 0||typeof t!="function")throw new Error("The render function is not valid (received type ".concat(KM(t),`).

`).concat(e))}var GM={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},kP=/[&<>"']/g,YM=RegExp(kP.source);function JM(t){return t&&YM.test(t)?t.replace(kP,function(e){return GM[e]}):t}var XM={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},xP=/&(amp|quot|lt|gt|#39);/g,ZM=RegExp(xP.source);function Qu(t){return t&&ZM.test(t)?t.replace(xP,function(e){return XM[e]}):t}function Lp(t){"@babel/helpers - typeof";return Lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lp(t)}function e$(t){return t===null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}function t$(t){return Lp(t)==="object"&&t!==null}function NP(t){if(!t$(t)||e$(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function ou(t){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(t)}function n$(t){if(t==null)throw new TypeError("Cannot destructure "+t)}function Mp(){return Mp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mp.apply(this,arguments)}function aw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aw(Object(n),!0).forEach(function(r){DP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DP(t,e,n){return e=r$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r$(t){var e=i$(t,"string");return ou(e)==="symbol"?e:String(e)}function i$(t,e){if(ou(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ou(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gc={highlightPreTag:"__ais-highlight__",highlightPostTag:"__/ais-highlight__"},rn={highlightPreTag:"<mark>",highlightPostTag:"</mark>"};function s$(t){return JM(t).replace(new RegExp(Gc.highlightPreTag,"g"),rn.highlightPreTag).replace(new RegExp(Gc.highlightPostTag,"g"),rn.highlightPostTag)}function Yc(t){return NP(t)&&typeof t.value!="string"?Object.keys(t).reduce(function(e,n){return jl(jl({},e),{},DP({},n,Yc(t[n])))},{}):Array.isArray(t)?t.map(Yc):jl(jl({},t),{},{value:s$(t.value)})}function o$(t){return t.__escaped===void 0&&(t=t.map(function(e){var n=Mp({},(n$(e),e));return n._highlightResult&&(n._highlightResult=Yc(n._highlightResult)),n._snippetResult&&(n._snippetResult=Yc(n._snippetResult)),n}),t.__escaped=!0),t}function jP(t){var e=rn.highlightPreTag,n=rn.highlightPostTag;return t.map(function(r){return r.isHighlighted?e+r.value+n:r.value}).join("")}function FP(t){return btoa(encodeURIComponent(JSON.stringify(t)))}function LP(t){return JSON.parse(decodeURIComponent(atob(t)))}function uw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ed(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uw(Object(n),!0).forEach(function(r){a$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function a$(t,e,n){return e=u$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u$(t){var e=l$(t,"string");return oo(e)==="symbol"?e:String(e)}function l$(t,e){if(oo(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(oo(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function c$(t,e){return p$(t)||d$(t,e)||f$(t,e)||h$()}function h$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f$(t,e){if(t){if(typeof t=="string")return lw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lw(t,e)}}function lw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d$(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],u=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(u=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(h){c=!0,i=h}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function p$(t){if(Array.isArray(t))return t}function oo(t){"@babel/helpers - typeof";return oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oo(t)}function m$(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,n=[],r=0;r<Math.ceil(t.length/e);r++)n.push(t.slice(r*e,(r+1)*e));return n}function MP(t){var e=t.getIndex,n=t.widgetType;t.methodName;var r=t.args,i=t.instantSearchInstance;if(r.length===1&&oo(r[0])==="object")return[r[0]];var s=r[0].split(":"),o=c$(s,2),a=o[0],u=o[1],c=r[1],h=r[2],f=r[3]||{};if(!c)return[];if((a==="click"||a==="conversion")&&!h)return[];var p=Array.isArray(c)?c:[c];if(p.length===0)return[];var g=p[0].__queryID,_=m$(p),E=_.map(function(y){return y.map(function(w){return w.objectID})}),R=_.map(function(y){return y.map(function(w){return w.__position})});return a==="view"?i.status!=="idle"?[]:_.map(function(y,w){return{insightsMethod:"viewedObjectIDs",widgetType:n,eventType:a,payload:ed({eventName:h||"Hits Viewed",index:e(),objectIDs:E[w]},f),hits:y,eventModifier:u}}):a==="click"?_.map(function(y,w){return{insightsMethod:"clickedObjectIDsAfterSearch",widgetType:n,eventType:a,payload:ed({eventName:h||"Hit Clicked",index:e(),queryID:g,objectIDs:E[w],positions:R[w]},f),hits:y,eventModifier:u}}):a==="conversion"?_.map(function(y,w){return{insightsMethod:"convertedObjectIDsAfterSearch",widgetType:n,eventType:a,payload:ed({eventName:h||"Hit Converted",index:e(),queryID:g,objectIDs:E[w]},f),hits:y,eventModifier:u}}):[]}function g$(t){var e=t.instantSearchInstance,n=t.getIndex,r=t.widgetType,i={},s=void 0,o=function(){for(var u=arguments.length,c=new Array(u),h=0;h<u;h++)c[h]=arguments[h];var f=MP({widgetType:r,getIndex:n,methodName:"sendEvent",args:c,instantSearchInstance:e});f.forEach(function(p){p.eventType==="click"&&p.eventModifier==="internal"&&i[p.eventType]||(i[p.eventType]=!0,e.sendEventToInsights(p))}),clearTimeout(s),s=setTimeout(function(){i={}},0)};return o}function v$(t){var e=t.getIndex,n=t.widgetType,r=t.instantSearchInstance,i=function(){for(var o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];var c=MP({widgetType:n,getIndex:e,methodName:"bindEvent",args:a,instantSearchInstance:r});return c.length?"data-insights-event=".concat(FP(c)):""};return i}function jn(t){return t.$$type==="ais.index"}function $p(t,e){var n=t[e.getIndexId()]||{};e.getHelper().setState(e.getWidgetSearchParameters(e.getHelper().state,{uiState:n})),e.getWidgets().filter(jn).forEach(function(r){return $p(t,r)})}var y$=Promise.resolve();function Go(t){var e=null,n=!1,r=function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];e===null&&(e=y$.then(function(){if(e=null,n){n=!1;return}t.apply(void 0,o)}))};return r.wait=function(){if(e===null)throw new Error("The deferred function should be called before calling `wait()`");return e},r.cancel=function(){e!==null&&(n=!0)},r}function _$(t){var e=t.name,n=t.connector,r=n===void 0?!1:n;return["https://www.algolia.com/doc/api-reference/widgets/",e,"/js/",r?"#connector":""].join("")}function Io(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.map(function(i){return _$(i)}).join(", ");return function(i){return[i,"See documentation: ".concat(r)].filter(Boolean).join(`

`)}}function $P(t,e){for(var n,r=0;r<t.length;r++)if(n=t[r],e(n,r,t))return n}function w$(t,e){if(!Array.isArray(t))return-1;for(var n=0;n<t.length;n++)if(e(t[n]))return n;return-1}function E$(t){if(t.transporter){var e=t.transporter,n=e.headers||e.baseHeaders,r=e.queryParameters||e.baseQueryParameters,i="x-algolia-application-id",s="x-algolia-api-key",o=n[i]||r[i],a=n[s]||r[s];return[o,a]}else return[t.applicationID,t.apiKey]}function S$(t){return t instanceof HTMLElement||!!t&&t.nodeType>0}function T$(t){var e=typeof t=="string",n=e?document.querySelector(t):t;if(!S$(n)){var r="Container must be `string` or `HTMLElement`.";throw e&&(r+=" Unable to find ".concat(t)),new Error(r)}return n}function Ro(t){var e=rn.highlightPostTag,n=rn.highlightPreTag,r=t.split(n),i=r.shift(),s=i?[{value:i,isHighlighted:!1}]:[];return r.forEach(function(o){var a=o.split(e);s.push({value:a[0],isHighlighted:!0}),a[1]!==""&&s.push({value:a[1],isHighlighted:!1})}),s}var I$=new RegExp(/\w/i);function R$(t,e){var n,r,i=t[e],s=((n=t[e+1])===null||n===void 0?void 0:n.isHighlighted)||!0,o=((r=t[e-1])===null||r===void 0?void 0:r.isHighlighted)||!0;return!I$.test(Qu(i.value))&&o===s?o:i.isHighlighted}function _i(t,e){var n=Array.isArray(e)?e:e.split(".");return n.reduce(function(r,i){return r&&r[i]},t)}function au(t){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(t)}function cw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cw(Object(n),!0).forEach(function(r){P$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function P$(t,e,n){return e=b$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b$(t){var e=A$(t,"string");return au(e)==="symbol"?e:String(e)}function A$(t,e){if(au(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(au(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function O$(t,e,n){return t.map(function(r,i){return hw(hw({},r),{},{__position:n*e+i+1})})}function uu(t){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uu(t)}function fw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fw(Object(n),!0).forEach(function(r){C$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function C$(t,e,n){return e=k$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k$(t){var e=x$(t,"string");return uu(e)==="symbol"?e:String(e)}function x$(t,e){if(uu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(uu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function N$(t,e){return e?t.map(function(n){return dw(dw({},n),{},{__queryID:e})}):t}function lu(t){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lu(t)}function pw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pw(Object(n),!0).forEach(function(r){D$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function D$(t,e,n){return e=j$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j$(t){var e=F$(t,"string");return lu(e)==="symbol"?e:String(e)}function F$(t,e){if(lu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(lu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function L$(t,e){var n=Object.keys(e).reduce(function(r,i){var s=e[i];return s.recommendResults?mw(mw({},r),s.recommendResults.results):r},{});t._recommendCache=n}function cu(t){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cu(t)}function M$(t,e){return H$(t)||U$(t,e)||V$(t,e)||$$()}function $$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V$(t,e){if(t){if(typeof t=="string")return gw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gw(t,e)}}function gw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function U$(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],u=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(u=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(h){c=!0,i=h}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function H$(t){if(Array.isArray(t))return t}function vw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vw(Object(n),!0).forEach(function(r){VP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VP(t,e,n){return e=B$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B$(t){var e=z$(t,"string");return cu(e)==="symbol"?e:String(e)}function z$(t,e){if(cu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function W$(t,e){if(e&&!((!("transporter"in t)||t._cacheHydrated)&&(!t._useCache||typeof t.addAlgoliaAgent!="function"))){var n=[Object.keys(e).reduce(function(o,a){var u=e[a],c=u.state,h=u.requestParams,f=u.results,p=f&&c?f.map(function(g,_){return Yo({indexName:c.index||g.index},h!=null&&h[_]||g.params?{params:yw((h==null?void 0:h[_])||q$(g.params))}:{})}):[];return o.concat(p)},[])],r=Object.keys(e).reduce(function(o,a){var u=e[a].results;return u?o.concat(u):o},[]);if("transporter"in t&&!t._cacheHydrated){t._cacheHydrated=!0;var i=t.search;t.search=function(o){for(var a=arguments.length,u=new Array(a>1?a-1:0),c=1;c<a;c++)u[c-1]=arguments[c];var h=o.map(function(f){return Yo(Yo({},f),{},{params:yw(f.params)})});return t.transporter.responsesCache.get({method:"search",args:[h].concat(u)},function(){return i.apply(void 0,[o].concat(u))})},t.transporter.responsesCache.set({method:"search",args:n},{results:r})}if(!("transporter"in t)){var s="/1/indexes/*/queries_body_".concat(JSON.stringify({requests:n}));t.cache=Yo(Yo({},t.cache),{},VP({},s,JSON.stringify({results:Object.keys(e).map(function(o){return e[o].results})})))}}}function q$(t){return t.split("&").reduce(function(e,n){var r=n.split("="),i=M$(r,2),s=i[0],o=i[1];return e[s]=o?decodeURIComponent(o):"",e},{})}function yw(t){var e=function(i){return Object.prototype.toString.call(i)==="[object Object]"||Object.prototype.toString.call(i)==="[object Array]"},n=function(i){for(var s=arguments.length,o=new Array(s>1?s-1:0),a=1;a<s;a++)o[a-1]=arguments[a];var u=0;return i.replace(/%s/g,function(){return encodeURIComponent(o[u++])})};return Object.keys(t).map(function(r){return n("%s=%s",r,e(t[r])?JSON.stringify(t[r]):t[r])}).join("&")}function _w(t){return t!==Object(t)}function hu(t,e){if(t===e)return!0;if(_w(t)||_w(e)||typeof t=="function"||typeof e=="function")return t===e;if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];if(!(i in e)||!hu(t[i],e[i]))return!1}return!0}function cv(t){return t.filter(function(e,n,r){return r.indexOf(e)===n})}function fu(t){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fu(t)}var K$=["facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacets","hierarchicalFacetsRefinements","ruleContexts"];function ww(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ww(Object(n),!0).forEach(function(r){Q$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ww(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Q$(t,e,n){return e=G$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G$(t){var e=Y$(t,"string");return fu(e)==="symbol"?e:String(e)}function Y$(t,e){if(fu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(fu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function J$(t,e){if(t==null)return{};var n=X$(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function X$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Z$=function(e,n){n.facets,n.disjunctiveFacets,n.facetsRefinements,n.facetsExcludes,n.disjunctiveFacetsRefinements,n.numericRefinements,n.tagRefinements,n.hierarchicalFacets,n.hierarchicalFacetsRefinements,n.ruleContexts;var r=J$(n,K$);return e.setQueryParameters(r)},eV=function(e,n){return n.facets.reduce(function(r,i){return r.addFacet(i)},e)},tV=function(e,n){return n.disjunctiveFacets.reduce(function(r,i){return r.addDisjunctiveFacet(i)},e)},nV=function(e,n){return e.setQueryParameters({hierarchicalFacets:n.hierarchicalFacets.reduce(function(r,i){var s=w$(r,function(a){return a.name===i.name});if(s===-1)return r.concat(i);var o=r.slice();return o.splice(s,1,i),o},e.hierarchicalFacets)})},rV=function(e,n){return n.tagRefinements.reduce(function(r,i){return r.addTagRefinement(i)},e)},iV=function(e,n){return e.setQueryParameters({facetsRefinements:rr(rr({},e.facetsRefinements),n.facetsRefinements)})},sV=function(e,n){return e.setQueryParameters({facetsExcludes:rr(rr({},e.facetsExcludes),n.facetsExcludes)})},oV=function(e,n){return e.setQueryParameters({disjunctiveFacetsRefinements:rr(rr({},e.disjunctiveFacetsRefinements),n.disjunctiveFacetsRefinements)})},aV=function(e,n){return e.setQueryParameters({numericRefinements:rr(rr({},e.numericRefinements),n.numericRefinements)})},uV=function(e,n){return e.setQueryParameters({hierarchicalFacetsRefinements:rr(rr({},e.hierarchicalFacetsRefinements),n.hierarchicalFacetsRefinements)})},lV=function(e,n){var r=cv([].concat(e.ruleContexts).concat(n.ruleContexts).filter(Boolean));return r.length>0?e.setQueryParameters({ruleContexts:r}):e},oc=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.reduce(function(i,s){var o=uV(i,s),a=nV(o,s),u=rV(a,s),c=aV(u,s),h=oV(c,s),f=sV(h,s),p=iV(f,s),g=tV(p,s),_=lV(g,s),E=eV(_,s);return Z$(E,s)})};function cV(t,e){return t==null?t:Object.keys(t).reduce(function(n,r){if(e.indexOf(r)>=0)return n;var i=r;return n[i]=t[i],n},{})}function ca(t,e,n){var r=e.getHelper();return{uiState:n,helper:r,parent:e,instantSearchInstance:t,state:r.state,renderState:t.renderState,templatesConfig:t.templatesConfig,createURL:e.createURL,scopedResults:[],searchMetadata:{isSearchStalled:t.status==="stalled"},status:t.status,error:t.error}}function Ew(t,e,n){var r=e.getResultsForWidget(n),i=e.getHelper();return{helper:i,parent:e,instantSearchInstance:t,results:r,scopedResults:e.getScopedResults(),state:r&&"_state"in r?r._state:i.state,renderState:t.renderState,templatesConfig:t.templatesConfig,createURL:e.createURL,searchMetadata:{isSearchStalled:t.status==="stalled"},status:t.status,error:t.error}}function hV(t){for(var e=t.getParent(),n=[t.getHelper().state];e!==null;)n=[e.getHelper().state].concat(n),e=e.getParent();return n}function du(t){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},du(t)}function Sw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sw(Object(n),!0).forEach(function(r){fV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fV(t,e,n){return e=dV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dV(t){var e=pV(t,"string");return du(e)==="symbol"?e:String(e)}function pV(t,e){if(du(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(du(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UP(t){return t.some(function(e){return e.isHighlighted})?t.map(function(e,n){return Fl(Fl({},e),{},{isHighlighted:!R$(t,n)})}):t.map(function(e){return Fl(Fl({},e),{},{isHighlighted:!1})})}function Qn(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{fallback:function(){}},n=e.fallback;return typeof window>"u"?n():t({window})}function Wh(t){return Array.isArray(t)?t:[t]}var mV=zh("Highlight");function HP(t){var e=t.attribute,n=t.highlightedTagName,r=n===void 0?"mark":n,i=t.hit,s=t.cssClasses,o=s===void 0?{}:s,a=_i(i._highlightResult,e),u=a||{},c=u.value,h=c===void 0?"":c,f=mV({descendantName:"highlighted"})+(o.highlighted?" ".concat(o.highlighted):"");return h.replace(new RegExp(rn.highlightPreTag,"g"),"<".concat(r,' class="').concat(f,'">')).replace(new RegExp(rn.highlightPostTag,"g"),"</".concat(r,">"))}var gV=zh("ReverseHighlight");function BP(t){var e=t.attribute,n=t.highlightedTagName,r=n===void 0?"mark":n,i=t.hit,s=t.cssClasses,o=s===void 0?{}:s,a=_i(i._highlightResult,e),u=a||{},c=u.value,h=c===void 0?"":c,f=gV({descendantName:"highlighted"})+(o.highlighted?" ".concat(o.highlighted):""),p=jP(UP(Ro(h)));return p.replace(new RegExp(rn.highlightPreTag,"g"),"<".concat(r,' class="').concat(f,'">')).replace(new RegExp(rn.highlightPostTag,"g"),"</".concat(r,">"))}var vV=zh("Snippet");function zP(t){var e=t.attribute,n=t.highlightedTagName,r=n===void 0?"mark":n,i=t.hit,s=t.cssClasses,o=s===void 0?{}:s,a=_i(i._snippetResult,e),u=a||{},c=u.value,h=c===void 0?"":c,f=vV({descendantName:"highlighted"})+(o.highlighted?" ".concat(o.highlighted):"");return h.replace(new RegExp(rn.highlightPreTag,"g"),"<".concat(r,' class="').concat(f,'">')).replace(new RegExp(rn.highlightPostTag,"g"),"</".concat(r,">"))}var yV=zh("ReverseSnippet");function WP(t){var e=t.attribute,n=t.highlightedTagName,r=n===void 0?"mark":n,i=t.hit,s=t.cssClasses,o=s===void 0?{}:s,a=_i(i._snippetResult,e),u=a||{},c=u.value,h=c===void 0?"":c,f=yV({descendantName:"highlighted"})+(o.highlighted?" ".concat(o.highlighted):""),p=jP(UP(Ro(h)));return p.replace(new RegExp(rn.highlightPreTag,"g"),"<".concat(r,' class="').concat(f,'">')).replace(new RegExp(rn.highlightPostTag,"g"),"</".concat(r,">"))}function Vp(t){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vp(t)}function _V(t){var e=t.getAttribute("data-insights-method"),n=t.getAttribute("data-insights-payload");if(typeof n!="string")throw new Error("The insights helper expects `data-insights-payload` to be a base64-encoded JSON string.");try{var r=LP(n);return{method:e,payload:r}}catch{throw new Error("The insights helper was unable to parse `data-insights-payload`.")}}function wV(t){var e=t.method,n=t.payload;if(Vp(n)!=="object")throw new Error("The insights helper expects the payload to be an object.");var r;try{r=FP(n)}catch{throw new Error("Could not JSON serialize the payload object.")}return'data-insights-method="'.concat(e,'" data-insights-payload="').concat(r,'"')}function qP(t,e){return wV({method:t,payload:e})}function Up(t){"@babel/helpers - typeof";return Up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Up(t)}var EV="_ALGOLIA";function SV(t){if(!((typeof document>"u"?"undefined":Up(document))!=="object"||typeof document.cookie!="string"))for(var e="".concat(t,"="),n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];i.charAt(0)===" ";)i=i.substring(1);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}}function KP(){return SV(EV)}function TV(){return KP()}var IV=["page"];function RV(t,e){if(t==null)return{};var n=PV(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function PV(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Tw(t){var e=t||{};e.page;var n=RV(e,IV);return n}var td="ais.infiniteHits";function bV(){return{read:function(e){var n=e.state,r=Qn(function(s){var o=s.window;return o.sessionStorage});if(!r)return null;try{var i=JSON.parse(r.getItem(td));return i&&hu(i.state,Tw(n))?i.hits:null}catch(s){if(s instanceof SyntaxError)try{r.removeItem(td)}catch{}return null}},write:function(e){var n=e.state,r=e.hits,i=Qn(function(s){var o=s.window;return o.sessionStorage});if(i)try{i.setItem(td,JSON.stringify({state:Tw(n),hits:r}))}catch{}}}}function Dt(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var hv=Dt;Dt.prototype._events=void 0;Dt.prototype._maxListeners=void 0;Dt.defaultMaxListeners=10;Dt.prototype.setMaxListeners=function(t){if(!AV(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this};Dt.prototype.emit=function(t){var e,n,r,i,s,o;if(this._events||(this._events={}),t==="error"&&(!this._events.error||pu(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;var a=new Error('Uncaught, unspecified "error" event. ('+e+")");throw a.context=e,a}if(n=this._events[t],QP(n))return!1;if(Rr(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(pu(n))for(i=Array.prototype.slice.call(arguments,1),o=n.slice(),r=o.length,s=0;s<r;s++)o[s].apply(this,i);return!0};Dt.prototype.addListener=function(t,e){var n;if(!Rr(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,Rr(e.listener)?e.listener:e),this._events[t]?pu(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,pu(this._events[t])&&!this._events[t].warned&&(QP(this._maxListeners)?n=Dt.defaultMaxListeners:n=this._maxListeners,n&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),typeof console.trace=="function"&&console.trace())),this};Dt.prototype.on=Dt.prototype.addListener;Dt.prototype.once=function(t,e){if(!Rr(e))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(t,r),n||(n=!0,e.apply(this,arguments))}return r.listener=e,this.on(t,r),this};Dt.prototype.removeListener=function(t,e){var n,r,i,s;if(!Rr(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],i=n.length,r=-1,n===e||Rr(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(pu(n)){for(s=i;s-- >0;)if(n[s]===e||n[s].listener&&n[s].listener===e){r=s;break}if(r<0)return this;n.length===1?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this};Dt.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[t]&&delete this._events[t],this;if(arguments.length===0){for(e in this._events)e!=="removeListener"&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],Rr(n))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this};Dt.prototype.listeners=function(t){var e;return!this._events||!this._events[t]?e=[]:Rr(this._events[t])?e=[this._events[t]]:e=this._events[t].slice(),e};Dt.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(Rr(e))return 1;if(e)return e.length}return 0};Dt.listenerCount=function(t,e){return t.listenerCount(e)};function Rr(t){return typeof t=="function"}function AV(t){return typeof t=="number"}function pu(t){return typeof t=="object"&&t!==null}function QP(t){return t===void 0}const OV=ho(hv);function CV(t,e){t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}var GP=CV,kV=hv,xV=GP;function Gu(t,e,n){this.main=t,this.fn=e,this.recommendFn=n,this.lastResults=null,this.lastRecommendResults=null}xV(Gu,kV);Gu.prototype.detach=function(){this.removeAllListeners(),this.main.detachDerivedHelper(this)};Gu.prototype.getModifiedState=function(t){return this.fn(t)};Gu.prototype.getModifiedRecommendState=function(t){return this.recommendFn(t)};var NV=Gu;function DV(t){return typeof t!="string"?t:String(t).replace(/^-/,"\\-")}function jV(t){return typeof t!="string"?t:t.replace(/^\\-/,"-")}var fv={escapeFacetValue:DV,unescapeFacetValue:jV};function FV(t){return typeof t=="object"&&t!==null?dv(Array.isArray(t)?[]:{},t):t}function Jc(t){return typeof t=="function"||Array.isArray(t)||Object.prototype.toString.call(t)==="[object Object]"}function dv(t,e){if(t===e)return t;for(var n in e)if(!(!Object.prototype.hasOwnProperty.call(e,n)||n==="__proto__"||n==="constructor")){var r=e[n],i=t[n];typeof i<"u"&&typeof r>"u"||(Jc(i)&&Jc(r)?t[n]=dv(i,r):t[n]=FV(r))}return t}function LV(t){Jc(t)||(t={});for(var e=1,n=arguments.length;e<n;e++){var r=arguments[e];Jc(r)&&dv(t,r)}return t}var qh=LV;function MV(t){return t&&Object.keys(t).length>0}var pv=MV;function $V(t,e){if(t===null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var mv=$V;function ha(t){t=t||{},this.params=t.params||[]}ha.prototype={constructor:ha,addParams:function(t){var e=this.params.slice();return e.push(t),new ha({params:e})},removeParams:function(t){return new ha({params:this.params.filter(function(e){return e.$$id!==t})})},addFrequentlyBoughtTogether:function(t){return this.addParams(Object.assign({},t,{model:"bought-together"}))},addRelatedProducts:function(t){return this.addParams(Object.assign({},t,{model:"related-products"}))},addTrendingItems:function(t){return this.addParams(Object.assign({},t,{model:"trending-items"}))},addTrendingFacets:function(t){return this.addParams(Object.assign({},t,{model:"trending-facets"}))},addLookingSimilar:function(t){return this.addParams(Object.assign({},t,{model:"looking-similar"}))},_buildQueries:function(t,e){return this.params.filter(function(n){return e[n.$$id]===void 0}).map(function(n){var r=Object.assign({},n,{indexName:t,threshold:n.threshold||0});return delete r.$$id,r})}};var YP=ha;function Hp(t,e){this._state=t,this._rawResults={};var n=this;t.params.forEach(function(r){var i=r.$$id;n[i]=e[i],n._rawResults[i]=e[i]})}Hp.prototype={constructor:Hp};var JP=Hp,nd=qh;function rd(t){return Object.keys(t).sort().reduce(function(e,n){return e[n]=t[n],e},{})}var ln={_getQueries:function(e,n){var r=[];return r.push({indexName:e,params:ln._getHitsSearchParams(n)}),n.getRefinedDisjunctiveFacets().forEach(function(i){r.push({indexName:e,params:ln._getDisjunctiveFacetSearchParams(n,i)})}),n.getRefinedHierarchicalFacets().forEach(function(i){var s=n.getHierarchicalFacetByName(i),o=n.getHierarchicalRefinement(i),a=n._getHierarchicalFacetSeparator(s);if(o.length>0&&o[0].split(a).length>1){var u=o[0].split(a).slice(0,-1).reduce(function(h,f,p){return h.concat({attribute:s.attributes[p],value:p===0?f:[h[h.length-1].value,f].join(a)})},[]);u.forEach(function(c,h){var f=ln._getDisjunctiveFacetSearchParams(n,c.attribute,h===0);function p(E){return s.attributes.some(function(R){return R===E.split(":")[0]})}var g=(f.facetFilters||[]).reduce(function(E,R){if(Array.isArray(R)){var y=R.filter(function(w){return!p(w)});y.length>0&&E.push(y)}return typeof R=="string"&&!p(R)&&E.push(R),E},[]),_=u[h-1];h>0?f.facetFilters=g.concat(_.attribute+":"+_.value):g.length>0?f.facetFilters=g:delete f.facetFilters,r.push({indexName:e,params:f})})}}),r},_getHitsSearchParams:function(t){var e=t.facets.concat(t.disjunctiveFacets).concat(ln._getHitsHierarchicalFacetsAttributes(t)).sort(),n=ln._getFacetFilters(t),r=ln._getNumericFilters(t),i=ln._getTagFilters(t),s={};return e.length>0&&(s.facets=e.indexOf("*")>-1?["*"]:e),i.length>0&&(s.tagFilters=i),n.length>0&&(s.facetFilters=n),r.length>0&&(s.numericFilters=r),rd(nd({},t.getQueryParams(),s))},_getDisjunctiveFacetSearchParams:function(t,e,n){var r=ln._getFacetFilters(t,e,n),i=ln._getNumericFilters(t,e),s=ln._getTagFilters(t),o={hitsPerPage:0,page:0,analytics:!1,clickAnalytics:!1};s.length>0&&(o.tagFilters=s);var a=t.getHierarchicalFacetByName(e);return a?o.facets=ln._getDisjunctiveHierarchicalFacetAttribute(t,a,n):o.facets=e,i.length>0&&(o.numericFilters=i),r.length>0&&(o.facetFilters=r),rd(nd({},t.getQueryParams(),o))},_getNumericFilters:function(t,e){if(t.numericFilters)return t.numericFilters;var n=[];return Object.keys(t.numericRefinements).forEach(function(r){var i=t.numericRefinements[r]||{};Object.keys(i).forEach(function(s){var o=i[s]||[];e!==r&&o.forEach(function(a){if(Array.isArray(a)){var u=a.map(function(c){return r+s+c});n.push(u)}else n.push(r+s+a)})})}),n},_getTagFilters:function(t){return t.tagFilters?t.tagFilters:t.tagRefinements.join(",")},_getFacetFilters:function(t,e,n){var r=[],i=t.facetsRefinements||{};Object.keys(i).sort().forEach(function(u){var c=i[u]||[];c.slice().sort().forEach(function(h){r.push(u+":"+h)})});var s=t.facetsExcludes||{};Object.keys(s).sort().forEach(function(u){var c=s[u]||[];c.sort().forEach(function(h){r.push(u+":-"+h)})});var o=t.disjunctiveFacetsRefinements||{};Object.keys(o).sort().forEach(function(u){var c=o[u]||[];if(!(u===e||!c||c.length===0)){var h=[];c.slice().sort().forEach(function(f){h.push(u+":"+f)}),r.push(h)}});var a=t.hierarchicalFacetsRefinements||{};return Object.keys(a).sort().forEach(function(u){var c=a[u]||[],h=c[0];if(h!==void 0){var f=t.getHierarchicalFacetByName(u),p=t._getHierarchicalFacetSeparator(f),g=t._getHierarchicalRootPath(f),_,E;if(e===u){if(h.indexOf(p)===-1||!g&&n===!0||g&&g.split(p).length===h.split(p).length)return;g?(E=g.split(p).length-1,h=g):(E=h.split(p).length-2,h=h.slice(0,h.lastIndexOf(p))),_=f.attributes[E]}else E=h.split(p).length-1,_=f.attributes[E];_&&r.push([_+":"+h])}}),r},_getHitsHierarchicalFacetsAttributes:function(t){var e=[];return t.hierarchicalFacets.reduce(function(r,i){var s=t.getHierarchicalRefinement(i.name)[0];if(!s)return r.push(i.attributes[0]),r;var o=t._getHierarchicalFacetSeparator(i),a=s.split(o).length,u=i.attributes.slice(0,a+1);return r.concat(u)},e)},_getDisjunctiveHierarchicalFacetAttribute:function(t,e,n){var r=t._getHierarchicalFacetSeparator(e);if(n===!0){var i=t._getHierarchicalRootPath(e),s=0;return i&&(s=i.split(r).length),[e.attributes[s]]}var o=t.getHierarchicalRefinement(e.name)[0]||"",a=o.split(r).length-1;return e.attributes.slice(0,a+1)},getSearchForFacetQuery:function(t,e,n,r){var i=r.isDisjunctiveFacet(t)?r.clearRefinements(t):r,s={facetQuery:e,facetName:t};return typeof n=="number"&&(s.maxFacetHits=n),rd(nd({},ln._getHitsSearchParams(i),s))}},VV=ln,gv=function(){var e=Array.prototype.slice.call(arguments);return e.reduceRight(function(n,r){return Object.keys(Object(r)).forEach(function(i){r[i]!==void 0&&(n[i]!==void 0&&delete n[i],n[i]=r[i])}),n},{})},Yu=function(e,n){if(Array.isArray(e)){for(var r=0;r<e.length;r++)if(n(e[r]))return e[r]}};function UV(t,e){return t.filter(function(n,r){return e.indexOf(n)>-1&&t.indexOf(n)===r})}var HV=UV;function XP(t){if(typeof t=="number")return t;if(typeof t=="string")return parseFloat(t);if(Array.isArray(t))return t.map(XP);throw new Error("The value should be a number, a parsable string or an array of those.")}var BV=XP,zV=function(e){return e===null?!1:/^[a-zA-Z0-9_-]{1,64}$/.test(e)},WV=gv,qV=pv,KV=mv,Ci={addRefinement:function(e,n,r){if(Ci.isRefined(e,n,r))return e;var i=""+r,s=e[n]?e[n].concat(i):[i],o={};return o[n]=s,WV({},o,e)},removeRefinement:function(e,n,r){if(r===void 0)return Ci.clearRefinement(e,function(s,o){return n===o});var i=""+r;return Ci.clearRefinement(e,function(s,o){return n===o&&i===s})},toggleRefinement:function(e,n,r){if(r===void 0)throw new Error("toggleRefinement should be used with a value");return Ci.isRefined(e,n,r)?Ci.removeRefinement(e,n,r):Ci.addRefinement(e,n,r)},clearRefinement:function(e,n,r){if(n===void 0)return qV(e)?{}:e;if(typeof n=="string")return KV(e,[n]);if(typeof n=="function"){var i=!1,s=Object.keys(e).reduce(function(o,a){var u=e[a]||[],c=u.filter(function(h){return!n(h,a,r)});return c.length!==u.length&&(i=!0),o[a]=c,o},{});return i?s:e}},isRefined:function(e,n,r){var i=!!e[n]&&e[n].length>0;if(r===void 0||!i)return i;var s=""+r;return e[n].indexOf(s)!==-1}},QV=Ci,id=gv,ZP=Yu,Iw=HV,Bp=qh,zp=pv,Rw=mv,sd=BV,GV=zV,Be=QV;function vv(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length===e.length&&t.every(function(n,r){return vv(e[r],n)}):t===e}function YV(t,e){return ZP(t,function(n){return vv(n,e)})}function Yt(t){var e=t?Yt._parseNumbers(t):{};e.userToken!==void 0&&!GV(e.userToken)&&console.warn("[algoliasearch-helper] The `userToken` parameter is invalid. This can lead to wrong analytics.\n  - Format: [a-zA-Z0-9_-]{1,64}"),this.facets=e.facets||[],this.disjunctiveFacets=e.disjunctiveFacets||[],this.hierarchicalFacets=e.hierarchicalFacets||[],this.facetsRefinements=e.facetsRefinements||{},this.facetsExcludes=e.facetsExcludes||{},this.disjunctiveFacetsRefinements=e.disjunctiveFacetsRefinements||{},this.numericRefinements=e.numericRefinements||{},this.tagRefinements=e.tagRefinements||[],this.hierarchicalFacetsRefinements=e.hierarchicalFacetsRefinements||{};var n=this;Object.keys(e).forEach(function(r){var i=Yt.PARAMETERS.indexOf(r)!==-1,s=e[r]!==void 0;!i&&s&&(n[r]=e[r])})}Yt.PARAMETERS=Object.keys(new Yt);Yt._parseNumbers=function(t){if(t instanceof Yt)return t;var e={},n=["aroundPrecision","aroundRadius","getRankingInfo","minWordSizefor2Typos","minWordSizefor1Typo","page","maxValuesPerFacet","distinct","minimumAroundRadius","hitsPerPage","minProximity"];if(n.forEach(function(i){var s=t[i];if(typeof s=="string"){var o=parseFloat(s);e[i]=isNaN(o)?s:o}}),Array.isArray(t.insideBoundingBox)&&(e.insideBoundingBox=t.insideBoundingBox.map(function(i){return Array.isArray(i)?i.map(function(s){return parseFloat(s)}):i})),t.numericRefinements){var r={};Object.keys(t.numericRefinements).forEach(function(i){var s=t.numericRefinements[i]||{};r[i]={},Object.keys(s).forEach(function(o){var a=s[o],u=a.map(function(c){return Array.isArray(c)?c.map(function(h){return typeof h=="string"?parseFloat(h):h}):typeof c=="string"?parseFloat(c):c});r[i][o]=u})}),e.numericRefinements=r}return Bp(t,e)};Yt.make=function(e){var n=new Yt(e),r=e.hierarchicalFacets||[];return r.forEach(function(i){if(i.rootPath){var s=n.getHierarchicalRefinement(i.name);s.length>0&&s[0].indexOf(i.rootPath)!==0&&(n=n.clearRefinements(i.name)),s=n.getHierarchicalRefinement(i.name),s.length===0&&(n=n.toggleHierarchicalFacetRefinement(i.name,i.rootPath))}}),n};Yt.validate=function(t,e){var n=e||{};return t.tagFilters&&n.tagRefinements&&n.tagRefinements.length>0?new Error("[Tags] Cannot switch from the managed tag API to the advanced API. It is probably an error, if it is really what you want, you should first clear the tags with clearTags method."):t.tagRefinements.length>0&&n.tagFilters?new Error("[Tags] Cannot switch from the advanced tag API to the managed API. It is probably an error, if it is not, you should first clear the tags with clearTags method."):t.numericFilters&&n.numericRefinements&&zp(n.numericRefinements)?new Error("[Numeric filters] Can't switch from the advanced to the managed API. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):zp(t.numericRefinements)&&n.numericFilters?new Error("[Numeric filters] Can't switch from the managed API to the advanced. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):null};Yt.prototype={constructor:Yt,clearRefinements:function(e){var n={numericRefinements:this._clearNumericRefinements(e),facetsRefinements:Be.clearRefinement(this.facetsRefinements,e,"conjunctiveFacet"),facetsExcludes:Be.clearRefinement(this.facetsExcludes,e,"exclude"),disjunctiveFacetsRefinements:Be.clearRefinement(this.disjunctiveFacetsRefinements,e,"disjunctiveFacet"),hierarchicalFacetsRefinements:Be.clearRefinement(this.hierarchicalFacetsRefinements,e,"hierarchicalFacet")};return n.numericRefinements===this.numericRefinements&&n.facetsRefinements===this.facetsRefinements&&n.facetsExcludes===this.facetsExcludes&&n.disjunctiveFacetsRefinements===this.disjunctiveFacetsRefinements&&n.hierarchicalFacetsRefinements===this.hierarchicalFacetsRefinements?this:this.setQueryParameters(n)},clearTags:function(){return this.tagFilters===void 0&&this.tagRefinements.length===0?this:this.setQueryParameters({tagFilters:void 0,tagRefinements:[]})},setIndex:function(e){return e===this.index?this:this.setQueryParameters({index:e})},setQuery:function(e){return e===this.query?this:this.setQueryParameters({query:e})},setPage:function(e){return e===this.page?this:this.setQueryParameters({page:e})},setFacets:function(e){return this.setQueryParameters({facets:e})},setDisjunctiveFacets:function(e){return this.setQueryParameters({disjunctiveFacets:e})},setHitsPerPage:function(e){return this.hitsPerPage===e?this:this.setQueryParameters({hitsPerPage:e})},setTypoTolerance:function(e){return this.typoTolerance===e?this:this.setQueryParameters({typoTolerance:e})},addNumericRefinement:function(t,e,n){var r=sd(n);if(this.isNumericRefined(t,e,r))return this;var i=Bp({},this.numericRefinements);return i[t]=Bp({},i[t]),i[t][e]?(i[t][e]=i[t][e].slice(),i[t][e].push(r)):i[t][e]=[r],this.setQueryParameters({numericRefinements:i})},getConjunctiveRefinements:function(t){return this.isConjunctiveFacet(t)?this.facetsRefinements[t]||[]:[]},getDisjunctiveRefinements:function(t){return this.isDisjunctiveFacet(t)?this.disjunctiveFacetsRefinements[t]||[]:[]},getHierarchicalRefinement:function(t){return this.hierarchicalFacetsRefinements[t]||[]},getExcludeRefinements:function(t){return this.isConjunctiveFacet(t)?this.facetsExcludes[t]||[]:[]},removeNumericRefinement:function(t,e,n){var r=n;return r!==void 0?this.isNumericRefined(t,e,r)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(i,s){return s===t&&i.op===e&&vv(i.val,sd(r))})}):this:e!==void 0?this.isNumericRefined(t,e)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(i,s){return s===t&&i.op===e})}):this:this.isNumericRefined(t)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(i,s){return s===t})}):this},getNumericRefinements:function(t){return this.numericRefinements[t]||{}},getNumericRefinement:function(t,e){return this.numericRefinements[t]&&this.numericRefinements[t][e]},_clearNumericRefinements:function(e){if(e===void 0)return zp(this.numericRefinements)?{}:this.numericRefinements;if(typeof e=="string")return Rw(this.numericRefinements,[e]);if(typeof e=="function"){var n=!1,r=this.numericRefinements,i=Object.keys(r).reduce(function(s,o){var a=r[o],u={};return a=a||{},Object.keys(a).forEach(function(c){var h=a[c]||[],f=[];h.forEach(function(p){var g=e({val:p,op:c},o,"numeric");g||f.push(p)}),f.length!==h.length&&(n=!0),u[c]=f}),s[o]=u,s},{});return n?i:this.numericRefinements}},addFacet:function(e){return this.isConjunctiveFacet(e)?this:this.setQueryParameters({facets:this.facets.concat([e])})},addDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this:this.setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.concat([e])})},addHierarchicalFacet:function(e){if(this.isHierarchicalFacet(e.name))throw new Error("Cannot declare two hierarchical facets with the same name: `"+e.name+"`");return this.setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.concat([e])})},addFacetRefinement:function(e,n){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return Be.isRefined(this.facetsRefinements,e,n)?this:this.setQueryParameters({facetsRefinements:Be.addRefinement(this.facetsRefinements,e,n)})},addExcludeRefinement:function(e,n){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return Be.isRefined(this.facetsExcludes,e,n)?this:this.setQueryParameters({facetsExcludes:Be.addRefinement(this.facetsExcludes,e,n)})},addDisjunctiveFacetRefinement:function(e,n){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return Be.isRefined(this.disjunctiveFacetsRefinements,e,n)?this:this.setQueryParameters({disjunctiveFacetsRefinements:Be.addRefinement(this.disjunctiveFacetsRefinements,e,n)})},addTagRefinement:function(e){if(this.isTagRefined(e))return this;var n={tagRefinements:this.tagRefinements.concat(e)};return this.setQueryParameters(n)},removeFacet:function(e){return this.isConjunctiveFacet(e)?this.clearRefinements(e).setQueryParameters({facets:this.facets.filter(function(n){return n!==e})}):this},removeDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this.clearRefinements(e).setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.filter(function(n){return n!==e})}):this},removeHierarchicalFacet:function(e){return this.isHierarchicalFacet(e)?this.clearRefinements(e).setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.filter(function(n){return n.name!==e})}):this},removeFacetRefinement:function(e,n){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return Be.isRefined(this.facetsRefinements,e,n)?this.setQueryParameters({facetsRefinements:Be.removeRefinement(this.facetsRefinements,e,n)}):this},removeExcludeRefinement:function(e,n){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return Be.isRefined(this.facetsExcludes,e,n)?this.setQueryParameters({facetsExcludes:Be.removeRefinement(this.facetsExcludes,e,n)}):this},removeDisjunctiveFacetRefinement:function(e,n){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return Be.isRefined(this.disjunctiveFacetsRefinements,e,n)?this.setQueryParameters({disjunctiveFacetsRefinements:Be.removeRefinement(this.disjunctiveFacetsRefinements,e,n)}):this},removeTagRefinement:function(e){if(!this.isTagRefined(e))return this;var n={tagRefinements:this.tagRefinements.filter(function(r){return r!==e})};return this.setQueryParameters(n)},toggleRefinement:function(e,n){return this.toggleFacetRefinement(e,n)},toggleFacetRefinement:function(e,n){if(this.isHierarchicalFacet(e))return this.toggleHierarchicalFacetRefinement(e,n);if(this.isConjunctiveFacet(e))return this.toggleConjunctiveFacetRefinement(e,n);if(this.isDisjunctiveFacet(e))return this.toggleDisjunctiveFacetRefinement(e,n);throw new Error("Cannot refine the undeclared facet "+e+"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets")},toggleConjunctiveFacetRefinement:function(e,n){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsRefinements:Be.toggleRefinement(this.facetsRefinements,e,n)})},toggleExcludeFacetRefinement:function(e,n){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsExcludes:Be.toggleRefinement(this.facetsExcludes,e,n)})},toggleDisjunctiveFacetRefinement:function(e,n){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.setQueryParameters({disjunctiveFacetsRefinements:Be.toggleRefinement(this.disjunctiveFacetsRefinements,e,n)})},toggleHierarchicalFacetRefinement:function(e,n){if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration");var r=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),i={},s=this.hierarchicalFacetsRefinements[e]!==void 0&&this.hierarchicalFacetsRefinements[e].length>0&&(this.hierarchicalFacetsRefinements[e][0]===n||this.hierarchicalFacetsRefinements[e][0].indexOf(n+r)===0);return s?n.indexOf(r)===-1?i[e]=[]:i[e]=[n.slice(0,n.lastIndexOf(r))]:i[e]=[n],this.setQueryParameters({hierarchicalFacetsRefinements:id({},i,this.hierarchicalFacetsRefinements)})},addHierarchicalFacetRefinement:function(t,e){if(this.isHierarchicalFacetRefined(t))throw new Error(t+" is already refined.");if(!this.isHierarchicalFacet(t))throw new Error(t+" is not defined in the hierarchicalFacets attribute of the helper configuration.");var n={};return n[t]=[e],this.setQueryParameters({hierarchicalFacetsRefinements:id({},n,this.hierarchicalFacetsRefinements)})},removeHierarchicalFacetRefinement:function(t){if(!this.isHierarchicalFacetRefined(t))return this;var e={};return e[t]=[],this.setQueryParameters({hierarchicalFacetsRefinements:id({},e,this.hierarchicalFacetsRefinements)})},toggleTagRefinement:function(e){return this.isTagRefined(e)?this.removeTagRefinement(e):this.addTagRefinement(e)},isDisjunctiveFacet:function(t){return this.disjunctiveFacets.indexOf(t)>-1},isHierarchicalFacet:function(t){return this.getHierarchicalFacetByName(t)!==void 0},isConjunctiveFacet:function(t){return this.facets.indexOf(t)>-1},isFacetRefined:function(e,n){return this.isConjunctiveFacet(e)?Be.isRefined(this.facetsRefinements,e,n):!1},isExcludeRefined:function(e,n){return this.isConjunctiveFacet(e)?Be.isRefined(this.facetsExcludes,e,n):!1},isDisjunctiveFacetRefined:function(e,n){return this.isDisjunctiveFacet(e)?Be.isRefined(this.disjunctiveFacetsRefinements,e,n):!1},isHierarchicalFacetRefined:function(e,n){if(!this.isHierarchicalFacet(e))return!1;var r=this.getHierarchicalRefinement(e);return n?r.indexOf(n)!==-1:r.length>0},isNumericRefined:function(e,n,r){if(r===void 0&&n===void 0)return!!this.numericRefinements[e];var i=this.numericRefinements[e]&&this.numericRefinements[e][n]!==void 0;if(r===void 0||!i)return i;var s=sd(r),o=YV(this.numericRefinements[e][n],s)!==void 0;return i&&o},isTagRefined:function(e){return this.tagRefinements.indexOf(e)!==-1},getRefinedDisjunctiveFacets:function(){var e=this,n=Iw(Object.keys(this.numericRefinements).filter(function(r){return Object.keys(e.numericRefinements[r]).length>0}),this.disjunctiveFacets);return Object.keys(this.disjunctiveFacetsRefinements).filter(function(r){return e.disjunctiveFacetsRefinements[r].length>0}).concat(n).concat(this.getRefinedHierarchicalFacets()).sort()},getRefinedHierarchicalFacets:function(){var e=this;return Iw(this.hierarchicalFacets.map(function(n){return n.name}),Object.keys(this.hierarchicalFacetsRefinements).filter(function(n){return e.hierarchicalFacetsRefinements[n].length>0})).sort()},getUnrefinedDisjunctiveFacets:function(){var t=this.getRefinedDisjunctiveFacets();return this.disjunctiveFacets.filter(function(e){return t.indexOf(e)===-1})},managedParameters:["index","facets","disjunctiveFacets","facetsRefinements","hierarchicalFacets","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacetsRefinements"],getQueryParams:function(){var e=this.managedParameters,n={},r=this;return Object.keys(this).forEach(function(i){var s=r[i];e.indexOf(i)===-1&&s!==void 0&&(n[i]=s)}),n},setQueryParameter:function(e,n){if(this[e]===n)return this;var r={};return r[e]=n,this.setQueryParameters(r)},setQueryParameters:function(e){if(!e)return this;var n=Yt.validate(this,e);if(n)throw n;var r=this,i=Yt._parseNumbers(e),s=Object.keys(this).reduce(function(a,u){return a[u]=r[u],a},{}),o=Object.keys(i).reduce(function(a,u){var c=a[u]!==void 0,h=i[u]!==void 0;return c&&!h?Rw(a,[u]):(h&&(a[u]=i[u]),a)},s);return new this.constructor(o)},resetPage:function(){return this.page===void 0?this:this.setPage(0)},_getHierarchicalFacetSortBy:function(t){return t.sortBy||["isRefined:desc","name:asc"]},_getHierarchicalFacetSeparator:function(t){return t.separator||" > "},_getHierarchicalRootPath:function(t){return t.rootPath||null},_getHierarchicalShowParentLevel:function(t){return typeof t.showParentLevel=="boolean"?t.showParentLevel:!0},getHierarchicalFacetByName:function(t){return ZP(this.hierarchicalFacets,function(e){return e.name===t})},getHierarchicalFacetBreadcrumb:function(t){if(!this.isHierarchicalFacet(t))return[];var e=this.getHierarchicalRefinement(t)[0];if(!e)return[];var n=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(t)),r=e.split(n);return r.map(function(i){return i.trim()})},toString:function(){return JSON.stringify(this,null,2)}};var eb=Yt,JV=function(e){return Array.isArray(e)?e.filter(Boolean):[]},XV=function(e,n){if(!Array.isArray(e))return-1;for(var r=0;r<e.length;r++)if(n(e[r]))return r;return-1},ZV=Yu,tb=function(e,n){var r=(n||[]).map(function(i){return i.split(":")});return e.reduce(function(s,o){var a=o.split(":"),u=ZV(r,function(c){return c[0]===a[0]});return a.length>1||!u?(s[0].push(a[0]),s[1].push(a[1]),s):(s[0].push(u[0]),s[1].push(u[1]),s)},[[],[]])};function eU(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=e!==void 0,s=e===null;if(!s&&t>e||r&&i||!n)return 1;if(!r&&t<e||s&&n||!i)return-1}return 0}function tU(t,e,n){if(!Array.isArray(t))return[];Array.isArray(n)||(n=[]);var r=t.map(function(i,s){return{criteria:e.map(function(o){return i[o]}),index:s,value:i}});return r.sort(function(s,o){for(var a=-1;++a<s.criteria.length;){var u=eU(s.criteria[a],o.criteria[a]);if(u)return a>=n.length?u:n[a]==="desc"?-u:u}return s.index-o.index}),r.map(function(i){return i.value})}var nb=tU,nU=uU,rb=fv,rU=Yu,iU=tb,sU=nb,oU=rb.escapeFacetValue,aU=rb.unescapeFacetValue;function uU(t){return function(n,r){var i=t.hierarchicalFacets[r],s=t.hierarchicalFacetsRefinements[i.name]&&t.hierarchicalFacetsRefinements[i.name][0]||"",o=t._getHierarchicalFacetSeparator(i),a=t._getHierarchicalRootPath(i),u=t._getHierarchicalShowParentLevel(i),c=iU(t._getHierarchicalFacetSortBy(i)),h=n.every(function(g){return g.exhaustive}),f=lU(c,o,a,u,s),p=n;return a&&(p=n.slice(a.split(o).length)),p.reduce(f,{name:t.hierarchicalFacets[r].name,count:null,isRefined:!0,path:null,escapedValue:null,exhaustive:h,data:null})}}function lU(t,e,n,r,i){return function(o,a,u){var c=o;if(u>0){var h=0;for(c=o;h<u;){var f=c&&Array.isArray(c.data)?c.data:[];c=rU(f,function(g){return g.isRefined}),h++}}if(c){var p=Object.keys(a.data).map(function(g){return[g,a.data[g]]}).filter(function(g){var _=g[0];return cU(_,c.path||n,i,e,n,r)});c.data=sU(p.map(function(g){var _=g[0],E=g[1];return hU(E,_,e,aU(i),a.exhaustive)}),t[0],t[1])}return o}}function cU(t,e,n,r,i,s){return i&&(t.indexOf(i)!==0||i===t)?!1:!i&&t.indexOf(r)===-1||i&&t.split(r).length-i.split(r).length===1||t.indexOf(r)===-1&&n.indexOf(r)===-1||n.indexOf(t)===0||t.indexOf(e+r)===0&&(s||t.indexOf(n)===0)}function hU(t,e,n,r,i){var s=e.split(n);return{name:s[s.length-1].trim(),path:e,escapedValue:oU(e),count:t,isRefined:r===e||r.indexOf(e+n)===0,exhaustive:i,data:null}}var od=JV,Xc=gv,ib=fv,$n=Yu,Jo=XV,fU=tb,Pw=qh,sb=nb,bw=ib.escapeFacetValue,ob=ib.unescapeFacetValue,dU=nU;function Aw(t){var e={};return t.forEach(function(n,r){e[n]=r}),e}function ad(t,e,n){e&&e[n]&&(t.stats=e[n])}function pU(t,e){return $n(t,function(r){var i=r.attributes||[];return i.indexOf(e)>-1})}function ai(t,e,n){var r=e[0]||{};this._rawResults=e;var i=this;Object.keys(r).forEach(function(f){i[f]=r[f]});var s=Pw({persistHierarchicalRootCount:!1},n);Object.keys(s).forEach(function(f){i[f]=s[f]}),this.processingTimeMS=e.reduce(function(f,p){return p.processingTimeMS===void 0?f:f+p.processingTimeMS},0),this.disjunctiveFacets=[],this.hierarchicalFacets=t.hierarchicalFacets.map(function(){return[]}),this.facets=[];var o=t.getRefinedDisjunctiveFacets(),a=Aw(t.facets),u=Aw(t.disjunctiveFacets),c=1,h=r.facets||{};Object.keys(h).forEach(function(f){var p=h[f],g=pU(t.hierarchicalFacets,f);if(g){var _=g.attributes.indexOf(f),E=Jo(t.hierarchicalFacets,function(P){return P.name===g.name});i.hierarchicalFacets[E][_]={attribute:f,data:p,exhaustive:r.exhaustiveFacetsCount}}else{var R=t.disjunctiveFacets.indexOf(f)!==-1,y=t.facets.indexOf(f)!==-1,w;R&&(w=u[f],i.disjunctiveFacets[w]={name:f,data:p,exhaustive:r.exhaustiveFacetsCount},ad(i.disjunctiveFacets[w],r.facets_stats,f)),y&&(w=a[f],i.facets[w]={name:f,data:p,exhaustive:r.exhaustiveFacetsCount},ad(i.facets[w],r.facets_stats,f))}}),this.hierarchicalFacets=od(this.hierarchicalFacets),o.forEach(function(f){var p=e[c],g=p&&p.facets?p.facets:{},_=t.getHierarchicalFacetByName(f);Object.keys(g).forEach(function(E){var R=g[E],y;if(_){y=Jo(t.hierarchicalFacets,function(C){return C.name===_.name});var w=Jo(i.hierarchicalFacets[y],function(C){return C.attribute===E});if(w===-1)return;i.hierarchicalFacets[y][w].data=Pw({},i.hierarchicalFacets[y][w].data,R)}else{y=u[E];var P=r.facets&&r.facets[E]||{};i.disjunctiveFacets[y]={name:E,data:Xc({},R,P),exhaustive:p.exhaustiveFacetsCount},ad(i.disjunctiveFacets[y],p.facets_stats,E),t.disjunctiveFacetsRefinements[E]&&t.disjunctiveFacetsRefinements[E].forEach(function(C){!i.disjunctiveFacets[y].data[C]&&t.disjunctiveFacetsRefinements[E].indexOf(ob(C))>-1&&(i.disjunctiveFacets[y].data[C]=0)})}}),c++}),t.getRefinedHierarchicalFacets().forEach(function(f){var p=t.getHierarchicalFacetByName(f),g=t._getHierarchicalFacetSeparator(p),_=t.getHierarchicalRefinement(f);_.length===0||_[0].split(g).length<2||e.slice(c).forEach(function(E){var R=E&&E.facets?E.facets:{};Object.keys(R).forEach(function(y){var w=R[y],P=Jo(t.hierarchicalFacets,function(A){return A.name===p.name}),C=Jo(i.hierarchicalFacets[P],function(A){return A.attribute===y});if(C!==-1){var x={};if(_.length>0&&!i.persistHierarchicalRootCount){var j=_[0].split(g)[0];x[j]=i.hierarchicalFacets[P][C].data[j]}i.hierarchicalFacets[P][C].data=Xc(x,w,i.hierarchicalFacets[P][C].data)}}),c++})}),Object.keys(t.facetsExcludes).forEach(function(f){var p=t.facetsExcludes[f],g=a[f];i.facets[g]={name:f,data:h[f],exhaustive:r.exhaustiveFacetsCount},p.forEach(function(_){i.facets[g]=i.facets[g]||{name:f},i.facets[g].data=i.facets[g].data||{},i.facets[g].data[_]=0})}),this.hierarchicalFacets=this.hierarchicalFacets.map(dU(t)),this.facets=od(this.facets),this.disjunctiveFacets=od(this.disjunctiveFacets),this._state=t}ai.prototype.getFacetByName=function(t){function e(n){return n.name===t}return $n(this.facets,e)||$n(this.disjunctiveFacets,e)||$n(this.hierarchicalFacets,e)};function mU(t,e){function n(h){return h.name===e}if(t._state.isConjunctiveFacet(e)){var r=$n(t.facets,n);return r?Object.keys(r.data).map(function(h){var f=bw(h);return{name:h,escapedValue:f,count:r.data[h],isRefined:t._state.isFacetRefined(e,f),isExcluded:t._state.isExcludeRefined(e,h)}}):[]}else if(t._state.isDisjunctiveFacet(e)){var i=$n(t.disjunctiveFacets,n);return i?Object.keys(i.data).map(function(h){var f=bw(h);return{name:h,escapedValue:f,count:i.data[h],isRefined:t._state.isDisjunctiveFacetRefined(e,f)}}):[]}else if(t._state.isHierarchicalFacet(e)){var s=$n(t.hierarchicalFacets,n);if(!s)return s;var o=t._state.getHierarchicalFacetByName(e),a=t._state._getHierarchicalFacetSeparator(o),u=ob(t._state.getHierarchicalRefinement(e)[0]||"");u.indexOf(o.rootPath)===0&&(u=u.replace(o.rootPath+a,""));var c=u.split(a);return c.unshift(e),ab(s,c,0),s}}function ab(t,e,n){t.isRefined=t.name===(e[n]&&e[n].trim()),t.data&&t.data.forEach(function(r){ab(r,e,n+1)})}function ub(t,e,n,r){if(r=r||0,Array.isArray(e))return t(e,n[r]);if(!e.data||e.data.length===0)return e;var i=e.data.map(function(a){return ub(t,a,n,r+1)}),s=t(i,n[r]),o=Xc({data:s},e);return o}ai.DEFAULT_SORT=["isRefined:desc","count:desc","name:asc"];function gU(t,e){return e.sort(t)}function vU(t,e){var n=[],r=[],i=e.hide||[],s=e.order||[],o=s.reduce(function(c,h,f){return c[h]=f,c},{});t.forEach(function(c){var h=c.path||c.name,f=i.indexOf(h)>-1;!f&&o[h]!==void 0?n[o[h]]=c:f||r.push(c)}),n=n.filter(function(c){return c});var a=e.sortRemainingBy,u;return a==="hidden"?n:(a==="alpha"?u=[["path","name"],["asc","asc"]]:u=[["count"],["desc"]],n.concat(sb(r,u[0],u[1])))}function yU(t,e){return t.renderingContent&&t.renderingContent.facetOrdering&&t.renderingContent.facetOrdering.values&&t.renderingContent.facetOrdering.values[e]}ai.prototype.getFacetValues=function(t,e){var n=mU(this,t);if(n){var r=Xc({},e,{sortBy:ai.DEFAULT_SORT,facetOrdering:!(e&&e.sortBy)}),i=this,s;if(Array.isArray(n))s=[t];else{var o=i._state.getHierarchicalFacetByName(n.name);s=o.attributes}return ub(function(a,u){if(r.facetOrdering){var c=yU(i,u);if(c)return vU(a,c)}if(Array.isArray(r.sortBy)){var h=fU(r.sortBy,ai.DEFAULT_SORT);return sb(a,h[0],h[1])}else if(typeof r.sortBy=="function")return gU(r.sortBy,a);throw new Error("options.sortBy is optional but if defined it must be either an array of string (predicates) or a sorting function")},n,s)}};ai.prototype.getFacetStats=function(t){if(this._state.isConjunctiveFacet(t))return Ow(this.facets,t);if(this._state.isDisjunctiveFacet(t))return Ow(this.disjunctiveFacets,t)};function Ow(t,e){var n=$n(t,function(r){return r.name===e});return n&&n.stats}ai.prototype.getRefinements=function(){var t=this._state,e=this,n=[];return Object.keys(t.facetsRefinements).forEach(function(r){t.facetsRefinements[r].forEach(function(i){n.push(ud(t,"facet",r,i,e.facets))})}),Object.keys(t.facetsExcludes).forEach(function(r){t.facetsExcludes[r].forEach(function(i){n.push(ud(t,"exclude",r,i,e.facets))})}),Object.keys(t.disjunctiveFacetsRefinements).forEach(function(r){t.disjunctiveFacetsRefinements[r].forEach(function(i){n.push(ud(t,"disjunctive",r,i,e.disjunctiveFacets))})}),Object.keys(t.hierarchicalFacetsRefinements).forEach(function(r){t.hierarchicalFacetsRefinements[r].forEach(function(i){n.push(_U(t,r,i,e.hierarchicalFacets))})}),Object.keys(t.numericRefinements).forEach(function(r){var i=t.numericRefinements[r];Object.keys(i).forEach(function(s){i[s].forEach(function(o){n.push({type:"numeric",attributeName:r,name:o,numericValue:o,operator:s})})})}),t.tagRefinements.forEach(function(r){n.push({type:"tag",attributeName:"_tags",name:r})}),n};function ud(t,e,n,r,i){var s=$n(i,function(u){return u.name===n}),o=s&&s.data&&s.data[r]?s.data[r]:0,a=s&&s.exhaustive||!1;return{type:e,attributeName:n,name:r,count:o,exhaustive:a}}function _U(t,e,n,r){var i=t.getHierarchicalFacetByName(e),s=t._getHierarchicalFacetSeparator(i),o=n.split(s),a=$n(r,function(p){return p.name===e}),u=o.reduce(function(p,g){var _=p&&$n(p.data,function(E){return E.name===g});return _!==void 0?_:p},a),c=u&&u.count||0,h=u&&u.exhaustive||!1,f=u&&u.path||"";return{type:"hierarchical",attributeName:e,name:f,count:c,exhaustive:h}}var lb=ai,wU=function(e){return e.reduce(function(n,r){return n.concat(r)},[])},EU=Yu,SU=wU;function TU(t,e){var n=[];return Object.keys(t).forEach(function(r){t[r].count<2&&(t[r].indexSum+=100),n.push({objectID:r,avgOfIndices:t[r].indexSum/e})}),n.sort(function(r,i){return r.avgOfIndices>i.avgOfIndices?1:-1})}function IU(t){var e={};t.forEach(function(i){i.forEach(function(s,o){e[s.objectID]?e[s.objectID]={indexSum:e[s.objectID].indexSum+o,count:e[s.objectID].count+1}:e[s.objectID]={indexSum:o,count:1}})});var n=TU(e,t.length),r=n.reduce(function(i,s){var o=EU(SU(t),function(a){return a.objectID===s.objectID});return o?i.concat(o):i},[]);return r}var RU=IU,cb="3.22.4",PU=hv,bU=NV,AU=fv.escapeFacetValue,OU=GP,CU=qh,kU=pv,xU=mv,hb=YP,NU=JP,ao=VV,yv=eb,Wp=lb,DU=RU,fb=cb;function W(t,e,n,r){typeof t.addAlgoliaAgent=="function"&&t.addAlgoliaAgent("JS Helper ("+fb+")"),this.setClient(t);var i=n||{};i.index=e,this.state=yv.make(i),this.recommendState=new hb({params:i.recommendState}),this.lastResults=null,this.lastRecommendResults=null,this._queryId=0,this._recommendQueryId=0,this._lastQueryIdReceived=-1,this._lastRecommendQueryIdReceived=-1,this.derivedHelpers=[],this._currentNbQueries=0,this._currentNbRecommendQueries=0,this._searchResultsOptions=r,this._recommendCache={}}OU(W,PU);W.prototype.search=function(){return this._search({onlyWithDerivedHelpers:!1}),this};W.prototype.searchOnlyWithDerivedHelpers=function(){return this._search({onlyWithDerivedHelpers:!0}),this};W.prototype.recommend=function(){return this._recommend(),this};W.prototype.getQuery=function(){var t=this.state;return ao._getHitsSearchParams(t)};W.prototype.searchOnce=function(t,e){var n=t?this.state.setQueryParameters(t):this.state,r=ao._getQueries(n.index,n),i=this;if(this._currentNbQueries++,this.emit("searchOnce",{state:n}),e){this.client.search(r).then(function(s){i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),e(null,new Wp(n,s.results),n)}).catch(function(s){i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),e(s,null,n)});return}return this.client.search(r).then(function(s){return i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),{content:new Wp(n,s.results),state:n,_originalResponse:s}},function(s){throw i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),s})};W.prototype.findAnswers=function(t){console.warn("[algoliasearch-helper] answers is no longer supported");var e=this.state,n=this.derivedHelpers[0];if(!n)return Promise.resolve([]);var r=n.getModifiedState(e),i=CU({attributesForPrediction:t.attributesForPrediction,nbHits:t.nbHits},{params:xU(ao._getHitsSearchParams(r),["attributesToSnippet","hitsPerPage","restrictSearchableAttributes","snippetEllipsisText"])}),s="search for answers was called, but this client does not have a function client.initIndex(index).findAnswers";if(typeof this.client.initIndex!="function")throw new Error(s);var o=this.client.initIndex(r.index);if(typeof o.findAnswers!="function")throw new Error(s);return o.findAnswers(r.query,t.queryLanguages,i)};W.prototype.searchForFacetValues=function(t,e,n,r){var i=typeof this.client.searchForFacetValues=="function",s=typeof this.client.initIndex=="function";if(!i&&!s&&typeof this.client.search!="function")throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues");var o=this.state.setQueryParameters(r||{}),a=o.isDisjunctiveFacet(t),u=ao.getSearchForFacetQuery(t,e,n,o);this._currentNbQueries++;var c=this,h;return i?h=this.client.searchForFacetValues([{indexName:o.index,params:u}]):s?h=this.client.initIndex(o.index).searchForFacetValues(u):(delete u.facetName,h=this.client.search([{type:"facet",facet:t,indexName:o.index,params:u}]).then(function(p){return p.results[0]})),this.emit("searchForFacetValues",{state:o,facet:t,query:e}),h.then(function(p){return c._currentNbQueries--,c._currentNbQueries===0&&c.emit("searchQueueEmpty"),p=Array.isArray(p)?p[0]:p,p.facetHits.forEach(function(g){g.escapedValue=AU(g.value),g.isRefined=a?o.isDisjunctiveFacetRefined(t,g.escapedValue):o.isFacetRefined(t,g.escapedValue)}),p},function(f){throw c._currentNbQueries--,c._currentNbQueries===0&&c.emit("searchQueueEmpty"),f})};W.prototype.setQuery=function(t){return this._change({state:this.state.resetPage().setQuery(t),isPageReset:!0}),this};W.prototype.clearRefinements=function(t){return this._change({state:this.state.resetPage().clearRefinements(t),isPageReset:!0}),this};W.prototype.clearTags=function(){return this._change({state:this.state.resetPage().clearTags(),isPageReset:!0}),this};W.prototype.addDisjunctiveFacetRefinement=function(t,e){return this._change({state:this.state.resetPage().addDisjunctiveFacetRefinement(t,e),isPageReset:!0}),this};W.prototype.addDisjunctiveRefine=function(){return this.addDisjunctiveFacetRefinement.apply(this,arguments)};W.prototype.addHierarchicalFacetRefinement=function(t,e){return this._change({state:this.state.resetPage().addHierarchicalFacetRefinement(t,e),isPageReset:!0}),this};W.prototype.addNumericRefinement=function(t,e,n){return this._change({state:this.state.resetPage().addNumericRefinement(t,e,n),isPageReset:!0}),this};W.prototype.addFacetRefinement=function(t,e){return this._change({state:this.state.resetPage().addFacetRefinement(t,e),isPageReset:!0}),this};W.prototype.addRefine=function(){return this.addFacetRefinement.apply(this,arguments)};W.prototype.addFacetExclusion=function(t,e){return this._change({state:this.state.resetPage().addExcludeRefinement(t,e),isPageReset:!0}),this};W.prototype.addExclude=function(){return this.addFacetExclusion.apply(this,arguments)};W.prototype.addTag=function(t){return this._change({state:this.state.resetPage().addTagRefinement(t),isPageReset:!0}),this};W.prototype.addFrequentlyBoughtTogether=function(t){return this._recommendChange({state:this.recommendState.addFrequentlyBoughtTogether(t)}),this};W.prototype.addRelatedProducts=function(t){return this._recommendChange({state:this.recommendState.addRelatedProducts(t)}),this};W.prototype.addTrendingItems=function(t){return this._recommendChange({state:this.recommendState.addTrendingItems(t)}),this};W.prototype.addTrendingFacets=function(t){return this._recommendChange({state:this.recommendState.addTrendingFacets(t)}),this};W.prototype.addLookingSimilar=function(t){return this._recommendChange({state:this.recommendState.addLookingSimilar(t)}),this};W.prototype.removeNumericRefinement=function(t,e,n){return this._change({state:this.state.resetPage().removeNumericRefinement(t,e,n),isPageReset:!0}),this};W.prototype.removeDisjunctiveFacetRefinement=function(t,e){return this._change({state:this.state.resetPage().removeDisjunctiveFacetRefinement(t,e),isPageReset:!0}),this};W.prototype.removeDisjunctiveRefine=function(){return this.removeDisjunctiveFacetRefinement.apply(this,arguments)};W.prototype.removeHierarchicalFacetRefinement=function(t){return this._change({state:this.state.resetPage().removeHierarchicalFacetRefinement(t),isPageReset:!0}),this};W.prototype.removeFacetRefinement=function(t,e){return this._change({state:this.state.resetPage().removeFacetRefinement(t,e),isPageReset:!0}),this};W.prototype.removeRefine=function(){return this.removeFacetRefinement.apply(this,arguments)};W.prototype.removeFacetExclusion=function(t,e){return this._change({state:this.state.resetPage().removeExcludeRefinement(t,e),isPageReset:!0}),this};W.prototype.removeExclude=function(){return this.removeFacetExclusion.apply(this,arguments)};W.prototype.removeTag=function(t){return this._change({state:this.state.resetPage().removeTagRefinement(t),isPageReset:!0}),this};W.prototype.removeFrequentlyBoughtTogether=function(t){return this._recommendChange({state:this.recommendState.removeParams(t)}),this};W.prototype.removeRelatedProducts=function(t){return this._recommendChange({state:this.recommendState.removeParams(t)}),this};W.prototype.removeTrendingItems=function(t){return this._recommendChange({state:this.recommendState.removeParams(t)}),this};W.prototype.removeTrendingFacets=function(t){return this._recommendChange({state:this.recommendState.removeParams(t)}),this};W.prototype.removeLookingSimilar=function(t){return this._recommendChange({state:this.recommendState.removeParams(t)}),this};W.prototype.toggleFacetExclusion=function(t,e){return this._change({state:this.state.resetPage().toggleExcludeFacetRefinement(t,e),isPageReset:!0}),this};W.prototype.toggleExclude=function(){return this.toggleFacetExclusion.apply(this,arguments)};W.prototype.toggleRefinement=function(t,e){return this.toggleFacetRefinement(t,e)};W.prototype.toggleFacetRefinement=function(t,e){return this._change({state:this.state.resetPage().toggleFacetRefinement(t,e),isPageReset:!0}),this};W.prototype.toggleRefine=function(){return this.toggleFacetRefinement.apply(this,arguments)};W.prototype.toggleTag=function(t){return this._change({state:this.state.resetPage().toggleTagRefinement(t),isPageReset:!0}),this};W.prototype.nextPage=function(){var t=this.state.page||0;return this.setPage(t+1)};W.prototype.previousPage=function(){var t=this.state.page||0;return this.setPage(t-1)};function db(t){if(t<0)throw new Error("Page requested below 0.");return this._change({state:this.state.setPage(t),isPageReset:!1}),this}W.prototype.setCurrentPage=db;W.prototype.setPage=db;W.prototype.setIndex=function(t){return this._change({state:this.state.resetPage().setIndex(t),isPageReset:!0}),this};W.prototype.setQueryParameter=function(t,e){return this._change({state:this.state.resetPage().setQueryParameter(t,e),isPageReset:!0}),this};W.prototype.setState=function(t){return this._change({state:yv.make(t),isPageReset:!1}),this};W.prototype.overrideStateWithoutTriggeringChangeEvent=function(t){return this.state=new yv(t),this};W.prototype.hasRefinements=function(t){return kU(this.state.getNumericRefinements(t))?!0:this.state.isConjunctiveFacet(t)?this.state.isFacetRefined(t):this.state.isDisjunctiveFacet(t)?this.state.isDisjunctiveFacetRefined(t):this.state.isHierarchicalFacet(t)?this.state.isHierarchicalFacetRefined(t):!1};W.prototype.isExcluded=function(t,e){return this.state.isExcludeRefined(t,e)};W.prototype.isDisjunctiveRefined=function(t,e){return this.state.isDisjunctiveFacetRefined(t,e)};W.prototype.hasTag=function(t){return this.state.isTagRefined(t)};W.prototype.isTagRefined=function(){return this.hasTagRefinements.apply(this,arguments)};W.prototype.getIndex=function(){return this.state.index};function pb(){return this.state.page}W.prototype.getCurrentPage=pb;W.prototype.getPage=pb;W.prototype.getTags=function(){return this.state.tagRefinements};W.prototype.getRefinements=function(t){var e=[];if(this.state.isConjunctiveFacet(t)){var n=this.state.getConjunctiveRefinements(t);n.forEach(function(o){e.push({value:o,type:"conjunctive"})});var r=this.state.getExcludeRefinements(t);r.forEach(function(o){e.push({value:o,type:"exclude"})})}else if(this.state.isDisjunctiveFacet(t)){var i=this.state.getDisjunctiveRefinements(t);i.forEach(function(o){e.push({value:o,type:"disjunctive"})})}var s=this.state.getNumericRefinements(t);return Object.keys(s).forEach(function(o){var a=s[o];e.push({value:a,operator:o,type:"numeric"})}),e};W.prototype.getNumericRefinement=function(t,e){return this.state.getNumericRefinement(t,e)};W.prototype.getHierarchicalFacetBreadcrumb=function(t){return this.state.getHierarchicalFacetBreadcrumb(t)};W.prototype._search=function(t){var e=this.state,n=[],r=[];t.onlyWithDerivedHelpers||(r=ao._getQueries(e.index,e),n.push({state:e,queriesCount:r.length,helper:this}),this.emit("search",{state:e,results:this.lastResults}));var i=this.derivedHelpers.map(function(a){var u=a.getModifiedState(e),c=u.index?ao._getQueries(u.index,u):[];return n.push({state:u,queriesCount:c.length,helper:a}),a.emit("search",{state:u,results:a.lastResults}),c}),s=Array.prototype.concat.apply(r,i),o=this._queryId++;if(this._currentNbQueries++,!s.length)return Promise.resolve({results:[]}).then(this._dispatchAlgoliaResponse.bind(this,n,o));try{this.client.search(s).then(this._dispatchAlgoliaResponse.bind(this,n,o)).catch(this._dispatchAlgoliaError.bind(this,o))}catch(a){this.emit("error",{error:a})}};W.prototype._recommend=function(){var t=this.state,e=this.recommendState,n=this.getIndex(),r=[{state:e,index:n,helper:this}],i=e.params.map(function(c){return c.$$id});this.emit("fetch",{recommend:{state:e,results:this.lastRecommendResults}});var s=this._recommendCache,o=this.derivedHelpers.map(function(c){var h=c.getModifiedState(t).index;if(!h)return[];var f=c.getModifiedRecommendState(new hb);return r.push({state:f,index:h,helper:c}),i=Array.prototype.concat.apply(i,f.params.map(function(p){return p.$$id})),c.emit("fetch",{recommend:{state:f,results:c.lastRecommendResults}}),f._buildQueries(h,s)}),a=Array.prototype.concat.apply(this.recommendState._buildQueries(n,s),o);if(a.length!==0){if(a.length>0&&typeof this.client.getRecommendations>"u"){console.warn("Please update algoliasearch/lite to the latest version in order to use recommend widgets.");return}var u=this._recommendQueryId++;this._currentNbRecommendQueries++;try{this.client.getRecommendations(a).then(this._dispatchRecommendResponse.bind(this,u,r,i)).catch(this._dispatchRecommendError.bind(this,u))}catch(c){this.emit("error",{error:c})}}};W.prototype._dispatchAlgoliaResponse=function(t,e,n){var r=this;if(!(e<this._lastQueryIdReceived)){this._currentNbQueries-=e-this._lastQueryIdReceived,this._lastQueryIdReceived=e,this._currentNbQueries===0&&this.emit("searchQueueEmpty");var i=n.results.slice();t.forEach(function(s){var o=s.state,a=s.queriesCount,u=s.helper,c=i.splice(0,a);if(!o.index){u.emit("result",{results:null,state:o});return}u.lastResults=new Wp(o,c,r._searchResultsOptions),u.emit("result",{results:u.lastResults,state:o})})}};W.prototype._dispatchRecommendResponse=function(t,e,n,r){if(!(t<this._lastRecommendQueryIdReceived)){this._currentNbRecommendQueries-=t-this._lastRecommendQueryIdReceived,this._lastRecommendQueryIdReceived=t,this._currentNbRecommendQueries===0&&this.emit("recommendQueueEmpty");var i=this._recommendCache,s={};n.filter(function(a){return i[a]===void 0}).forEach(function(a,u){s[a]||(s[a]=[]),s[a].push(u)}),Object.keys(s).forEach(function(a){var u=s[a],c=r.results[u[0]];if(u.length===1){i[a]=c;return}i[a]=Object.assign({},c,{hits:DU(u.map(function(h){return r.results[h].hits}))})});var o={};n.forEach(function(a){o[a]=i[a]}),e.forEach(function(a){var u=a.state,c=a.helper;if(!a.index){c.emit("recommend:result",{results:null,state:u});return}c.lastRecommendResults=new NU(u,o),c.emit("recommend:result",{recommend:{results:c.lastRecommendResults,state:u}})})}};W.prototype._dispatchAlgoliaError=function(t,e){t<this._lastQueryIdReceived||(this._currentNbQueries-=t-this._lastQueryIdReceived,this._lastQueryIdReceived=t,this.emit("error",{error:e}),this._currentNbQueries===0&&this.emit("searchQueueEmpty"))};W.prototype._dispatchRecommendError=function(t,e){t<this._lastRecommendQueryIdReceived||(this._currentNbRecommendQueries-=t-this._lastRecommendQueryIdReceived,this._lastRecommendQueryIdReceived=t,this.emit("error",{error:e}),this._currentNbRecommendQueries===0&&this.emit("recommendQueueEmpty"))};W.prototype.containsRefinement=function(t,e,n,r){return t||e.length!==0||n.length!==0||r.length!==0};W.prototype._hasDisjunctiveRefinements=function(t){return this.state.disjunctiveRefinements[t]&&this.state.disjunctiveRefinements[t].length>0};W.prototype._change=function(t){var e=t.state,n=t.isPageReset;e!==this.state&&(this.state=e,this.emit("change",{state:this.state,results:this.lastResults,isPageReset:n}))};W.prototype._recommendChange=function(t){var e=t.state;e!==this.recommendState&&(this.recommendState=e,this.emit("recommend:change",{search:{results:this.lastResults,state:this.state},recommend:{results:this.lastRecommendResults,state:this.recommendState}}))};W.prototype.clearCache=function(){return this.client.clearCache&&this.client.clearCache(),this};W.prototype.setClient=function(t){return this.client===t?this:(typeof t.addAlgoliaAgent=="function"&&t.addAlgoliaAgent("JS Helper ("+fb+")"),this.client=t,this)};W.prototype.getClient=function(){return this.client};W.prototype.derive=function(t,e){var n=new bU(this,t,e);return this.derivedHelpers.push(n),n};W.prototype.detachDerivedHelper=function(t){var e=this.derivedHelpers.indexOf(t);if(e===-1)throw new Error("Derived helper already detached");this.derivedHelpers.splice(e,1)};W.prototype.hasPendingRequests=function(){return this._currentNbQueries>0};var jU=W,mb=jU,FU=YP,LU=JP,MU=eb,$U=lb;function os(t,e,n,r){return new mb(t,e,n,r)}os.version=cb;os.AlgoliaSearchHelper=mb;os.SearchParameters=MU;os.RecommendParameters=FU;os.SearchResults=$U;os.RecommendResults=LU;var VU=os;const $t=ho(VU);function mu(t){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mu(t)}function Cw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ri(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Cw(Object(n),!0).forEach(function(r){UU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UU(t,e,n){return e=HU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HU(t){var e=BU(t,"string");return mu(e)==="symbol"?e:String(e)}function BU(t,e){if(mu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(mu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fa(t,e){return qU(t)||WU(t,e)||gb(t,e)||zU()}function zU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WU(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],u=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(h){c=!0,i=h}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function qU(t){if(Array.isArray(t))return t}function KU(t){return YU(t)||GU(t)||gb(t)||QU()}function QU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gb(t,e){if(t){if(typeof t=="string")return qp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qp(t,e)}}function GU(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function YU(t){if(Array.isArray(t))return qp(t)}function qp(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var vb="2.15.0",JU="https://cdn.jsdelivr.net/npm/search-insights@".concat(vb,"/dist/search-insights.min.js");function kw(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.insightsClient,n=t.insightsInitParams,r=t.onEvent,i=t.$$internal,s=i===void 0?!1:i,o=t.$$automatic,a=o===void 0?!1:o,u=e;!e&&e!==null&&Qn(function(h){var f=h.window,p=f.AlgoliaAnalyticsObject||"aa";typeof p=="string"&&(u=f[p]),u||(f.AlgoliaAnalyticsObject=p,f[p]||(f[p]=function(){f[p].queue||(f[p].queue=[]);for(var g=arguments.length,_=new Array(g),E=0;E<g;E++)_[E]=arguments[E];f[p].queue.push(_)},f[p].version=vb,f[p].shouldAddScript=!0),u=f[p])});var c=u||hn;return function(h){var f=h.instantSearchInstance,p=f.middleware.filter(function(T){return T.instance.$$type==="ais.insights"&&T.instance.$$internal}).map(function(T){return T.creator});f.unuse.apply(f,KU(p));var g=E$(f.client),_=fa(g,2),E=_[0],R=_[1],y=void 0,w=void 0,P=void 0,C=void 0,x=c.queue;if(Array.isArray(x)){var j=["setUserToken","setAuthenticatedUserToken"].map(function(T){var b=$P(x.slice().reverse(),function(Pe){var ue=fa(Pe,1),st=ue[0];return st===T})||[],k=fa(b,2),O=k[1];return O}),A=fa(j,2);y=A[0],w=A[1]}c("getUserToken",null,function(T,b){P=ld(b)}),c("getAuthenticatedUserToken",null,function(T,b){C=ld(b)}),(n||!xw(c))&&c("init",Ri({appId:E,apiKey:R,partial:!0},n));var v,S;return{$$type:"ais.insights",$$internal:s,$$automatic:a,onStateChange:function(){},subscribe:function(){if(c.shouldAddScript){var b="[insights middleware]: could not load search-insights.js. Please load it manually following https://alg.li/insights-init";try{var k=document.createElement("script");k.async=!0,k.src=JU,k.onerror=function(){f.emit("error",new Error(b))},document.body.appendChild(k),c.shouldAddScript=!1}catch{c.shouldAddScript=!1,f.emit("error",new Error(b))}}},started:function(){c("addAlgoliaAgent","insights-middleware"),S=f.mainHelper,v={userToken:S.state.userToken,clickAnalytics:S.state.clickAnalytics},a||S.overrideStateWithoutTriggeringChangeEvent(Ri(Ri({},S.state),{},{clickAnalytics:!0})),s||f.scheduleSearch();var b=function(B){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,te=ld(B);if(!te)return;var re=S.state.userToken;function le(){S.overrideStateWithoutTriggeringChangeEvent(Ri(Ri({},S.state),{},{userToken:te})),re&&re!==B&&f.scheduleSearch()}G?le():setTimeout(le,0)},k=KP();k&&b(k,!0);function O(ve,B,G){b(ve,!0),B&&c("setUserToken",B),G&&c("setAuthenticatedUserToken",G)}var Pe=C||P,ue=w||y;Pe?O(Pe,P,C):ue&&O(ue,y,w),c("onUserTokenChange",b,{immediate:!0}),c("onAuthenticatedUserTokenChange",function(ve){ve||c("getUserToken",null,function(B,G){b(G)}),b(ve)},{immediate:!0});var st=c;xw(c)&&(st=function(B,G){var te={headers:{"X-Algolia-Application-Id":E,"X-Algolia-API-Key":R}};return c(B,G,te)}),f.sendEventToInsights=function(ve){r?r(ve,st):ve.insightsMethod&&(ve.payload.algoliaSource=["instantsearch"],a&&ve.payload.algoliaSource.push("instantsearch-automatic"),ve.eventModifier==="internal"&&ve.payload.algoliaSource.push("instantsearch-internal"),st(ve.insightsMethod,ve.payload))}},unsubscribe:function(){c("onUserTokenChange",void 0),c("onAuthenticatedUserTokenChange",void 0),f.sendEventToInsights=hn,S&&v&&(S.overrideStateWithoutTriggeringChangeEvent(Ri(Ri({},S.state),v)),f.scheduleSearch())}}}}function xw(t){var e=(t.version||"").split(".").map(Number),n=fa(e,2),r=n[0],i=n[1],s=r>=3,o=r===2&&i>=6,a=r===1&&i>=10;return s||o||a}function ld(t){if(t)return typeof t=="number"?t.toString():t}function yb(t,e,n){var r=ca(e,e.mainIndex,e._initialUiState);t.forEach(function(i){var s={};if(i.getWidgetRenderState){var o=i.getWidgetRenderState(r);o&&o.widgetParams&&(s=o.widgetParams)}var a=Object.keys(s).filter(function(u){return s[u]!==void 0});n.widgets.push({type:i.$$type,widgetType:i.$$widgetType,params:a}),i.$$type==="ais.index"&&yb(i.getWidgets(),e,n)})}function XU(){return Qn(function(t){var e,n,r=t.window;return((e=r.navigator)===null||e===void 0||(n=e.userAgent)===null||n===void 0?void 0:n.indexOf("Algolia Crawler"))>-1},{fallback:function(){return!1}})}function ZU(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.$$internal,n=e===void 0?!1:e;return function(r){var i=r.instantSearchInstance,s={widgets:[]},o=document.createElement("meta"),a=document.querySelector("head");return o.name="instantsearch:widgets",{$$type:"ais.metadata",$$internal:n,onStateChange:function(){},subscribe:function(){setTimeout(function(){var c=i.client;s.ua=c.transporter&&c.transporter.userAgent?c.transporter.userAgent.value:c._ua,yb(i.mainIndex.getWidgets(),i,s),i.middleware.forEach(function(h){return s.widgets.push({middleware:!0,type:h.instance.$$type,internal:h.instance.$$internal})}),o.content=JSON.stringify(s),a.appendChild(o)},0)},started:function(){},unsubscribe:function(){o.remove()}}}}var e4=String.prototype.replace,t4=/%20/g,cd={RFC1738:"RFC1738",RFC3986:"RFC3986"},_v={default:cd.RFC3986,formatters:{RFC1738:function(t){return e4.call(t,t4,"+")},RFC3986:function(t){return String(t)}},RFC1738:cd.RFC1738,RFC3986:cd.RFC3986},n4=_v,hd=Object.prototype.hasOwnProperty,ki=Array.isArray,Hn=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),r4=function(e){for(;e.length>1;){var n=e.pop(),r=n.obj[n.prop];if(ki(r)){for(var i=[],s=0;s<r.length;++s)typeof r[s]<"u"&&i.push(r[s]);n.obj[n.prop]=i}}},_b=function(e,n){for(var r=n&&n.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(r[i]=e[i]);return r},i4=function t(e,n,r){if(!n)return e;if(typeof n!="object"){if(ki(e))e.push(n);else if(e&&typeof e=="object")(r&&(r.plainObjects||r.allowPrototypes)||!hd.call(Object.prototype,n))&&(e[n]=!0);else return[e,n];return e}if(!e||typeof e!="object")return[e].concat(n);var i=e;return ki(e)&&!ki(n)&&(i=_b(e,r)),ki(e)&&ki(n)?(n.forEach(function(s,o){if(hd.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,r):e.push(s)}else e[o]=s}),e):Object.keys(n).reduce(function(s,o){var a=n[o];return hd.call(s,o)?s[o]=t(s[o],a,r):s[o]=a,s},i)},s4=function(e,n){return Object.keys(n).reduce(function(r,i){return r[i]=n[i],r},e)},o4=function(t,e,n){var r=t.replace(/\+/g," ");if(n==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},a4=function(e,n,r,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),r==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(h){return"%26%23"+parseInt(h.slice(2),16)+"%3B"});for(var a="",u=0;u<o.length;++u){var c=o.charCodeAt(u);if(c===45||c===46||c===95||c===126||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||s===n4.RFC1738&&(c===40||c===41)){a+=o.charAt(u);continue}if(c<128){a=a+Hn[c];continue}if(c<2048){a=a+(Hn[192|c>>6]+Hn[128|c&63]);continue}if(c<55296||c>=57344){a=a+(Hn[224|c>>12]+Hn[128|c>>6&63]+Hn[128|c&63]);continue}u+=1,c=65536+((c&1023)<<10|o.charCodeAt(u)&1023),a+=Hn[240|c>>18]+Hn[128|c>>12&63]+Hn[128|c>>6&63]+Hn[128|c&63]}return a},u4=function(e){for(var n=[{obj:{o:e},prop:"o"}],r=[],i=0;i<n.length;++i)for(var s=n[i],o=s.obj[s.prop],a=Object.keys(o),u=0;u<a.length;++u){var c=a[u],h=o[c];typeof h=="object"&&h!==null&&r.indexOf(h)===-1&&(n.push({obj:o,prop:c}),r.push(h))}return r4(n),e},l4=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},c4=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},h4=function(e,n){return[].concat(e,n)},f4=function(e,n){if(ki(e)){for(var r=[],i=0;i<e.length;i+=1)r.push(n(e[i]));return r}return n(e)},wb={arrayToObject:_b,assign:s4,combine:h4,compact:u4,decode:o4,encode:a4,isBuffer:c4,isRegExp:l4,maybeMap:f4,merge:i4},Kp=wb,Aa=_v,d4=Object.prototype.hasOwnProperty,Nw={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,n){return e+"["+n+"]"},repeat:function(e){return e}},$i=Array.isArray,p4=String.prototype.split,m4=Array.prototype.push,Eb=function(t,e){m4.apply(t,$i(e)?e:[e])},g4=Date.prototype.toISOString,Dw=Aa.default,vt={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Kp.encode,encodeValuesOnly:!1,format:Dw,formatter:Aa.formatters[Dw],indices:!1,serializeDate:function(e){return g4.call(e)},skipNulls:!1,strictNullHandling:!1},v4=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},y4=function t(e,n,r,i,s,o,a,u,c,h,f,p,g,_){var E=e;if(typeof a=="function"?E=a(n,E):E instanceof Date?E=h(E):r==="comma"&&$i(E)&&(E=Kp.maybeMap(E,function(b){return b instanceof Date?h(b):b})),E===null){if(i)return o&&!g?o(n,vt.encoder,_,"key",f):n;E=""}if(v4(E)||Kp.isBuffer(E)){if(o){var R=g?n:o(n,vt.encoder,_,"key",f);if(r==="comma"&&g){for(var y=p4.call(String(E),","),w="",P=0;P<y.length;++P)w+=(P===0?"":",")+p(o(y[P],vt.encoder,_,"value",f));return[p(R)+"="+w]}return[p(R)+"="+p(o(E,vt.encoder,_,"value",f))]}return[p(n)+"="+p(String(E))]}var C=[];if(typeof E>"u")return C;var x;if(r==="comma"&&$i(E))x=[{value:E.length>0?E.join(",")||null:void 0}];else if($i(a))x=a;else{var j=Object.keys(E);x=u?j.sort(u):j}for(var A=0;A<x.length;++A){var v=x[A],S=typeof v=="object"&&typeof v.value<"u"?v.value:E[v];if(!(s&&S===null)){var T=$i(E)?typeof r=="function"?r(n,v):n:n+(c?"."+v:"["+v+"]");Eb(C,t(S,T,r,i,s,o,a,u,c,h,f,p,g,_))}}return C},_4=function(e){if(!e)return vt;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var n=e.charset||vt.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=Aa.default;if(typeof e.format<"u"){if(!d4.call(Aa.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var i=Aa.formatters[r],s=vt.filter;return(typeof e.filter=="function"||$i(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:vt.addQueryPrefix,allowDots:typeof e.allowDots>"u"?vt.allowDots:!!e.allowDots,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:vt.charsetSentinel,delimiter:typeof e.delimiter>"u"?vt.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:vt.encode,encoder:typeof e.encoder=="function"?e.encoder:vt.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:vt.encodeValuesOnly,filter:s,format:r,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:vt.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:vt.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:vt.strictNullHandling}},w4=function(t,e){var n=t,r=_4(e),i,s;typeof r.filter=="function"?(s=r.filter,n=s("",n)):$i(r.filter)&&(s=r.filter,i=s);var o=[];if(typeof n!="object"||n===null)return"";var a;e&&e.arrayFormat in Nw?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var u=Nw[a];i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);for(var c=0;c<i.length;++c){var h=i[c];r.skipNulls&&n[h]===null||Eb(o,y4(n[h],h,u,r.strictNullHandling,r.skipNulls,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset))}var f=o.join(r.delimiter),p=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),f.length>0?p+f:""},uo=wb,Qp=Object.prototype.hasOwnProperty,E4=Array.isArray,gt={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:uo.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},S4=function(t){return t.replace(/&#(\d+);/g,function(e,n){return String.fromCharCode(parseInt(n,10))})},Sb=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},T4="utf8=%26%2310003%3B",I4="utf8=%E2%9C%93",R4=function(e,n){var r={},i=n.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=n.parameterLimit===1/0?void 0:n.parameterLimit,o=i.split(n.delimiter,s),a=-1,u,c=n.charset;if(n.charsetSentinel)for(u=0;u<o.length;++u)o[u].indexOf("utf8=")===0&&(o[u]===I4?c="utf-8":o[u]===T4&&(c="iso-8859-1"),a=u,u=o.length);for(u=0;u<o.length;++u)if(u!==a){var h=o[u],f=h.indexOf("]="),p=f===-1?h.indexOf("="):f+1,g,_;p===-1?(g=n.decoder(h,gt.decoder,c,"key"),_=n.strictNullHandling?null:""):(g=n.decoder(h.slice(0,p),gt.decoder,c,"key"),_=uo.maybeMap(Sb(h.slice(p+1),n),function(E){return n.decoder(E,gt.decoder,c,"value")})),_&&n.interpretNumericEntities&&c==="iso-8859-1"&&(_=S4(_)),h.indexOf("[]=")>-1&&(_=E4(_)?[_]:_),Qp.call(r,g)?r[g]=uo.combine(r[g],_):r[g]=_}return r},P4=function(t,e,n,r){for(var i=r?e:Sb(e,n),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&n.parseArrays)o=[].concat(i);else{o=n.plainObjects?Object.create(null):{};var u=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,c=parseInt(u,10);!n.parseArrays&&u===""?o={0:i}:!isNaN(c)&&a!==u&&String(c)===u&&c>=0&&n.parseArrays&&c<=n.arrayLimit?(o=[],o[c]=i):u!=="__proto__"&&(o[u]=i)}i=o}return i},b4=function(e,n,r,i){if(e){var s=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,u=r.depth>0&&o.exec(s),c=u?s.slice(0,u.index):s,h=[];if(c){if(!r.plainObjects&&Qp.call(Object.prototype,c)&&!r.allowPrototypes)return;h.push(c)}for(var f=0;r.depth>0&&(u=a.exec(s))!==null&&f<r.depth;){if(f+=1,!r.plainObjects&&Qp.call(Object.prototype,u[1].slice(1,-1))&&!r.allowPrototypes)return;h.push(u[1])}return u&&h.push("["+s.slice(u.index)+"]"),P4(h,n,r,i)}},A4=function(e){if(!e)return gt;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=typeof e.charset>"u"?gt.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?gt.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:gt.allowPrototypes,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:gt.arrayLimit,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:gt.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:gt.comma,decoder:typeof e.decoder=="function"?e.decoder:gt.decoder,delimiter:typeof e.delimiter=="string"||uo.isRegExp(e.delimiter)?e.delimiter:gt.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:gt.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:gt.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:gt.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:gt.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:gt.strictNullHandling}},O4=function(t,e){var n=A4(e);if(t===""||t===null||typeof t>"u")return n.plainObjects?Object.create(null):{};for(var r=typeof t=="string"?R4(t,n):t,i=n.plainObjects?Object.create(null):{},s=Object.keys(r),o=0;o<s.length;++o){var a=s[o],u=b4(a,r[a],n,typeof t=="string");i=uo.merge(i,u,n)}return uo.compact(i)},C4=w4,k4=O4,x4=_v,N4={formats:x4,parse:k4,stringify:C4};const jw=ho(N4);function gu(t){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gu(t)}function D4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Tb(r.key),r)}}function F4(t,e,n){return e&&j4(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lt(t,e,n){return e=Tb(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tb(t){var e=L4(t,"string");return gu(e)==="symbol"?e:String(e)}function L4(t,e){if(gu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fw=function(e){e&&(window.document.title=e)},M4=function(){function t(e){var n=this,r=e.windowTitle,i=e.writeDelay,s=i===void 0?400:i,o=e.createURL,a=e.parseURL,u=e.getLocation,c=e.start,h=e.dispose,f=e.push,p=e.cleanUrlOnDispose;D4(this,t),Lt(this,"$$type","ais.browser"),Lt(this,"windowTitle",void 0),Lt(this,"writeDelay",void 0),Lt(this,"_createURL",void 0),Lt(this,"parseURL",void 0),Lt(this,"getLocation",void 0),Lt(this,"writeTimer",void 0),Lt(this,"_onPopState",void 0),Lt(this,"inPopState",!1),Lt(this,"isDisposed",!1),Lt(this,"latestAcknowledgedHistory",0),Lt(this,"_start",void 0),Lt(this,"_dispose",void 0),Lt(this,"_push",void 0),Lt(this,"_cleanUrlOnDispose",void 0),this.windowTitle=r,this.writeTimer=void 0,this.writeDelay=s,this._createURL=o,this.parseURL=a,this.getLocation=u,this._start=c,this._dispose=h,this._push=f,this._cleanUrlOnDispose=typeof p>"u"?!0:p,Qn(function(g){var _=g.window,E=n.windowTitle&&n.windowTitle(n.read());Fw(E),n.latestAcknowledgedHistory=_.history.length})}return F4(t,[{key:"read",value:function(){return this.parseURL({qsModule:jw,location:this.getLocation()})}},{key:"write",value:function(n){var r=this;Qn(function(i){var s=i.window,o=r.createURL(n),a=r.windowTitle&&r.windowTitle(n);r.writeTimer&&clearTimeout(r.writeTimer),r.writeTimer=setTimeout(function(){Fw(a),r.shouldWrite(o)&&(r._push?r._push(o):s.history.pushState(n,a||"",o),r.latestAcknowledgedHistory=s.history.length),r.inPopState=!1,r.writeTimer=void 0},r.writeDelay)})}},{key:"onUpdate",value:function(n){var r=this;this._start&&this._start(function(){n(r.read())}),this._onPopState=function(){r.writeTimer&&(clearTimeout(r.writeTimer),r.writeTimer=void 0),r.inPopState=!0,n(r.read())},Qn(function(i){var s=i.window;s.addEventListener("popstate",r._onPopState)})}},{key:"createURL",value:function(n){var r=this._createURL({qsModule:jw,routeState:n,location:this.getLocation()});return r}},{key:"dispose",value:function(){var n=this;this._dispose&&this._dispose(),this.isDisposed=!0,Qn(function(r){var i=r.window;n._onPopState&&i.removeEventListener("popstate",n._onPopState)}),this.writeTimer&&clearTimeout(this.writeTimer),this._cleanUrlOnDispose&&this.write({})}},{key:"start",value:function(){this.isDisposed=!1}},{key:"shouldWrite",value:function(n){var r=this;return Qn(function(i){var s=i.window;if(r.isDisposed&&!r._cleanUrlOnDispose)return!1;var o=!(r.isDisposed&&r.latestAcknowledgedHistory!==s.history.length);return!r.inPopState&&o&&n!==s.location.href})}}]),t}();function $4(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.createURL,n=e===void 0?function(_){var E=_.qsModule,R=_.routeState,y=_.location,w=y.protocol,P=y.hostname,C=y.port,x=C===void 0?"":C,j=y.pathname,A=y.hash,v=E.stringify(R),S=x===""?"":":".concat(x);return v?"".concat(w,"//").concat(P).concat(S).concat(j,"?").concat(v).concat(A):"".concat(w,"//").concat(P).concat(S).concat(j).concat(A)}:e,r=t.parseURL,i=r===void 0?function(_){var E=_.qsModule,R=_.location;return E.parse(R.search.slice(1),{arrayLimit:99})}:r,s=t.writeDelay,o=s===void 0?400:s,a=t.windowTitle,u=t.getLocation,c=u===void 0?function(){return Qn(function(_){var E=_.window;return E.location},{fallback:function(){throw new Error("You need to provide `getLocation` to the `history` router in environments where `window` does not exist.")}})}:u,h=t.start,f=t.dispose,p=t.push,g=t.cleanUrlOnDispose;return new M4({createURL:n,parseURL:i,writeDelay:o,windowTitle:a,getLocation:c,start:h,dispose:f,push:p,cleanUrlOnDispose:g})}function vu(t){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vu(t)}var V4=["configure"];function Lw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ll(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lw(Object(n),!0).forEach(function(r){Gp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gp(t,e,n){return e=U4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U4(t){var e=H4(t,"string");return vu(e)==="symbol"?e:String(e)}function H4(t,e){if(vu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function B4(t,e){if(t==null)return{};var n=z4(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function z4(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Mw(t){t.configure;var e=B4(t,V4);return e}function W4(){return{$$type:"ais.simple",stateToRoute:function(e){return Object.keys(e).reduce(function(n,r){return Ll(Ll({},n),{},Gp({},r,Mw(e[r])))},{})},routeToState:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(e).reduce(function(n,r){return Ll(Ll({},n),{},Gp({},r,Mw(e[r])))},{})}}}function yu(t){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yu(t)}function $w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ml(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$w(Object(n),!0).forEach(function(r){Ib(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$w(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ib(t,e,n){return e=q4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q4(t){var e=K4(t,"string");return yu(e)==="symbol"?e:String(e)}function K4(t,e){if(yu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Q4=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.router,r=n===void 0?$4():n,i=e.stateMapping,s=i===void 0?W4():i,o=e.$$internal,a=o===void 0?!1:o;return function(u){var c=u.instantSearchInstance;function h(g){var _=c.mainIndex.getWidgets().length===0?c._initialUiState:c.mainIndex.getWidgetUiState({}),E=Object.keys(g).reduce(function(y,w){return Ml(Ml({},y),{},Ib({},w,g[w]))},_),R=s.stateToRoute(E);return r.createURL(R)}c._createURL=h;var f=void 0,p=c._initialUiState;return{$$type:"ais.router({router:".concat(r.$$type||"__unknown__",", stateMapping:").concat(s.$$type||"__unknown__","})"),$$internal:a,onStateChange:function(_){var E=_.uiState,R=s.stateToRoute(E);(f===void 0||!hu(f,R))&&(r.write(R),f=R)},subscribe:function(){c._initialUiState=Ml(Ml({},p),s.routeToState(r.read())),r.onUpdate(function(_){c.mainIndex.getWidgets().length>0&&c.setUiState(s.routeToState(_))})},started:function(){var _;(_=r.start)===null||_===void 0||_.call(r)},unsubscribe:function(){r.dispose()}}}};function _u(t){"@babel/helpers - typeof";return _u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_u(t)}var G4=["initialSearchParameters"],Y4=["initialRecommendParameters"];function Vw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vw(Object(n),!0).forEach(function(r){Os(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Os(t,e,n){return e=J4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J4(t){var e=X4(t,"string");return _u(e)==="symbol"?e:String(e)}function X4(t,e){if(_u(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_u(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rb(t){return nH(t)||tH(t)||eH(t)||Z4()}function Z4(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eH(t,e){if(t){if(typeof t=="string")return Yp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yp(t,e)}}function tH(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nH(t){if(Array.isArray(t))return Yp(t)}function Yp(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pb(t,e){if(t==null)return{};var n=rH(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rH(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Xo=Io({name:"index-widget"});function bb(t,e){var n=e.state,r=e.recommendState,i=e.isPageReset,s=e._uiState;n!==t.state&&(t.state=n,t.emit("change",{state:t.state,results:t.lastResults,isPageReset:i,_uiState:s})),r!==t.recommendState&&(t.recommendState=r)}function Zo(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t.reduce(function(r,i){return jn(i)||!i.getWidgetUiState&&!i.getWidgetState?r:i.getWidgetUiState?i.getWidgetUiState(r,e):i.getWidgetState(r,e)},n)}function ea(t,e){var n=e.initialSearchParameters,r=Pb(e,G4);return t.reduce(function(i,s){return!s.getWidgetSearchParameters||jn(s)?i:s.dependsOn==="search"&&s.getWidgetParameters?s.getWidgetParameters(i,r):s.getWidgetSearchParameters(i,r)},n)}function Uw(t,e){var n=e.initialRecommendParameters,r=Pb(e,Y4);return t.reduce(function(i,s){return!jn(s)&&s.dependsOn==="recommend"&&s.getWidgetParameters?s.getWidgetParameters(i,r):i},n)}function Ab(t){var e=t.filter(jn);e.length!==0&&e.forEach(function(n){var r=n.getHelper();bb(r,{state:r.state.resetPage(),recommendState:r.recommendState,isPageReset:!0}),Ab(n.getWidgets())})}function Ob(t){var e=t.filter(jn);return e.reduce(function(n,r){return n.concat.apply(n,[{indexId:r.getIndexId(),results:r.getResults(),helper:r.getHelper()}].concat(Rb(Ob(r.getWidgets()))))},[])}var iH=function(e){if(e===void 0||e.indexName===void 0)throw new Error(Xo("The `indexName` option is required."));var n=e.indexName,r=e.indexId,i=r===void 0?n:r,s=[],o={},a=null,u=null,c=null,h=null,f=null,p=!1,g=!1;return{$$type:"ais.index",$$widgetType:"ais.index",getIndexName:function(){return n},getIndexId:function(){return i},getHelper:function(){return c},getResults:function(){var E;return(E=h)!==null&&E!==void 0&&E.lastResults?(h.lastResults._state=c.state,h.lastResults):null},getResultsForWidget:function(E){var R;return E.dependsOn!=="recommend"||jn(E)||E.$$id===void 0?this.getResults():(R=c)!==null&&R!==void 0&&R.lastRecommendResults?c.lastRecommendResults[E.$$id]:null},getPreviousState:function(){return f},getScopedResults:function(){var E=this.getParent(),R;return E?R=E.getWidgets():n.length===0?R=this.getWidgets():R=[this],Ob(R)},getParent:function(){return u},createURL:function(E){return typeof E=="function"?a._createURL(Os({},i,E(o))):a._createURL(Os({},i,Zo(s,{searchParameters:E,helper:c})))},getWidgets:function(){return s},addWidgets:function(E){var R=this;if(!Array.isArray(E))throw new Error(Xo("The `addWidgets` method expects an array of widgets."));if(E.some(function(y){return typeof y.init!="function"&&typeof y.render!="function"}))throw new Error(Xo("The widget definition expects a `render` and/or an `init` method."));return E.forEach(function(y){jn(y)||(a&&y.dependsOn==="recommend"?a._hasRecommendWidget=!0:a?a._hasSearchWidget=!0:y.dependsOn==="recommend"?p=!0:g=!0,qM(y))}),s=s.concat(E),a&&E.length&&(bb(c,{state:ea(s,{uiState:o,initialSearchParameters:c.state}),recommendState:Uw(s,{uiState:o,initialRecommendParameters:c.recommendState}),_uiState:o}),E.forEach(function(y){if(y.getRenderState){var w=y.getRenderState(a.renderState[R.getIndexId()]||{},ca(a,R,a._initialUiState));fd({renderState:w,instantSearchInstance:a,parent:R})}}),E.forEach(function(y){y.init&&y.init(ca(a,R,a._initialUiState))}),a.scheduleSearch()),this},removeWidgets:function(E){var R=this;if(!Array.isArray(E))throw new Error(Xo("The `removeWidgets` method expects an array of widgets."));if(E.some(function(x){return typeof x.dispose!="function"}))throw new Error(Xo("The widget definition expects a `dispose` method."));if(s=s.filter(function(x){return E.indexOf(x)===-1}),s.forEach(function(x){jn(x)||(a&&x.dependsOn==="recommend"?a._hasRecommendWidget=!0:a?a._hasSearchWidget=!0:x.dependsOn==="recommend"?p=!0:g=!0)}),a&&E.length){var y=E.reduce(function(x,j){var A=j.dispose({helper:c,state:x.cleanedSearchState,recommendState:x.cleanedRecommendState,parent:R});return A instanceof $t.RecommendParameters?x.cleanedRecommendState=A:A&&(x.cleanedSearchState=A),x},{cleanedSearchState:c.state,cleanedRecommendState:c.recommendState}),w=y.cleanedSearchState,P=y.cleanedRecommendState,C=a.future.preserveSharedStateOnUnmount?ea(s,{uiState:o,initialSearchParameters:new $t.SearchParameters({index:this.getIndexName()})}):ea(s,{uiState:Zo(s,{searchParameters:w,helper:c}),initialSearchParameters:w});o=Zo(s,{searchParameters:C,helper:c}),c.setState(C),c.recommendState=P,s.length&&a.scheduleSearch()}return this},init:function(E){var R=this,y,w=E.instantSearchInstance,P=E.parent,C=E.uiState;if(c===null){a=w,u=P,o=C[i]||{};var x=w.mainHelper,j=ea(s,{uiState:o,initialSearchParameters:new $t.SearchParameters({index:n})}),A=Uw(s,{uiState:o,initialRecommendParameters:new $t.RecommendParameters});c=$t({},j.index,j),c.recommendState=A,c.search=function(){return w.onStateChange?(w.onStateChange({uiState:w.mainIndex.getWidgetUiState({}),setUiState:function(k){return w.setUiState(k,!1)}}),x):x.search()},c.searchWithoutTriggeringOnStateChange=function(){return x.search()},c.searchForFacetValues=function(b,k,O,Pe){var ue=c.state.setQueryParameters(Pe);return x.searchForFacetValues(b,k,O,ue)},h=x.derive(function(){return oc.apply(void 0,[x.state].concat(Rb(hV(R))))},function(){return R.getHelper().recommendState});var v=(y=w._initialResults)===null||y===void 0?void 0:y[this.getIndexId()];if(v!=null&&v.results){var S=new $t.SearchResults(new $t.SearchParameters(v.state),v.results);h.lastResults=S,c.lastResults=S}if(v!=null&&v.recommendResults){var T=new $t.RecommendResults(new $t.RecommendParameters({params:v.recommendResults.params}),v.recommendResults.results);h.lastRecommendResults=T,c.lastRecommendResults=T}c.on("change",function(b){var k=b.isPageReset;k&&Ab(s)}),h.on("search",function(){w.scheduleStalledRender()}),h.on("result",function(b){var k=b.results;w.scheduleRender(),c.lastResults=k,f=k==null?void 0:k._state}),h.on("recommend:result",function(b){var k=b.recommend;w.scheduleRender(),c.lastRecommendResults=k.results}),s.forEach(function(b){if(b.getRenderState){var k=b.getRenderState(w.renderState[R.getIndexId()]||{},ca(w,R,C));fd({renderState:k,instantSearchInstance:w,parent:R})}}),s.forEach(function(b){b.init&&b.init(ca(w,R,C))}),c.on("change",function(b){var k=b.state,O=b._uiState;o=Zo(s,{searchParameters:k,helper:c},O||{}),w.onStateChange||w.onInternalStateChange()}),v&&w.scheduleRender(),p&&(w._hasRecommendWidget=!0),g&&(w._hasSearchWidget=!0)}},render:function(E){var R,y=this,w=E.instantSearchInstance;w.status==="error"&&!w.mainHelper.hasPendingRequests()&&f&&c.setState(f);var P=this.getResults()||(R=h)!==null&&R!==void 0&&R.lastRecommendResults?s:s.filter(jn);P=P.filter(function(C){return C.shouldRender?C.shouldRender({instantSearchInstance:w}):!0}),P.forEach(function(C){if(C.getRenderState){var x=C.getRenderState(w.renderState[y.getIndexId()]||{},Ew(w,y,C));fd({renderState:x,instantSearchInstance:w,parent:y})}}),P.forEach(function(C){C.render&&C.render(Ew(w,y,C))})},dispose:function(){var E=this,R,y;s.forEach(function(w){w.dispose&&c&&w.dispose({helper:c,state:c.state,recommendState:c.recommendState,parent:E})}),a=null,u=null,(R=c)===null||R===void 0||R.removeAllListeners(),c=null,(y=h)===null||y===void 0||y.detach(),h=null},getWidgetUiState:function(E){return s.filter(jn).reduce(function(R,y){return y.getWidgetUiState(R)},Wn(Wn({},E),{},Os({},i,Wn(Wn({},E[i]),o))))},getWidgetState:function(E){return this.getWidgetUiState(E)},getWidgetSearchParameters:function(E,R){var y=R.uiState;return ea(s,{uiState:y,initialSearchParameters:E})},refreshUiState:function(){o=Zo(s,{searchParameters:this.getHelper().state,helper:this.getHelper()},o)},setIndexUiState:function(E){var R=typeof E=="function"?E(o):E;a.setUiState(function(y){return Wn(Wn({},y),{},Os({},i,R))})}}};function fd(t){var e=t.renderState,n=t.instantSearchInstance,r=t.parent,i=r?r.getIndexId():n.mainIndex.getIndexId();n.renderState=Wn(Wn({},n.renderState),{},Os({},i,Wn(Wn({},n.renderState[i]),e)))}function sH(t,e){return t.toLocaleString(e)}function wu(t){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wu(t)}function Hw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ar(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hw(Object(n),!0).forEach(function(r){oH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oH(t,e,n){return e=aH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aH(t){var e=uH(t,"string");return wu(e)==="symbol"?e:String(e)}function uH(t,e){if(wu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lH(t){var e=t.numberLocale;return{formatNumber:function(r,i){return sH(Number(i(r)),e)},highlight:function(r,i){try{var s=JSON.parse(r);return i(HP(ar(ar({},s),{},{hit:this})))}catch{throw new Error(`
The highlight helper expects a JSON object of the format:
{ "attribute": "name", "highlightedTagName": "mark" }`)}},reverseHighlight:function(r,i){try{var s=JSON.parse(r);return i(BP(ar(ar({},s),{},{hit:this})))}catch{throw new Error(`
  The reverseHighlight helper expects a JSON object of the format:
  { "attribute": "name", "highlightedTagName": "mark" }`)}},snippet:function(r,i){try{var s=JSON.parse(r);return i(zP(ar(ar({},s),{},{hit:this})))}catch{throw new Error(`
The snippet helper expects a JSON object of the format:
{ "attribute": "name", "highlightedTagName": "mark" }`)}},reverseSnippet:function(r,i){try{var s=JSON.parse(r);return i(WP(ar(ar({},s),{},{hit:this})))}catch{throw new Error(`
  The reverseSnippet helper expects a JSON object of the format:
  { "attribute": "name", "highlightedTagName": "mark" }`)}},insights:function(r,i){try{var s=JSON.parse(r),o=s.method,a=s.payload;return i(qP(o,ar({objectIDs:[this.objectID]},a)))}catch{throw new Error(`
The insights helper expects a JSON object of the format:
{ "method": "method-name", "payload": { "eventName": "name of the event" } }`)}}}}const Cb="4.74.0";function lo(t){"@babel/helpers - typeof";return lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lo(t)}function Bw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bw(Object(n),!0).forEach(function(r){Ie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hH(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kb(r.key),r)}}function fH(t,e,n){return e&&hH(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jp(t,e)}function Jp(t,e){return Jp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Jp(t,e)}function pH(t){var e=gH();return function(){var r=Zc(t),i;if(e){var s=Zc(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return mH(this,i)}}function mH(t,e){if(e&&(lo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Te(t)}function Te(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gH(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Zc(t){return Zc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zc(t)}function Ie(t,e,n){return e=kb(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kb(t){var e=vH(t,"string");return lo(e)==="symbol"?e:String(e)}function vH(t,e){if(lo(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(lo(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bn=Io({name:"instantsearch"});function yH(){return"#"}var _H={preserveSharedStateOnUnmount:!1,persistHierarchicalRootCount:!1},wH=function(t){dH(n,t);var e=pH(n);function n(r){var i;cH(this,n),i=e.call(this),Ie(Te(i),"client",void 0),Ie(Te(i),"indexName",void 0),Ie(Te(i),"insightsClient",void 0),Ie(Te(i),"onStateChange",null),Ie(Te(i),"future",void 0),Ie(Te(i),"helper",void 0),Ie(Te(i),"mainHelper",void 0),Ie(Te(i),"mainIndex",void 0),Ie(Te(i),"started",void 0),Ie(Te(i),"templatesConfig",void 0),Ie(Te(i),"renderState",{}),Ie(Te(i),"_stalledSearchDelay",void 0),Ie(Te(i),"_searchStalledTimer",void 0),Ie(Te(i),"_initialUiState",void 0),Ie(Te(i),"_initialResults",void 0),Ie(Te(i),"_createURL",void 0),Ie(Te(i),"_searchFunction",void 0),Ie(Te(i),"_mainHelperSearch",void 0),Ie(Te(i),"_hasSearchWidget",!1),Ie(Te(i),"_hasRecommendWidget",!1),Ie(Te(i),"_insights",void 0),Ie(Te(i),"middleware",[]),Ie(Te(i),"sendEventToInsights",void 0),Ie(Te(i),"status","idle"),Ie(Te(i),"error",void 0),Ie(Te(i),"scheduleSearch",Go(function(){i.started&&i.mainHelper.search()})),Ie(Te(i),"scheduleRender",Go(function(){var b,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;(b=i.mainHelper)!==null&&b!==void 0&&b.hasPendingRequests()||(clearTimeout(i._searchStalledTimer),i._searchStalledTimer=null,k&&(i.status="idle",i.error=void 0)),i.mainIndex.render({instantSearchInstance:Te(i)}),i.emit("render")})),Ie(Te(i),"onInternalStateChange",Go(function(){var b=i.mainIndex.getWidgetUiState({});i.middleware.forEach(function(k){var O=k.instance;O.onStateChange({uiState:b})})})),i.setMaxListeners(100);var s=r.indexName,o=s===void 0?"":s,a=r.numberLocale,u=r.initialUiState,c=u===void 0?{}:u,h=r.routing,f=h===void 0?null:h,p=r.insights,g=p===void 0?void 0:p,_=r.searchFunction,E=r.stalledSearchDelay,R=E===void 0?200:E,y=r.searchClient,w=y===void 0?null:y,P=r.insightsClient,C=P===void 0?null:P,x=r.onStateChange,j=x===void 0?null:x,A=r.future,v=A===void 0?dd(dd({},_H),r.future||{}):A;if(w===null)throw new Error(Bn("The `searchClient` option is required."));if(typeof w.search!="function")throw new Error("The `searchClient` must implement a `search` method.\n\nSee: https://www.algolia.com/doc/guides/building-search-ui/going-further/backend-search/in-depth/backend-instantsearch/js/");if(typeof w.addAlgoliaAgent=="function"&&w.addAlgoliaAgent("instantsearch.js (".concat(Cb,")")),C&&typeof C!="function")throw new Error(Bn("The `insightsClient` option should be a function."));if(i.client=w,i.future=v,i.insightsClient=C,i.indexName=o,i.helper=null,i.mainHelper=null,i.mainIndex=iH({indexName:o}),i.onStateChange=j,i.started=!1,i.templatesConfig={helpers:lH({numberLocale:a}),compileOptions:{}},i._stalledSearchDelay=R,i._searchStalledTimer=null,i._createURL=yH,i._initialUiState=c,i._initialResults=null,i._insights=g,_&&(i._searchFunction=_),i.sendEventToInsights=hn,f){var S=typeof f=="boolean"?{}:f;S.$$internal=!0,i.use(Q4(S))}if(g){var T=typeof g=="boolean"?{}:g;T.$$internal=!0,i.use(kw(T))}return XU()&&i.use(ZU({$$internal:!0})),i}return fH(n,[{key:"_isSearchStalled",get:function(){return this.status==="stalled"}},{key:"use",value:function(){for(var i=this,s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];var u=o.map(function(c){var h=dd({$$type:"__unknown__",$$internal:!1,subscribe:hn,started:hn,unsubscribe:hn,onStateChange:hn},c({instantSearchInstance:i}));return i.middleware.push({creator:c,instance:h}),h});return this.started&&u.forEach(function(c){c.subscribe(),c.started()}),this}},{key:"unuse",value:function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return this.middleware.filter(function(a){return s.includes(a.creator)}).forEach(function(a){return a.instance.unsubscribe()}),this.middleware=this.middleware.filter(function(a){return!s.includes(a.creator)}),this}},{key:"EXPERIMENTAL_use",value:function(){return this.use.apply(this,arguments)}},{key:"addWidget",value:function(i){return this.addWidgets([i])}},{key:"addWidgets",value:function(i){if(!Array.isArray(i))throw new Error(Bn("The `addWidgets` method expects an array of widgets. Please use `addWidget`."));if(i.some(function(s){return typeof s.init!="function"&&typeof s.render!="function"}))throw new Error(Bn("The widget definition expects a `render` and/or an `init` method."));return this.mainIndex.addWidgets(i),this}},{key:"removeWidget",value:function(i){return this.removeWidgets([i])}},{key:"removeWidgets",value:function(i){if(!Array.isArray(i))throw new Error(Bn("The `removeWidgets` method expects an array of widgets. Please use `removeWidget`."));if(i.some(function(s){return typeof s.dispose!="function"}))throw new Error(Bn("The widget definition expects a `dispose` method."));return this.mainIndex.removeWidgets(i),this}},{key:"start",value:function(){var i=this;if(this.started)throw new Error(Bn("The `start` method has already been called once."));var s=this.mainHelper||$t(this.client,this.indexName,void 0,{persistHierarchicalRootCount:this.future.persistHierarchicalRootCount});if(s.search=function(){return i.status="loading",i.scheduleRender(!1),i._hasSearchWidget&&s.searchOnlyWithDerivedHelpers(),i._hasRecommendWidget&&s.recommend(),s},this._searchFunction){var o={search:function(){return new Promise(hn)}};this._mainHelperSearch=s.search.bind(s),s.search=function(){var u=i.mainIndex.getHelper(),c=$t(o,u.state.index,u.state);return c.once("search",function(h){var f=h.state;u.overrideStateWithoutTriggeringChangeEvent(f),i._mainHelperSearch()}),c.on("change",function(h){var f=h.state;u.setState(f)}),i._searchFunction(c),s}}if(s.on("error",function(u){var c=u.error;if(!(c instanceof Error)){var h=c;c=Object.keys(h).reduce(function(f,p){return f[p]=h[p],f},new Error(h.message))}c.error=c,i.error=c,i.status="error",i.scheduleRender(!1),i.emit("error",c)}),this.mainHelper=s,this.middleware.forEach(function(u){var c=u.instance;c.subscribe()}),this.mainIndex.init({instantSearchInstance:this,parent:null,uiState:this._initialUiState}),this._initialResults){W$(this.client,this._initialResults),L$(this.mainHelper,this._initialResults);var a=this.scheduleSearch;this.scheduleSearch=Go(hn),Go(function(){i.scheduleSearch=a})()}else this.mainIndex.getWidgets().length>0&&this.scheduleSearch();this.helper=this.mainIndex.getHelper(),this.started=!0,this.middleware.forEach(function(u){var c=u.instance;c.started()}),typeof this._insights>"u"&&s.derivedHelpers[0].once("result",function(){var u=i.mainIndex.getScopedResults().some(function(c){var h=c.results;return h==null?void 0:h._automaticInsights});u&&i.use(kw({$$internal:!0,$$automatic:!0}))})}},{key:"dispose",value:function(){var i;this.scheduleSearch.cancel(),this.scheduleRender.cancel(),clearTimeout(this._searchStalledTimer),this.removeWidgets(this.mainIndex.getWidgets()),this.mainIndex.dispose(),this.started=!1,this.removeAllListeners(),(i=this.mainHelper)===null||i===void 0||i.removeAllListeners(),this.mainHelper=null,this.helper=null,this.middleware.forEach(function(s){var o=s.instance;o.unsubscribe()})}},{key:"scheduleStalledRender",value:function(){var i=this;this._searchStalledTimer||(this._searchStalledTimer=setTimeout(function(){i.status="stalled",i.scheduleRender()},this._stalledSearchDelay))}},{key:"setUiState",value:function(i){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!this.mainHelper)throw new Error(Bn("The `start` method needs to be called before `setUiState`."));this.mainIndex.refreshUiState();var a=typeof i=="function"?i(this.mainIndex.getWidgetUiState({})):i;this.onStateChange&&o?this.onStateChange({uiState:a,setUiState:function(c){$p(typeof c=="function"?c(a):c,s.mainIndex),s.scheduleSearch(),s.onInternalStateChange()}}):($p(a,this.mainIndex),this.scheduleSearch(),this.onInternalStateChange())}},{key:"getUiState",value:function(){return this.started&&this.mainIndex.refreshUiState(),this.mainIndex.getWidgetUiState({})}},{key:"createURL",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.started)throw new Error(Bn("The `start` method needs to be called before `createURL`."));return this._createURL(i)}},{key:"refresh",value:function(){if(!this.mainHelper)throw new Error(Bn("The `start` method needs to be called before `refresh`."));this.mainHelper.clearCache().search()}}]),n}(OV),bn=function(e){return new wH(e)};bn.version=Cb;bn.createInfiniteHitsSessionStorageCache=Ku(bV);bn.highlight=Ku(HP);bn.reverseHighlight=Ku(BP);bn.snippet=Ku(zP);bn.reverseSnippet=Ku(WP);bn.insights=qP;bn.getInsightsAnonymousUserToken=TV;Object.defineProperty(bn,"widgets",{get:function(){throw new ReferenceError(`"instantsearch.widgets" are not available from the ES build.

To import the widgets:

import { searchBox } from 'instantsearch.js/es/widgets'`)}});Object.defineProperty(bn,"connectors",{get:function(){throw new ReferenceError(`"instantsearch.connectors" are not available from the ES build.

To import the connectors:

import { connectSearchBox } from 'instantsearch.js/es/connectors'`)}});Object.defineProperty(bn,"templates",{get:function(){throw new ReferenceError(`"instantsearch.templates" are not available from the ES build.

To import the templates:

import { carousel } from 'instantsearch.js/es/templates'`)}});function eh(){return eh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eh.apply(null,arguments)}function EH(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function xb(t,e){if(t==null)return{};var n,r,i=EH(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ke(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce(function(r,i){return Array.isArray(i)?r.concat(i):r.concat([i])},[]).filter(Boolean).join(" ")}var SH=["parts","highlightedTagName","nonHighlightedTagName","separator","className","classNames"];function TH(t){var e=t.createElement;return function(r){var i=r.classNames,s=r.children,o=r.highlightedTagName,a=r.isHighlighted,u=r.nonHighlightedTagName,c=a?o:u;return e(c,{className:a?i.highlighted:i.nonHighlighted},s)}}function IH(t){var e=t.createElement,n=t.Fragment,r=TH({createElement:e,Fragment:n});return function(s){var o=s.parts,a=s.highlightedTagName,u=a===void 0?"mark":a,c=s.nonHighlightedTagName,h=c===void 0?"span":c,f=s.separator,p=f===void 0?", ":f,g=s.className,_=s.classNames,E=_===void 0?{}:_,R=xb(s,SH);return e("span",eh({},R,{className:ke(E.root,g)}),o.map(function(y,w){var P=w===o.length-1;return e(n,{key:w},y.map(function(C,x){return e(r,{key:x,classNames:E,highlightedTagName:u,nonHighlightedTagName:h,isHighlighted:C.isHighlighted},C.value)}),!P&&e("span",{className:E.separator},p))}))}}var RH=["classNames","hits","itemComponent","sendEvent","emptyComponent","banner","bannerComponent"];function PH(t){var e=t.createElement;return function(r){var i=r.classNames,s=r.banner;return s.image.urls[0].url?e("aside",{className:ke("ais-Hits-banner",i.bannerRoot)},s.link?e("a",{className:ke("ais-Hits-banner-link",i.bannerLink),href:s.link.url,target:s.link.target},e("img",{className:ke("ais-Hits-banner-image",i.bannerImage),src:s.image.urls[0].url,alt:s.image.title})):e("img",{className:ke("ais-Hits-banner-image",i.bannerImage),src:s.image.urls[0].url,alt:s.image.title})):null}}function bH(t){var e=t.createElement,n=t.Fragment,r=PH({createElement:e,Fragment:n});return function(s){var o=s.classNames,a=o===void 0?{}:o,u=s.hits,c=s.itemComponent,h=s.sendEvent,f=s.emptyComponent,p=s.banner,g=s.bannerComponent,_=xb(s,RH);return e("div",eh({},_,{className:ke("ais-Hits",a.root,u.length===0&&ke("ais-Hits--empty",a.emptyRoot),_.className)}),p&&(g?e(g,{className:ke("ais-Hits-banner",a.bannerRoot),banner:p}):e(r,{classNames:a,banner:p})),u.length===0&&f?e(f,null):e("ol",{className:ke("ais-Hits-list",a.list)},u.map(function(E,R){return e(c,{key:E.objectID,hit:E,index:R,className:ke("ais-Hits-item",a.item),onClick:function(){h("click:internal",E,"Hit Clicked")},onAuxClick:function(){h("click:internal",E,"Hit Clicked")}})})))}}var Kh,qe,Nb,xi,zw,Db,Xp,wv,Zp,em,Eu={},jb=[],AH=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Ev=Array.isArray;function Kr(t,e){for(var n in e)t[n]=e[n];return t}function Fb(t){var e=t.parentNode;e&&e.removeChild(t)}function rt(t,e,n){var r,i,s,o={};for(s in e)s=="key"?r=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?Kh.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return ac(t,o,r,i,null)}function ac(t,e,n,r,i){var s={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i??++Nb,__i:-1,__u:0};return i==null&&qe.vnode!=null&&qe.vnode(s),s}function OH(){return{current:null}}function di(t){return t.children}function Ws(t,e){this.props=t,this.context=e}function ns(t,e){if(e==null)return t.__?ns(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?ns(t):null}function Lb(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return Lb(t)}}function Ww(t){(!t.__d&&(t.__d=!0)&&xi.push(t)&&!th.__r++||zw!==qe.debounceRendering)&&((zw=qe.debounceRendering)||Db)(th)}function th(){var t,e,n,r,i,s,o,a;for(xi.sort(Xp);t=xi.shift();)t.__d&&(e=xi.length,r=void 0,s=(i=(n=t).__v).__e,o=[],a=[],n.__P&&((r=Kr({},i)).__v=i.__v+1,qe.vnode&&qe.vnode(r),Sv(n.__P,r,i,n.__n,n.__P.namespaceURI,32&i.__u?[s]:null,o,s??ns(i),!!(32&i.__u),a),r.__v=i.__v,r.__.__k[r.__i]=r,Vb(o,r,a),r.__e!=s&&Lb(r)),xi.length>e&&xi.sort(Xp));th.__r=0}function Mb(t,e,n,r,i,s,o,a,u,c,h){var f,p,g,_,E,R=r&&r.__k||jb,y=e.length;for(n.__d=u,CH(n,e,R),u=n.__d,f=0;f<y;f++)(g=n.__k[f])!=null&&typeof g!="boolean"&&typeof g!="function"&&(p=g.__i===-1?Eu:R[g.__i]||Eu,g.__i=f,Sv(t,g,p,i,s,o,a,u,c,h),_=g.__e,g.ref&&p.ref!=g.ref&&(p.ref&&Tv(p.ref,null,g),h.push(g.ref,g.__c||_,g)),E==null&&_!=null&&(E=_),65536&g.__u||p.__k===g.__k?u=$b(g,u,t):typeof g.type=="function"&&g.__d!==void 0?u=g.__d:_&&(u=_.nextSibling),g.__d=void 0,g.__u&=-196609);n.__d=u,n.__e=E}function CH(t,e,n){var r,i,s,o,a,u=e.length,c=n.length,h=c,f=0;for(t.__k=[],r=0;r<u;r++)o=r+f,(i=t.__k[r]=(i=e[r])==null||typeof i=="boolean"||typeof i=="function"?null:typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?ac(null,i,null,null,null):Ev(i)?ac(di,{children:i},null,null,null):i.constructor===void 0&&i.__b>0?ac(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)!=null?(i.__=t,i.__b=t.__b+1,a=kH(i,n,o,h),i.__i=a,s=null,a!==-1&&(h--,(s=n[a])&&(s.__u|=131072)),s==null||s.__v===null?(a==-1&&f--,typeof i.type!="function"&&(i.__u|=65536)):a!==o&&(a==o-1?f--:a==o+1?f++:a>o?h>u-o?f+=a-o:f--:a<o&&(a==o-f?f-=a-o:f++),a!==r+f&&(i.__u|=65536))):(s=n[o])&&s.key==null&&s.__e&&!(131072&s.__u)&&(s.__e==t.__d&&(t.__d=ns(s)),tm(s,s,!1),n[o]=null,h--);if(h)for(r=0;r<c;r++)(s=n[r])!=null&&!(131072&s.__u)&&(s.__e==t.__d&&(t.__d=ns(s)),tm(s,s))}function $b(t,e,n){var r,i;if(typeof t.type=="function"){for(r=t.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=t,e=$b(r[i],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=ns(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function kH(t,e,n,r){var i=t.key,s=t.type,o=n-1,a=n+1,u=e[n];if(u===null||u&&i==u.key&&s===u.type&&!(131072&u.__u))return n;if(r>(u!=null&&!(131072&u.__u)?1:0))for(;o>=0||a<e.length;){if(o>=0){if((u=e[o])&&!(131072&u.__u)&&i==u.key&&s===u.type)return o;o--}if(a<e.length){if((u=e[a])&&!(131072&u.__u)&&i==u.key&&s===u.type)return a;a++}}return-1}function qw(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||AH.test(e)?n:n+"px"}function $l(t,e,n,r,i){var s;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||qw(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||qw(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=n,n?r?n.u=r.u:(n.u=wv,t.addEventListener(e,s?em:Zp,s)):t.removeEventListener(e,s?em:Zp,s);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function Kw(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=wv++;else if(e.t<n.u)return;return n(qe.event?qe.event(e):e)}}}function Sv(t,e,n,r,i,s,o,a,u,c){var h,f,p,g,_,E,R,y,w,P,C,x,j,A,v,S,T=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(u=!!(32&n.__u),s=[a=e.__e=n.__e]),(h=qe.__b)&&h(e);e:if(typeof T=="function")try{if(y=e.props,w="prototype"in T&&T.prototype.render,P=(h=T.contextType)&&r[h.__c],C=h?P?P.props.value:h.__:r,n.__c?R=(f=e.__c=n.__c).__=f.__E:(w?e.__c=f=new T(y,C):(e.__c=f=new Ws(y,C),f.constructor=T,f.render=NH),P&&P.sub(f),f.props=y,f.state||(f.state={}),f.context=C,f.__n=r,p=f.__d=!0,f.__h=[],f._sb=[]),w&&f.__s==null&&(f.__s=f.state),w&&T.getDerivedStateFromProps!=null&&(f.__s==f.state&&(f.__s=Kr({},f.__s)),Kr(f.__s,T.getDerivedStateFromProps(y,f.__s))),g=f.props,_=f.state,f.__v=e,p)w&&T.getDerivedStateFromProps==null&&f.componentWillMount!=null&&f.componentWillMount(),w&&f.componentDidMount!=null&&f.__h.push(f.componentDidMount);else{if(w&&T.getDerivedStateFromProps==null&&y!==g&&f.componentWillReceiveProps!=null&&f.componentWillReceiveProps(y,C),!f.__e&&(f.shouldComponentUpdate!=null&&f.shouldComponentUpdate(y,f.__s,C)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(f.props=y,f.state=f.__s,f.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(b){b&&(b.__=e)}),x=0;x<f._sb.length;x++)f.__h.push(f._sb[x]);f._sb=[],f.__h.length&&o.push(f);break e}f.componentWillUpdate!=null&&f.componentWillUpdate(y,f.__s,C),w&&f.componentDidUpdate!=null&&f.__h.push(function(){f.componentDidUpdate(g,_,E)})}if(f.context=C,f.props=y,f.__P=t,f.__e=!1,j=qe.__r,A=0,w){for(f.state=f.__s,f.__d=!1,j&&j(e),h=f.render(f.props,f.state,f.context),v=0;v<f._sb.length;v++)f.__h.push(f._sb[v]);f._sb=[]}else do f.__d=!1,j&&j(e),h=f.render(f.props,f.state,f.context),f.state=f.__s;while(f.__d&&++A<25);f.state=f.__s,f.getChildContext!=null&&(r=Kr(Kr({},r),f.getChildContext())),w&&!p&&f.getSnapshotBeforeUpdate!=null&&(E=f.getSnapshotBeforeUpdate(g,_)),Mb(t,Ev(S=h!=null&&h.type===di&&h.key==null?h.props.children:h)?S:[S],e,n,r,i,s,o,a,u,c),f.base=e.__e,e.__u&=-161,f.__h.length&&o.push(f),R&&(f.__E=f.__=null)}catch(b){if(e.__v=null,u||s!=null){for(e.__u|=u?160:32;a&&a.nodeType===8&&a.nextSibling;)a=a.nextSibling;s[s.indexOf(a)]=null,e.__e=a}else e.__e=n.__e,e.__k=n.__k;qe.__e(b,e,n)}else s==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=xH(n.__e,e,n,r,i,s,o,u,c);(h=qe.diffed)&&h(e)}function Vb(t,e,n){e.__d=void 0;for(var r=0;r<n.length;r++)Tv(n[r],n[++r],n[++r]);qe.__c&&qe.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(s){s.call(i)})}catch(s){qe.__e(s,i.__v)}})}function xH(t,e,n,r,i,s,o,a,u){var c,h,f,p,g,_,E,R=n.props,y=e.props,w=e.type;if(w==="svg"?i="http://www.w3.org/2000/svg":w==="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),s!=null){for(c=0;c<s.length;c++)if((g=s[c])&&"setAttribute"in g==!!w&&(w?g.localName===w:g.nodeType===3)){t=g,s[c]=null;break}}if(t==null){if(w===null)return document.createTextNode(y);t=document.createElementNS(i,w,y.is&&y),s=null,a=!1}if(w===null)R===y||a&&t.data===y||(t.data=y);else{if(s=s&&Kh.call(t.childNodes),R=n.props||Eu,!a&&s!=null)for(R={},c=0;c<t.attributes.length;c++)R[(g=t.attributes[c]).name]=g.value;for(c in R)if(g=R[c],c!="children"){if(c=="dangerouslySetInnerHTML")f=g;else if(c!=="key"&&!(c in y)){if(c=="value"&&"defaultValue"in y||c=="checked"&&"defaultChecked"in y)continue;$l(t,c,null,g,i)}}for(c in y)g=y[c],c=="children"?p=g:c=="dangerouslySetInnerHTML"?h=g:c=="value"?_=g:c=="checked"?E=g:c==="key"||a&&typeof g!="function"||R[c]===g||$l(t,c,g,R[c],i);if(h)a||f&&(h.__html===f.__html||h.__html===t.innerHTML)||(t.innerHTML=h.__html),e.__k=[];else if(f&&(t.innerHTML=""),Mb(t,Ev(p)?p:[p],e,n,r,w==="foreignObject"?"http://www.w3.org/1999/xhtml":i,s,o,s?s[0]:n.__k&&ns(n,0),a,u),s!=null)for(c=s.length;c--;)s[c]!=null&&Fb(s[c]);a||(c="value",_!==void 0&&(_!==t[c]||w==="progress"&&!_||w==="option"&&_!==R[c])&&$l(t,c,_,R[c],i),c="checked",E!==void 0&&E!==t[c]&&$l(t,c,E,R[c],i))}return t}function Tv(t,e,n){try{if(typeof t=="function"){var r=typeof t.__u=="function";r&&t.__u(),r&&e==null||(t.__u=t(e))}else t.current=e}catch(i){qe.__e(i,n)}}function tm(t,e,n){var r,i;if(qe.unmount&&qe.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||Tv(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){qe.__e(s,e)}r.base=r.__P=null}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&tm(r[i],e,n||typeof t.type!="function");n||t.__e==null||Fb(t.__e),t.__c=t.__=t.__e=t.__d=void 0}function NH(t,e,n){return this.constructor(t,n)}function Ub(t,e,n){var r,i,s,o;qe.__&&qe.__(t,e),i=(r=typeof n=="function")?null:e.__k,s=[],o=[],Sv(e,t=(!r&&n||e).__k=rt(di,null,[t]),i||Eu,Eu,e.namespaceURI,!r&&n?[n]:i?null:e.firstChild?Kh.call(e.childNodes):null,s,!r&&n?n:i?i.__e:e.firstChild,r,o),Vb(s,t,o)}Kh=jb.slice,qe={__e:function(t,e,n,r){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},Nb=0,Ws.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Kr({},this.state),typeof t=="function"&&(t=t(Kr({},n),this.props)),t&&Kr(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),Ww(this))},Ws.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Ww(this))},Ws.prototype.render=di,xi=[],Db=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Xp=function(t,e){return t.__v.__b-e.__v.__b},th.__r=0,wv=0,Zp=Kw(!1),em=Kw(!0);function Su(t){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Su(t)}function Qw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qw(Object(n),!0).forEach(function(r){jH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jH(t,e,n){return e=FH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FH(t){var e=LH(t,"string");return Su(e)==="symbol"?e:String(e)}function LH(t,e){if(Su(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Su(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gw(t){return UH(t)||VH(t)||$H(t)||MH()}function MH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $H(t,e){if(t){if(typeof t=="string")return nm(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nm(t,e)}}function VH(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function UH(t){if(Array.isArray(t))return nm(t)}function nm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function HH(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=cv([].concat(Gw(Object.keys(t||{})),Gw(Object.keys(e))));return n.reduce(function(r,i){var s=t?t[i]:void 0,o=e[i],a=o!==void 0&&o!==s;return r.templates[i]=a?o:s,r.useCustomCompileOptions[i]=a,r},{templates:{},useCustomCompileOptions:{}})}function BH(t){var e=t.defaultTemplates,n=t.templates,r=t.templatesConfig,i=HH(e,n);return DH({templatesConfig:r},i)}var Hb={};(function(t){(function(e){var n=/\S/,r=/\"/g,i=/\n/g,s=/\r/g,o=/\\/g,a=/\u2028/,u=/\u2029/;e.tags={"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12},e.scan=function(S,T){var b=S.length,k=0,O=1,Pe=2,ue=k,st=null,ve=null,B="",G=[],te=!1,re=0,le=0,Se="{{",Ze="}}";function Wt(){B.length>0&&(G.push({tag:"_t",text:new String(B)}),B="")}function sn(){for(var M=!0,F=le;F<G.length;F++)if(M=e.tags[G[F].tag]<e.tags._v||G[F].tag=="_t"&&G[F].text.match(n)===null,!M)return!1;return M}function jt(M,F){if(Wt(),M&&sn())for(var $=le,z;$<G.length;$++)G[$].text&&((z=G[$+1])&&z.tag==">"&&(z.indent=G[$].text.toString()),G.splice($,1));else F||G.push({tag:`
`});te=!1,le=G.length}function L(M,F){var $="="+Ze,z=M.indexOf($,F),Z=h(M.substring(M.indexOf("=",F)+1,z)).split(" ");return Se=Z[0],Ze=Z[Z.length-1],z+$.length-1}for(T&&(T=T.split(" "),Se=T[0],Ze=T[1]),re=0;re<b;re++)ue==k?f(Se,S,re)?(--re,Wt(),ue=O):S.charAt(re)==`
`?jt(te):B+=S.charAt(re):ue==O?(re+=Se.length-1,ve=e.tags[S.charAt(re+1)],st=ve?S.charAt(re+1):"_v",st=="="?(re=L(S,re),ue=k):(ve&&re++,ue=Pe),te=re):f(Ze,S,re)?(G.push({tag:st,n:h(B),otag:Se,ctag:Ze,i:st=="/"?te-Se.length:re+Ze.length}),B="",re+=Ze.length-1,ue=k,st=="{"&&(Ze=="}}"?re++:c(G[G.length-1]))):B+=S.charAt(re);return jt(te,!0),G};function c(v){v.n.substr(v.n.length-1)==="}"&&(v.n=v.n.substring(0,v.n.length-1))}function h(v){return v.trim?v.trim():v.replace(/^\s*|\s*$/g,"")}function f(v,S,T){if(S.charAt(T)!=v.charAt(0))return!1;for(var b=1,k=v.length;b<k;b++)if(S.charAt(T+b)!=v.charAt(b))return!1;return!0}var p={_t:!0,"\n":!0,$:!0,"/":!0};function g(v,S,T,b){var k=[],O=null,Pe=null,ue=null;for(Pe=T[T.length-1];v.length>0;){if(ue=v.shift(),Pe&&Pe.tag=="<"&&!(ue.tag in p))throw new Error("Illegal content in < super tag.");if(e.tags[ue.tag]<=e.tags.$||_(ue,b))T.push(ue),ue.nodes=g(v,ue.tag,T,b);else if(ue.tag=="/"){if(T.length===0)throw new Error("Closing tag without opener: /"+ue.n);if(O=T.pop(),ue.n!=O.n&&!E(ue.n,O.n,b))throw new Error("Nesting error: "+O.n+" vs. "+ue.n);return O.end=ue.i,k}else ue.tag==`
`&&(ue.last=v.length==0||v[0].tag==`
`);k.push(ue)}if(T.length>0)throw new Error("missing closing tag: "+T.pop().n);return k}function _(v,S){for(var T=0,b=S.length;T<b;T++)if(S[T].o==v.n)return v.tag="#",!0}function E(v,S,T){for(var b=0,k=T.length;b<k;b++)if(T[b].c==v&&T[b].o==S)return!0}function R(v){var S=[];for(var T in v)S.push('"'+P(T)+'": function(c,p,t,i) {'+v[T]+"}");return"{ "+S.join(",")+" }"}function y(v){var S=[];for(var T in v.partials)S.push('"'+P(T)+'":{name:"'+P(v.partials[T].name)+'", '+y(v.partials[T])+"}");return"partials: {"+S.join(",")+"}, subs: "+R(v.subs)}e.stringify=function(v,S,T){return"{code: function (c,p,i) { "+e.wrapMain(v.code)+" },"+y(v)+"}"};var w=0;e.generate=function(v,S,T){w=0;var b={code:"",subs:{},partials:{}};return e.walk(v,b),T.asString?this.stringify(b,S,T):this.makeTemplate(b,S,T)},e.wrapMain=function(v){return'var t=this;t.b(i=i||"");'+v+"return t.fl();"},e.template=e.Template,e.makeTemplate=function(v,S,T){var b=this.makePartials(v);return b.code=new Function("c","p","i",this.wrapMain(v.code)),new this.template(b,S,this,T)},e.makePartials=function(v){var S,T={subs:{},partials:v.partials,name:v.name};for(S in T.partials)T.partials[S]=this.makePartials(T.partials[S]);for(S in v.subs)T.subs[S]=new Function("c","p","t","i",v.subs[S]);return T};function P(v){return v.replace(o,"\\\\").replace(r,'\\"').replace(i,"\\n").replace(s,"\\r").replace(a,"\\u2028").replace(u,"\\u2029")}function C(v){return~v.indexOf(".")?"d":"f"}function x(v,S){var T="<"+(S.prefix||""),b=T+v.n+w++;return S.partials[b]={name:v.n,partials:{}},S.code+='t.b(t.rp("'+P(b)+'",c,p,"'+(v.indent||"")+'"));',b}e.codegen={"#":function(v,S){S.code+="if(t.s(t."+C(v.n)+'("'+P(v.n)+'",c,p,1),c,p,0,'+v.i+","+v.end+',"'+v.otag+" "+v.ctag+'")){t.rs(c,p,function(c,p,t){',e.walk(v.nodes,S),S.code+="});c.pop();}"},"^":function(v,S){S.code+="if(!t.s(t."+C(v.n)+'("'+P(v.n)+'",c,p,1),c,p,1,0,0,"")){',e.walk(v.nodes,S),S.code+="};"},">":x,"<":function(v,S){var T={partials:{},code:"",subs:{},inPartial:!0};e.walk(v.nodes,T);var b=S.partials[x(v,S)];b.subs=T.subs,b.partials=T.partials},$:function(v,S){var T={subs:{},code:"",partials:S.partials,prefix:v.n};e.walk(v.nodes,T),S.subs[v.n]=T.code,S.inPartial||(S.code+='t.sub("'+P(v.n)+'",c,p,i);')},"\n":function(v,S){S.code+=A('"\\n"'+(v.last?"":" + i"))},_v:function(v,S){S.code+="t.b(t.v(t."+C(v.n)+'("'+P(v.n)+'",c,p,0)));'},_t:function(v,S){S.code+=A('"'+P(v.text)+'"')},"{":j,"&":j};function j(v,S){S.code+="t.b(t.t(t."+C(v.n)+'("'+P(v.n)+'",c,p,0)));'}function A(v){return"t.b("+v+");"}e.walk=function(v,S){for(var T,b=0,k=v.length;b<k;b++)T=e.codegen[v[b].tag],T&&T(v[b],S);return S},e.parse=function(v,S,T){return T=T||{},g(v,"",[],T.sectionTags||[])},e.cache={},e.cacheKey=function(v,S){return[v,!!S.asString,!!S.disableLambda,S.delimiters,!!S.modelGet].join("||")},e.compile=function(v,S){S=S||{};var T=e.cacheKey(v,S),b=this.cache[T];if(b){var k=b.partials;for(var O in k)delete k[O].instance;return b}return b=this.generate(this.parse(this.scan(v,S.delimiters),v,S),v,S),this.cache[T]=b}})(t)})(Hb);var Bb={};(function(t){(function(e){e.Template=function(g,_,E,R){g=g||{},this.r=g.code||this.r,this.c=E,this.options=R||{},this.text=_||"",this.partials=g.partials||{},this.subs=g.subs||{},this.buf=""},e.Template.prototype={r:function(g,_,E){return""},v:f,t:h,render:function(_,E,R){return this.ri([_],E||{},R)},ri:function(g,_,E){return this.r(g,_,E)},ep:function(g,_){var E=this.partials[g],R=_[E.name];if(E.instance&&E.base==R)return E.instance;if(typeof R=="string"){if(!this.c)throw new Error("No compiler available.");R=this.c.compile(R,this.options)}if(!R)return null;if(this.partials[g].base=R,E.subs){_.stackText||(_.stackText={});for(key in E.subs)_.stackText[key]||(_.stackText[key]=this.activeSub!==void 0&&_.stackText[this.activeSub]?_.stackText[this.activeSub]:this.text);R=r(R,E.subs,E.partials,this.stackSubs,this.stackPartials,_.stackText)}return this.partials[g].instance=R,R},rp:function(g,_,E,R){var y=this.ep(g,E);return y?y.ri(_,E,R):""},rs:function(g,_,E){var R=g[g.length-1];if(!p(R)){E(g,_,this);return}for(var y=0;y<R.length;y++)g.push(R[y]),E(g,_,this),g.pop()},s:function(g,_,E,R,y,w,P){var C;return p(g)&&g.length===0?!1:(typeof g=="function"&&(g=this.ms(g,_,E,R,y,w,P)),C=!!g,!R&&C&&_&&_.push(typeof g=="object"?g:_[_.length-1]),C)},d:function(g,_,E,R){var y,w=g.split("."),P=this.f(w[0],_,E,R),C=this.options.modelGet,x=null;if(g==="."&&p(_[_.length-2]))P=_[_.length-1];else for(var j=1;j<w.length;j++)y=n(w[j],P,C),y!==void 0?(x=P,P=y):P="";return R&&!P?!1:(!R&&typeof P=="function"&&(_.push(x),P=this.mv(P,_,E),_.pop()),P)},f:function(g,_,E,R){for(var y=!1,w=null,P=!1,C=this.options.modelGet,x=_.length-1;x>=0;x--)if(w=_[x],y=n(g,w,C),y!==void 0){P=!0;break}return P?(!R&&typeof y=="function"&&(y=this.mv(y,_,E)),y):R?!1:""},ls:function(g,_,E,R,y){var w=this.options.delimiters;return this.options.delimiters=y,this.b(this.ct(h(g.call(_,R)),_,E)),this.options.delimiters=w,!1},ct:function(g,_,E){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(g,this.options).render(_,E)},b:function(g){this.buf+=g},fl:function(){var g=this.buf;return this.buf="",g},ms:function(g,_,E,R,y,w,P){var C,x=_[_.length-1],j=g.call(x);return typeof j=="function"?R?!0:(C=this.activeSub&&this.subsText&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(j,x,E,C.substring(y,w),P)):j},mv:function(g,_,E){var R=_[_.length-1],y=g.call(R);return typeof y=="function"?this.ct(h(y.call(R)),R,E):y},sub:function(g,_,E,R){var y=this.subs[g];y&&(this.activeSub=g,y(_,E,this,R),this.activeSub=!1)}};function n(g,_,E){var R;return _&&typeof _=="object"&&(_[g]!==void 0?R=_[g]:E&&_.get&&typeof _.get=="function"&&(R=_.get(g))),R}function r(g,_,E,R,y,w){function P(){}P.prototype=g;function C(){}C.prototype=g.subs;var x,j=new P;j.subs=new C,j.subsText={},j.buf="",R=R||{},j.stackSubs=R,j.subsText=w;for(x in _)R[x]||(R[x]=_[x]);for(x in R)j.subs[x]=R[x];y=y||{},j.stackPartials=y;for(x in E)y[x]||(y[x]=E[x]);for(x in y)j.partials[x]=y[x];return j}var i=/&/g,s=/</g,o=/>/g,a=/\'/g,u=/\"/g,c=/[&<>\"\']/;function h(g){return String(g??"")}function f(g){return g=h(g),c.test(g)?g.replace(i,"&amp;").replace(s,"&lt;").replace(o,"&gt;").replace(a,"&#39;").replace(u,"&quot;"):g}var p=Array.isArray||function(g){return Object.prototype.toString.call(g)==="[object Array]"}})(t)})(Bb);var nh=Hb;nh.Template=Bb.Template;nh.template=nh.Template;var zH=nh;const zb=ho(zH);var Wb=function(t,e,n,r){var i;e[0]=0;for(var s=1;s<e.length;s++){var o=e[s++],a=e[s]?(e[0]|=o?1:2,n[e[s++]]):e[++s];o===3?r[0]=a:o===4?r[1]=Object.assign(r[1]||{},a):o===5?(r[1]=r[1]||{})[e[++s]]=a:o===6?r[1][e[++s]]+=a+"":o?(i=t.apply(a,Wb(t,a,n,["",null])),r.push(i),a[0]?e[0]|=2:(e[s-2]=0,e[s]=i)):r.push(a)}return r},Yw=new Map;function WH(t){var e=Yw.get(this);return e||(e=new Map,Yw.set(this,e)),(e=Wb(this,e.get(t)||(e.set(t,e=function(n){for(var r,i,s=1,o="",a="",u=[0],c=function(p){s===1&&(p||(o=o.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?u.push(0,p,o):s===3&&(p||o)?(u.push(3,p,o),s=2):s===2&&o==="..."&&p?u.push(4,p,0):s===2&&o&&!p?u.push(5,0,!0,o):s>=5&&((o||!p&&s===5)&&(u.push(s,0,o,i),s=6),p&&(u.push(s,p,0,i),s=6)),o=""},h=0;h<n.length;h++){h&&(s===1&&c(),c(h));for(var f=0;f<n[h].length;f++)r=n[h][f],s===1?r==="<"?(c(),u=[u],s=3):o+=r:s===4?o==="--"&&r===">"?(s=1,o=""):o=r+o[0]:a?r===a?a="":o+=r:r==='"'||r==="'"?a=r:r===">"?(c(),s=1):s&&(r==="="?(s=5,i=o,o=""):r==="/"&&(s<5||n[h][f+1]===">")?(c(),s===3&&(u=u[0]),s=u,(u=u[0]).push(2,0,s),s=0):r===" "||r==="	"||r===`
`||r==="\r"?(c(),s=2):o+=r),s===3&&o==="!--"&&(s=4,u=u[0])}return c(),u}(t)),e),arguments,[])).length>1?e:e[0]}var qH=WH.bind(rt),Qh=IH({createElement:rt,Fragment:di}),KH=["classNames"];function rm(){return rm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rm.apply(this,arguments)}function QH(t,e){if(t==null)return{};var n=GH(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function GH(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function YH(t){var e=t.classNames,n=e===void 0?{}:e,r=QH(t,KH);return rt(Qh,rm({classNames:{root:ke("ais-Highlight",n.root),highlighted:ke("ais-Highlight-highlighted",n.highlighted),nonHighlighted:ke("ais-Highlight-nonHighlighted",n.nonHighlighted),separator:ke("ais-Highlight-separator",n.separator)}},r))}var JH=["hit","attribute","cssClasses"];function im(){return im=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},im.apply(this,arguments)}function XH(t,e){if(t==null)return{};var n=ZH(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ZH(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function e3(t){var e=t.hit,n=t.attribute,r=t.cssClasses,i=XH(t,JH),s=_i(e._highlightResult,n)||[],o=Wh(s),a=o.map(function(u){var c=u.value;return Ro(Qu(c||""))});return rt(YH,im({},i,{parts:a,classNames:r}))}var t3=["classNames"];function sm(){return sm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sm.apply(this,arguments)}function n3(t,e){if(t==null)return{};var n=r3(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function r3(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function i3(t){var e=t.classNames,n=e===void 0?{}:e,r=n3(t,t3);return rt(Qh,sm({classNames:{root:ke("ais-ReverseHighlight",n.root),highlighted:ke("ais-ReverseHighlight-highlighted",n.highlighted),nonHighlighted:ke("ais-ReverseHighlight-nonHighlighted",n.nonHighlighted),separator:ke("ais-ReverseHighlight-separator",n.separator)}},r))}function Tu(t){"@babel/helpers - typeof";return Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tu(t)}var s3=["hit","attribute","cssClasses"],o3=["isHighlighted"];function om(){return om=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},om.apply(this,arguments)}function Jw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jw(Object(n),!0).forEach(function(r){a3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function a3(t,e,n){return e=u3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u3(t){var e=l3(t,"string");return Tu(e)==="symbol"?e:String(e)}function l3(t,e){if(Tu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Tu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zw(t,e){if(t==null)return{};var n=c3(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function c3(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function h3(t){var e=t.hit,n=t.attribute,r=t.cssClasses,i=Zw(t,s3),s=_i(e._highlightResult,n)||[],o=Wh(s),a=o.map(function(u){var c=u.value;return Ro(Qu(c||"")).map(function(h){var f=h.isHighlighted,p=Zw(h,o3);return Xw(Xw({},p),{},{isHighlighted:!f})})});return rt(i3,om({},i,{parts:a,classNames:r}))}var f3=["classNames"];function am(){return am=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},am.apply(this,arguments)}function d3(t,e){if(t==null)return{};var n=p3(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function p3(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function m3(t){var e=t.classNames,n=e===void 0?{}:e,r=d3(t,f3);return rt(Qh,am({classNames:{root:ke("ais-ReverseSnippet",n.root),highlighted:ke("ais-ReverseSnippet-highlighted",n.highlighted),nonHighlighted:ke("ais-ReverseSnippet-nonHighlighted",n.nonHighlighted),separator:ke("ais-ReverseSnippet-separator",n.separator)}},r))}function Iu(t){"@babel/helpers - typeof";return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iu(t)}var g3=["hit","attribute","cssClasses"],v3=["isHighlighted"];function um(){return um=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},um.apply(this,arguments)}function eE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eE(Object(n),!0).forEach(function(r){y3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function y3(t,e,n){return e=_3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _3(t){var e=w3(t,"string");return Iu(e)==="symbol"?e:String(e)}function w3(t,e){if(Iu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Iu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nE(t,e){if(t==null)return{};var n=E3(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function E3(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function S3(t){var e=t.hit,n=t.attribute,r=t.cssClasses,i=nE(t,g3),s=_i(e._snippetResult,n)||[],o=Wh(s),a=o.map(function(u){var c=u.value;return Ro(Qu(c||"")).map(function(h){var f=h.isHighlighted,p=nE(h,v3);return tE(tE({},p),{},{isHighlighted:!f})})});return rt(m3,um({},i,{parts:a,classNames:r}))}var T3=["classNames"];function lm(){return lm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lm.apply(this,arguments)}function I3(t,e){if(t==null)return{};var n=R3(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function R3(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function P3(t){var e=t.classNames,n=e===void 0?{}:e,r=I3(t,T3);return rt(Qh,lm({classNames:{root:ke("ais-Snippet",n.root),highlighted:ke("ais-Snippet-highlighted",n.highlighted),nonHighlighted:ke("ais-Snippet-nonHighlighted",n.nonHighlighted),separator:ke("ais-Snippet-separator",n.separator)}},r))}var b3=["hit","attribute","cssClasses"];function cm(){return cm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cm.apply(this,arguments)}function A3(t,e){if(t==null)return{};var n=O3(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function O3(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function C3(t){var e=t.hit,n=t.attribute,r=t.cssClasses,i=A3(t,b3),s=_i(e._snippetResult,n)||[],o=Wh(s),a=o.map(function(u){var c=u.value;return Ro(Qu(c||""))});return rt(P3,cm({},i,{parts:a,classNames:r}))}function co(t){"@babel/helpers - typeof";return co=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},co(t)}function rE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rE(Object(n),!0).forEach(function(r){qb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qb(t,e,n){return e=k3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k3(t){var e=x3(t,"string");return co(e)==="symbol"?e:String(e)}function x3(t,e){if(co(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(co(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function N3(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return Object.keys(t).reduce(function(r,i){return rh(rh({},r),{},qb({},i,function(){var s=this;return function(o){var a=function(c){return zb.compile(c,e).render(s)};return t[i].call(n,o,a)}}))},{})}function D3(t){var e=t.templates,n=t.templateKey,r=t.compileOptions,i=t.helpers,s=t.data,o=t.bindEvent,a=t.sendEvent,u=e[n];if(typeof u!="string"&&typeof u!="function")throw new Error("Template must be 'string' or 'function', was '".concat(co(u),"' (key: ").concat(n,")"));if(typeof u=="function"){var c=o||{};return c.html=qH,c.sendEvent=a,c.components={Highlight:e3,ReverseHighlight:h3,Snippet:C3,ReverseSnippet:S3},u(s,c)}var h=N3(i,r,s);return zb.compile(u,r).render(rh(rh({},s),{},{helpers:h})).replace(/[ \n\r\t\f\xA0]+/g,function(f){return f.replace(/(^|\xA0+)[^\xA0]+/g,"$1 ")}).trim()}function hm(){return hm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hm.apply(this,arguments)}function rs(t){"@babel/helpers - typeof";return rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rs(t)}function j3(t){return $3(t)||M3(t)||L3(t)||F3()}function F3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L3(t,e){if(t){if(typeof t=="string")return fm(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fm(t,e)}}function M3(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $3(t){if(Array.isArray(t))return fm(t)}function fm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Jb(r.key),r)}}function Qb(t,e,n){return e&&V3(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gb(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dm(t,e)}function dm(t,e){return dm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dm(t,e)}function Yb(t){var e=H3();return function(){var r=ih(t),i;if(e){var s=ih(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return U3(this,i)}}function U3(t,e){if(e&&(rs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pm(t)}function pm(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H3(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ih(t){return ih=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ih(t)}function mm(t,e,n){return e=Jb(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jb(t){var e=B3(t,"string");return rs(e)==="symbol"?e:String(e)}function B3(t,e){if(rs(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(rs(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var z3=function(t){Gb(n,t);var e=Yb(n);function n(){var r;Kb(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),mm(pm(r),"ref",OH()),mm(pm(r),"nodes",[]),r}return Qb(n,[{key:"componentDidMount",value:function(){var i=new DocumentFragment,s=document.createElement("div");s.innerHTML=this.props.content,this.nodes=j3(s.childNodes),this.nodes.forEach(function(o){return i.appendChild(o)}),this.ref.current.replaceWith(i)}},{key:"componentWillUnmount",value:function(){this.nodes.forEach(function(i){if(i instanceof Element){i.outerHTML="";return}i.nodeValue=""}),this.nodes[0].nodeValue&&(this.nodes[0].nodeValue="")}},{key:"render",value:function(){return rt("div",{ref:this.ref})}}]),n}(Ws),W3={data:{},rootTagName:"div",useCustomCompileOptions:{},templates:{},templatesConfig:{}},uc=function(t){Gb(n,t);var e=Yb(n);function n(){return Kb(this,n),e.apply(this,arguments)}return Qb(n,[{key:"shouldComponentUpdate",value:function(i){return!hu(this.props.data,i.data)||this.props.templateKey!==i.templateKey||!hu(this.props.rootProps,i.rootProps)}},{key:"render",value:function(){var i=this.props.rootTagName==="fragment"?di:this.props.rootTagName,s=this.props.useCustomCompileOptions[this.props.templateKey],o=s?this.props.templatesConfig.compileOptions:{},a=D3({templates:this.props.templates,templateKey:this.props.templateKey,compileOptions:o,helpers:this.props.templatesConfig.helpers,data:this.props.data,bindEvent:this.props.bindEvent,sendEvent:this.props.sendEvent});return a===null?null:rs(a)==="object"?rt(i,this.props.rootProps,a):i===di?rt(z3,{content:a,key:Math.random()}):rt(i,hm({},this.props.rootProps,{dangerouslySetInnerHTML:{__html:a}}))}}]),n}(Ws);mm(uc,"defaultProps",W3);function Ru(t){"@babel/helpers - typeof";return Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ru(t)}function iE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ct(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iE(Object(n),!0).forEach(function(r){Xb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xb(t,e,n){return e=q3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q3(t){var e=K3(t,"string");return Ru(e)==="symbol"?e:String(e)}function K3(t,e){if(Ru(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ru(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Q3=Io({name:"configure",connector:!0});function sE(t,e){return t.setQueryParameters(Object.keys(e.searchParameters).reduce(function(n,r){return ct(ct({},n),{},Xb({},r,void 0))},{}))}var G3=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:hn,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:hn;return function(r){if(!r||!NP(r.searchParameters))throw new Error(Q3("The `searchParameters` option expects an object."));var i={};function s(o){return function(a){var u=sE(o.state,r),c=oc(u,new $t.SearchParameters(a));r.searchParameters=a,o.setState(c).search()}}return{$$type:"ais.configure",init:function(a){var u=a.instantSearchInstance;e(ct(ct({},this.getWidgetRenderState(a)),{},{instantSearchInstance:u}),!0)},render:function(a){var u=a.instantSearchInstance;e(ct(ct({},this.getWidgetRenderState(a)),{},{instantSearchInstance:u}),!1)},dispose:function(a){var u=a.state;return n(),sE(u,r)},getRenderState:function(a,u){var c,h=this.getWidgetRenderState(u);return ct(ct({},a),{},{configure:ct(ct({},h),{},{widgetParams:ct(ct({},h.widgetParams),{},{searchParameters:oc(new $t.SearchParameters((c=a.configure)===null||c===void 0?void 0:c.widgetParams.searchParameters),new $t.SearchParameters(h.widgetParams.searchParameters)).getQueryParams()})})})},getWidgetRenderState:function(a){var u=a.helper;return i.refine||(i.refine=s(u)),{refine:i.refine,widgetParams:r}},getWidgetSearchParameters:function(a,u){var c=u.uiState;return oc(a,new $t.SearchParameters(ct(ct({},c.configure),r.searchParameters)))},getWidgetUiState:function(a){return ct(ct({},a),{},{configure:ct(ct({},a.configure),r.searchParameters)})}}}};function Pu(t){"@babel/helpers - typeof";return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pu(t)}function oE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oE(Object(n),!0).forEach(function(r){Y3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Y3(t,e,n){return e=J3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J3(t){var e=X3(t,"string");return Pu(e)==="symbol"?e:String(e)}function X3(t,e){if(Pu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Pu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Z3=function(e){var n=G3(hn);return aE(aE({},n({searchParameters:e})),{},{$$widgetType:"ais.configure"})};function bu(t){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bu(t)}function uE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uE(Object(n),!0).forEach(function(r){Zb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zb(t,e,n){return e=e9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e9(t){var e=t9(t,"string");return bu(e)==="symbol"?e:String(e)}function t9(t,e){if(bu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var n9=Io({name:"hits",connector:!0});const r9=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:hn;return QM(e,n9()),function(r){var i=r||{},s=i.escapeHTML,o=s===void 0?!0:s,a=i.transformItems,u=a===void 0?function(f){return f}:a,c,h;return{$$type:"ais.hits",init:function(p){e(Dr(Dr({},this.getWidgetRenderState(p)),{},{instantSearchInstance:p.instantSearchInstance}),!0)},render:function(p){var g=this.getWidgetRenderState(p);e(Dr(Dr({},g),{},{instantSearchInstance:p.instantSearchInstance}),!1),g.sendEvent("view:internal",g.items)},getRenderState:function(p,g){return Dr(Dr({},p),{},{hits:this.getWidgetRenderState(g)})},getWidgetRenderState:function(p){var g,_,E,R=p.results,y=p.helper,w=p.instantSearchInstance;if(c||(c=g$({instantSearchInstance:w,getIndex:function(){return y.getIndex()},widgetType:this.$$type})),h||(h=v$({getIndex:function(){return y.getIndex()},widgetType:this.$$type,instantSearchInstance:w})),!R)return{hits:[],items:[],results:void 0,banner:void 0,sendEvent:c,bindEvent:h,widgetParams:r};o&&R.hits.length>0&&(R.hits=o$(R.hits));var P=O$(R.hits,R.page,R.hitsPerPage),C=N$(P,R.queryID),x=u(C,{results:R}),j=(g=R.renderingContent)===null||g===void 0||(_=g.widgets)===null||_===void 0||(E=_.banners)===null||E===void 0?void 0:E[0];return{hits:x,items:x,results:R,banner:j,sendEvent:c,bindEvent:h,widgetParams:r}},dispose:function(p){var g=p.state;return n(),o?g.setQueryParameters(Object.keys(Gc).reduce(function(_,E){return Dr(Dr({},_),{},Zb({},E,void 0))},{})):g},getWidgetSearchParameters:function(p,g){return o?p.setQueryParameters(Gc):p}}}};function Au(t){"@babel/helpers - typeof";return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Au(t)}function lE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lE(Object(n),!0).forEach(function(r){i9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function i9(t,e,n){return e=s9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s9(t){var e=o9(t,"string");return Au(e)==="symbol"?e:String(e)}function o9(t,e){if(Au(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Au(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var a9=function(e,n){return n.map(function(r){var i=$P(e,function(s){return s.objectID===r});if(typeof i>"u")throw new Error('Could not find objectID "'.concat(r,'" passed to `clickedObjectIDsAfterSearch` in the returned hits. This is necessary to infer the absolute position and the query ID.'));return i})},u9=function(e){var n=cv(e.map(function(i){return i.__queryID}));if(n.length>1)throw new Error("Insights currently allows a single `queryID`. The `objectIDs` provided map to multiple `queryID`s.");var r=n[0];if(typeof r!="string")throw new Error("Could not infer `queryID`. Ensure InstantSearch `clickAnalytics: true` was added with the Configure widget.\n\nSee: https://alg.li/lNiZZ7");return r},l9=function(e){return e.map(function(n){return n.__position})},c9=function(e){var n=e.method,r=e.results,i=e.hits,s=e.objectIDs,o=r.index,a=a9(i,s),u=u9(a);switch(n){case"clickedObjectIDsAfterSearch":{var c=l9(a);return{index:o,queryID:u,objectIDs:s,positions:c}}case"convertedObjectIDsAfterSearch":return{index:o,queryID:u,objectIDs:s};default:throw new Error('Unsupported method passed to insights: "'.concat(n,'".'))}},h9=function(e,n,r){return function(i){for(var s=arguments.length,o=new Array(s>1?s-1:0),a=1;a<s;a++)o[a-1]=arguments[a];var u=o[0];if(!e){var c=Io({name:"instantsearch"});throw new Error(c("The `insightsClient` option has not been provided to `instantsearch`."))}if(!Array.isArray(u.objectIDs))throw new TypeError("Expected `objectIDs` to be an array.");var h=c9({method:i,results:n,hits:r,objectIDs:u.objectIDs});e(i,sh(sh({},h),u))}};function f9(t){return function(e,n){return t(function(r,i){var s=r.results,o=r.hits,a=r.instantSearchInstance;if(s&&o&&a){var u=h9(a.insightsClient,s,o);return e(sh(sh({},r),{},{insights:u}),i)}return e(r,i)},n)}}var d9=function(e){var n=e.insights,r=e.sendEvent;return function(i){var s=cE(i.target,i.currentTarget,function(f){return f.hasAttribute("data-insights-event")});if(s){var o=p9(s);o.forEach(function(f){return r(f)})}var a=cE(i.target,i.currentTarget,function(f){return f.hasAttribute("data-insights-method")&&f.hasAttribute("data-insights-payload")});if(a){var u=_V(a),c=u.method,h=u.payload;n(c,h)}}};function cE(t,e,n){for(var r=t;r&&!n(r);){if(r===e)return null;r=r.parentElement}return r}function p9(t){var e=t.getAttribute("data-insights-event");if(typeof e!="string")throw new Error("The insights middleware expects `data-insights-event` to be a base64-encoded JSON string.");try{return LP(e)}catch{throw new Error("The insights middleware was unable to parse `data-insights-event`.")}}var m9={empty:function(){return"No results"},item:function(e){return JSON.stringify(cV(e,["__hitIndex"]),null,2)}};function Ou(t){"@babel/helpers - typeof";return Ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ou(t)}var g9=["hit","index"];function hE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hE(Object(n),!0).forEach(function(r){v9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function v9(t,e,n){return e=y9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y9(t){var e=_9(t,"string");return Ou(e)==="symbol"?e:String(e)}function _9(t,e){if(Ou(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ou(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function w9(t,e){if(t==null)return{};var n=E9(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function E9(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function S9(t){if(t==null)throw new TypeError("Cannot destructure "+t)}function ks(){return ks=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ks.apply(this,arguments)}var T9=Io({name:"hits"}),I9=bH({createElement:rt,Fragment:di}),R9=function(e){var n=e.renderState,r=e.cssClasses,i=e.containerNode,s=e.templates;return function(o,a){var u=o.items,c=o.results,h=o.instantSearchInstance,f=o.insights,p=o.bindEvent,g=o.sendEvent,_=o.banner;if(a){n.templateProps=BH({defaultTemplates:m9,templatesConfig:h.templatesConfig,templates:s});return}var E=d9({insights:f,sendEvent:g}),R=function(C){var x=ks({},(S9(C),C));return rt(uc,ks({},n.templateProps,{rootProps:x,templateKey:"empty",data:c,rootTagName:"fragment"}))},y=function(C){var x=C.hit,j=C.index,A=w9(C,g9);return rt(uc,ks({},n.templateProps,{templateKey:"item",rootTagName:"li",rootProps:Cs(Cs({},A),{},{onClick:function(S){E(S),A.onClick()},onAuxClick:function(S){E(S),A.onAuxClick()}}),data:Cs(Cs({},x),{},{get __hitIndex(){return j}}),bindEvent:p,sendEvent:g}))},w=function(C){return rt(uc,ks({},n.templateProps,{templateKey:"banner",data:C,rootTagName:"fragment"}))};Ub(rt(I9,{hits:u,itemComponent:y,sendEvent:g,classNames:r,emptyComponent:R,banner:_,bannerComponent:s.banner?w:void 0}),i)}};const P9=function(e){var n=e||{},r=n.container,i=n.escapeHTML,s=n.transformItems,o=n.templates,a=o===void 0?{}:o,u=n.cssClasses,c=u===void 0?{}:u;if(!r)throw new Error(T9("The `container` option is required."));var h=T$(r),f=R9({containerNode:h,cssClasses:c,renderState:{},templates:a}),p=f9(r9)(f,function(){return Ub(null,h)});return Cs(Cs({},p({escapeHTML:i,transformItems:s})),{},{$$widgetType:"ais.hits"})};var fE="@firebase/vertexai-preview",gm="0.0.3";/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv="vertexAI",e1="us-central1",b9="https://firebaseml.googleapis.com",A9="v2beta",dE=gm,O9="gl-js";/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{constructor(e,n,r,i){var s;this.app=e,this.options=i;const o=r==null?void 0:r.getImmediate({optional:!0}),a=n==null?void 0:n.getImmediate({optional:!0});this.auth=a||null,this.appCheck=o||null,this.location=((s=this.options)===null||s===void 0?void 0:s.location)||e1}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We extends Pn{constructor(e,n,r){const i=Iv,s="VertexAI",o=`${i}/${e}`,a=`${s}: ${n} (${o}).`;super(o,a),this.code=e,this.message=n,this.customErrorData=r,Error.captureStackTrace&&Error.captureStackTrace(this,We),Object.setPrototypeOf(this,We.prototype),this.toString=()=>a}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cu;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens"})(Cu||(Cu={}));class t1{constructor(e,n,r,i,s){this.model=e,this.task=n,this.apiSettings=r,this.stream=i,this.requestOptions=s}toString(){var e;const n=A9;let i=`${((e=this.requestOptions)===null||e===void 0?void 0:e.baseUrl)||b9}/${n}`;return i+=`/projects/${this.apiSettings.project}`,i+=`/locations/${this.apiSettings.location}`,i+=`/${this.model}`,i+=`:${this.task}`,this.stream&&(i+="?alt=sse"),i}get fullModelString(){let e=`projects/${this.apiSettings.project}`;return e+=`/locations/${this.apiSettings.location}`,e+=`/${this.model}`,e}}function k9(){const t=[];return t.push(`${O9}/${dE}`),t.push(`fire/${dE}`),t.join(" ")}async function x9(t){const e=new Headers;if(e.append("Content-Type","application/json"),e.append("x-goog-api-client",k9()),e.append("x-goog-api-key",t.apiSettings.apiKey),t.apiSettings.getAppCheckToken){const n=await t.apiSettings.getAppCheckToken();n&&!n.error&&e.append("X-Firebase-AppCheck",n.token)}if(t.apiSettings.getAuthToken){const n=await t.apiSettings.getAuthToken();n&&e.append("Authorization",`Firebase ${n.accessToken}`)}return e}async function N9(t,e,n,r,i,s){const o=new t1(t,e,n,r,s);return{url:o.toString(),fetchOptions:Object.assign(Object.assign({},D9(s)),{method:"POST",headers:await x9(o),body:i})}}async function Rv(t,e,n,r,i,s){const o=new t1(t,e,n,r,s);let a;try{const u=await N9(t,e,n,r,i,s);if(a=await fetch(u.url,u.fetchOptions),!a.ok){let c="",h;try{const f=await a.json();c=f.error.message,f.error.details&&(c+=` ${JSON.stringify(f.error.details)}`,h=f.error.details)}catch{}throw new We("fetch-error",`Error fetching from ${o}: [${a.status} ${a.statusText}] ${c}`,{status:a.status,statusText:a.statusText,errorDetails:h})}}catch(u){let c=u;throw u.code!=="fetch-error"&&u instanceof Error&&(c=new We("error",`Error fetching from ${o.toString()}: ${u.message}`),c.stack=u.stack),c}return a}function D9(t){const e={};if(t!=null&&t.timeout&&(t==null?void 0:t.timeout)>=0){const n=new AbortController,r=n.signal;setTimeout(()=>n.abort(),t.timeout),e.signal=r}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE=["user","model","function","system"];var mE;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT"})(mE||(mE={}));var gE;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(gE||(gE={}));var vE;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(vE||(vE={}));var yE;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(yE||(yE={}));var _E;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(_E||(_E={}));var wE;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(wE||(wE={}));var oh;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.OTHER="OTHER"})(oh||(oh={}));var EE;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(EE||(EE={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SE;(function(t){t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT"})(SE||(SE={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),vm(t.candidates[0]))throw new We("response-error",`Response error: ${xs(t)}. Response body stored in error.response`,{response:t});return j9(t)}else if(t.promptFeedback)throw new We("response-error",`Text not available. ${xs(t)}`,{response:t});return""},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),vm(t.candidates[0]))throw new We("response-error",`Response error: ${xs(t)}. Response body stored in error.response`,{response:t});return F9(t)}else if(t.promptFeedback)throw new We("response-error",`Function call not available. ${xs(t)}`,{response:t})},t}function j9(t){var e,n,r,i;const s=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const o of(i=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)o.text&&s.push(o.text);return s.length>0?s.join(""):""}function F9(t){var e,n,r,i;const s=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const o of(i=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)o.functionCall&&s.push(o.functionCall);if(s.length>0)return s}const L9=[oh.RECITATION,oh.SAFETY];function vm(t){return!!t.finishReason&&L9.includes(t.finishReason)}function xs(t){var e,n,r;let i="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)i+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(i+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(i+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((r=t.candidates)===null||r===void 0)&&r[0]){const s=t.candidates[0];vm(s)&&(i+=`Candidate was blocked due to ${s.finishReason}`,s.finishMessage&&(i+=`: ${s.finishMessage}`))}return i}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function M9(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=U9(e),[r,i]=n.tee();return{stream:V9(r),response:$9(i)}}async function $9(t){const e=[],n=t.getReader();for(;;){const{done:r,value:i}=await n.read();if(r)return Pv(H9(e));e.push(i)}}function V9(t){return kj(this,arguments,function*(){const n=t.getReader();for(;;){const{value:r,done:i}=yield nu(n.read());if(i)break;yield yield nu(Pv(r))}})}function U9(t){const e=t.getReader();return new ReadableStream({start(r){let i="";return s();function s(){return e.read().then(({value:o,done:a})=>{if(a){if(i.trim()){r.error(new We("parse-failed","Failed to parse stream"));return}r.close();return}i+=o;let u=i.match(TE),c;for(;u;){try{c=JSON.parse(u[1])}catch{r.error(new We("parse-failed",`Error parsing JSON response: "${u[1]}`));return}r.enqueue(c),i=i.substring(u[0].length),u=i.match(TE)}return s()})}}})}function H9(t){const e=t[t.length-1],n={promptFeedback:e==null?void 0:e.promptFeedback};for(const r of t)if(r.candidates)for(const i of r.candidates){const s=i.index;if(n.candidates||(n.candidates=[]),n.candidates[s]||(n.candidates[s]={index:i.index}),n.candidates[s].citationMetadata=i.citationMetadata,n.candidates[s].finishReason=i.finishReason,n.candidates[s].finishMessage=i.finishMessage,n.candidates[s].safetyRatings=i.safetyRatings,i.content&&i.content.parts){n.candidates[s].content||(n.candidates[s].content={role:i.content.role||"user",parts:[]});const o={};for(const a of i.content.parts)a.text&&(o.text=a.text),a.functionCall&&(o.functionCall=a.functionCall),Object.keys(o).length===0&&(o.text=""),n.candidates[s].content.parts.push(o)}}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n1(t,e,n,r){const i=await Rv(e,Cu.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),r);return M9(i)}async function r1(t,e,n,r){const s=await(await Rv(e,Cu.GENERATE_CONTENT,t,!1,JSON.stringify(n),r)).json();return{response:Pv(s)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function ym(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return B9(e)}function B9(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,i=!1;for(const s of t)"functionResponse"in s?(n.parts.push(s),i=!0):(e.parts.push(s),r=!0);if(r&&i)throw new We("invalid-content","Within a single message, FunctionResponse cannot be mixed with other type of Part in the request for sending chat message.");if(!r&&!i)throw new We("invalid-content","No Content is provided for sending chat message.");return r?e:n}function pd(t){let e;return t.contents?e=t:e={contents:[ym(t)]},t.systemInstruction&&(e.systemInstruction=i1(t.systemInstruction)),e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE=["text","inlineData","functionCall","functionResponse"],z9={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall"],system:["text"]},RE={user:["model"],function:["model"],model:["user","function"],system:[]};function W9(t){let e=null;for(const n of t){const{role:r,parts:i}=n;if(!e&&r!=="user")throw new We("invalid-content",`First Content should be with role 'user', got ${r}`);if(!pE.includes(r))throw new We("invalid-content",`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(pE)}`);if(!Array.isArray(i))throw new We("invalid-content","Content should have 'parts' but property with an array of Parts");if(i.length===0)throw new We("invalid-content","Each Content should have at least one part");const s={text:0,inlineData:0,functionCall:0,functionResponse:0};for(const a of i)for(const u of IE)u in a&&(s[u]+=1);const o=z9[r];for(const a of IE)if(!o.includes(a)&&s[a]>0)throw new We("invalid-content",`Content with role '${r}' can't contain '${a}' part`);if(e&&!RE[r].includes(e.role))throw new We("invalid-content",`Content with role '${r} can't follow '${e.role}'. Valid previous roles: ${JSON.stringify(RE)}`);e=n}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE="SILENT_ERROR";class q9{constructor(e,n,r,i){this.model=n,this.params=r,this.requestOptions=i,this._history=[],this._sendPromise=Promise.resolve(),this._apiSettings=e,r!=null&&r.history&&(W9(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e){var n,r,i,s,o;await this._sendPromise;const a=ym(e),u={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(s=this.params)===null||s===void 0?void 0:s.toolConfig,systemInstruction:(o=this.params)===null||o===void 0?void 0:o.systemInstruction,contents:[...this._history,a]};let c={};return this._sendPromise=this._sendPromise.then(()=>r1(this._apiSettings,this.model,u,this.requestOptions)).then(h=>{var f,p;if(h.response.candidates&&h.response.candidates.length>0){this._history.push(a);const g={parts:((f=h.response.candidates)===null||f===void 0?void 0:f[0].content.parts)||[],role:((p=h.response.candidates)===null||p===void 0?void 0:p[0].content.role)||"model"};this._history.push(g)}else{const g=xs(h.response);g&&console.warn(`sendMessage() was unsuccessful. ${g}. Inspect response object for details.`)}c=h}),await this._sendPromise,c}async sendMessageStream(e){var n,r,i,s,o;await this._sendPromise;const a=ym(e),u={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(s=this.params)===null||s===void 0?void 0:s.toolConfig,systemInstruction:(o=this.params)===null||o===void 0?void 0:o.systemInstruction,contents:[...this._history,a]},c=n1(this._apiSettings,this.model,u,this.requestOptions);return this._sendPromise=this._sendPromise.then(()=>c).catch(h=>{throw new Error(PE)}).then(h=>h.response).then(h=>{if(h.candidates&&h.candidates.length>0){this._history.push(a);const f=Object.assign({},h.candidates[0].content);f.role||(f.role="model"),this._history.push(f)}else{const f=xs(h);f&&console.warn(`sendMessageStream() was unsuccessful. ${f}. Inspect response object for details.`)}}).catch(h=>{h.message!==PE&&console.error(h)}),c}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K9(t,e,n,r){return(await Rv(e,Cu.COUNT_TOKENS,t,!1,JSON.stringify(n),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{constructor(e,n,r){var i,s,o,a;if(!((s=(i=e.app)===null||i===void 0?void 0:i.options)===null||s===void 0)&&s.apiKey)if(!((a=(o=e.app)===null||o===void 0?void 0:o.options)===null||a===void 0)&&a.projectId)this._apiSettings={apiKey:e.app.options.apiKey,project:e.app.options.projectId,location:e.location},e.appCheck&&(this._apiSettings.getAppCheckToken=()=>e.appCheck.getToken()),e.auth&&(this._apiSettings.getAuthToken=()=>e.auth.getToken());else throw new We("no-project-id",'The "projectId" field is empty in the local Firebase config. Firebase VertexAI requires this field to contain a valid project ID.');else throw new We("no-api-key",'The "apiKey" field is empty in the local Firebase config. Firebase VertexAI requires this field to contain a valid API key.');n.model.includes("/")?n.model.startsWith("models/")?this.model=`publishers/google/${n.model}`:this.model=n.model:this.model=`publishers/google/models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=i1(n.systemInstruction),this.requestOptions=r||{}}async generateContent(e){const n=pd(e);return r1(this._apiSettings,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction},n),this.requestOptions)}async generateContentStream(e){const n=pd(e);return n1(this._apiSettings,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction},n),this.requestOptions)}startChat(e){return new q9(this._apiSettings,this.model,Object.assign({tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction},e),this.requestOptions)}async countTokens(e){const n=pd(e);return K9(this._apiSettings,this.model,n)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G9(t=Mu(),e){return t=_n(t),ir(t,Iv).getImmediate({identifier:e1})}function Y9(t,e,n){if(!e.model)throw new We("no-model","Must provide a model name. Example: getGenerativeModel({ model: 'my-model-name' })");return new Q9(t,e,n)}function J9(){gn(new nn(Iv,(t,{instanceIdentifier:e})=>{const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new C9(n,r,i,{location:e})},"PUBLIC").setMultipleInstances(!0)),Ht(fE,gm),Ht(fE,gm,"esm2017")}J9();const X9=G9(qu),Z9=Y9(X9,{model:"gemini-1.5-flash",systemInstruction:"You are a Japanese-English dictionary. Provide the Kanji, followed by its explanation or meaning, then readings, Romanization, and 2 example sentences for words."}),e6=BM("ALW8ZKQXQA","0696c4fe6209cfacfd34dcdb1174d2b2"),t6=()=>{const t=Q.useRef(null),[e,n]=Q.useState(""),[r,i]=Q.useState(!1);Q.useEffect(()=>{var u,c;t.current=bn({indexName:"jmdictdictionary",searchClient:e6}),(u=t.current)==null||u.addWidgets([P9({container:"#hits",templates:{item:`
            <div class="card bg-base-100 shadow-xl mb-4">
              <div class="card-body">
                <h2 class="card-title">Kanji: {{kanji}}</h2>
                <p>Reading: {{reading}}</p>
                <p>Meanings: {{sense}}</p>
              </div>
            </div>
          `}}),Z3({hitsPerPage:10})]),(c=t.current)==null||c.start()},[]);const s=async u=>{i(!0);try{const h=await(await Z9.generateContent(u)).response.text();n(h)}catch(c){console.error("Error generating content from Vertex AI:",c),n("There was an error generating the content.")}finally{i(!1)}};let o;const a=u=>{var h;u.preventDefault();const c=(h=u.target.querySelector("input"))==null?void 0:h.value;o&&clearTimeout(o),o=setTimeout(()=>{var f;(f=t.current)!=null&&f.helper&&t.current.helper.setQuery(c).search(),s(c)},1e3)};return V.jsxs("div",{className:"p-6",children:[V.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Dictionary Search"}),V.jsxs("form",{onSubmit:a,className:"flex space-x-4 mb-6",children:[V.jsx("input",{type:"text",placeholder:"Type kanji or reading here",className:"input input-bordered input-primary w-full max-w-xs",autoComplete:"off",autoCorrect:"off",autoCapitalize:"none",spellCheck:"false"}),V.jsx("button",{type:"submit",className:"btn btn-primary",children:"Search"})]}),r&&V.jsx("p",{children:"Loading AI content..."}),V.jsx("div",{id:"hits"}),e&&V.jsxs("div",{className:"mt-6 p-4 bg-gray-100 rounded-lg",children:[V.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"AI Generated Info:"}),V.jsx("pre",{className:"whitespace-pre-wrap",children:e})]})]})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function n6(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{c(r.next(h))}catch(f){o(f)}}function u(h){try{c(r.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((r=r.apply(t,[])).next())})}function r6(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(h){return u([c,h])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(h){c=[6,h],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ns=function(){return Ns=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ns.apply(this,arguments)},s1=function(t){return{loading:t==null,value:t}},i6=function(){return function(t,e){switch(e.type){case"error":return Ns(Ns({},t),{error:e.error,loading:!1,value:void 0});case"reset":return s1(e.defaultValue);case"value":return Ns(Ns({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},s6=function(t){var e=t?t():void 0,n=Q.useReducer(i6(),s1(e)),r=n[0],i=n[1],s=Q.useCallback(function(){var u=t?t():void 0;i({type:"reset",defaultValue:u})},[t]),o=Q.useCallback(function(u){i({type:"error",error:u})},[]),a=Q.useCallback(function(u){i({type:"value",value:u})},[]);return Q.useMemo(function(){return{error:r.error,loading:r.loading,reset:s,setError:o,setValue:a,value:r.value}},[r.error,r.loading,s,o,a,r.value])},o6=function(t,e){var n=s6(function(){return t.currentUser}),r=n.error,i=n.loading,s=n.setError,o=n.setValue,a=n.value;return Q.useEffect(function(){var u=yF(t,function(c){return n6(void 0,void 0,void 0,function(){var h;return r6(this,function(f){switch(f.label){case 0:return[3,4];case 1:return f.trys.push([1,3,,4]),[4,e.onUserChanged(c)];case 2:return f.sent(),[3,4];case 3:return h=f.sent(),s(h),[3,4];case 4:return o(c),[2]}})})},s);return function(){u()}},[t]),[a,i,r]};const ta=({children:t})=>{const[e,n]=o6(lv);return n?V.jsx("div",{className:"flex justify-center items-center h-screen",children:V.jsx("span",{className:"loading loading-ring loading-lg"})}):e?t:V.jsx(KC,{to:"/"})},a6=()=>{const t=Ih(),e=async()=>{try{await lv.signOut(),t("/")}catch(n){console.error("Error logging out:",n)}};return V.jsxs("div",{className:"navbar bg-base-100",children:[V.jsxs("div",{className:"navbar-start",children:[V.jsxs("div",{className:"dropdown",children:[V.jsx("div",{tabIndex:0,role:"button",className:"btn btn-ghost lg:hidden",children:V.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:V.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h8m-8 6h16"})})}),V.jsxs("ul",{tabIndex:0,className:"menu menu-sm dropdown-content bg-base-100 rounded-box z-[1] mt-3 w-52 p-2 shadow",children:[V.jsx("li",{children:V.jsx("a",{href:"/home",children:"Home"})}),V.jsxs("li",{children:[V.jsx("a",{children:"Lessons"}),V.jsx("ul",{className:"p-2",children:V.jsx("li",{children:V.jsx("a",{href:"/lessons",children:"All Lessons"})})})]}),V.jsx("li",{children:V.jsx("a",{href:"/exercises",children:"Exercises"})}),V.jsx("li",{children:V.jsx("a",{href:"/dictionary",children:"Dictionary"})})]})]}),V.jsx("a",{href:"/home",className:"btn btn-ghost text-xl",children:"JapanoLearn"})]}),V.jsx("div",{className:"navbar-center hidden lg:flex",children:V.jsxs("ul",{className:"menu menu-horizontal px-1",children:[V.jsx("li",{children:V.jsx("a",{href:"/home",children:"Home"})}),V.jsx("li",{children:V.jsxs("details",{children:[V.jsx("summary",{children:"Lessons"}),V.jsx("ul",{className:"p-2",children:V.jsx("li",{children:V.jsx("a",{href:"/lessons",children:"All Lessons"})})})]})}),V.jsx("li",{children:V.jsx("a",{href:"/exercises",children:"Exercises"})}),V.jsx("li",{children:V.jsx("a",{href:"/dictionary",children:"Dictionary"})})]})}),V.jsx("div",{className:"navbar-end",children:V.jsx("button",{onClick:e,className:"btn btn-primary",children:"Logout"})})]})},u6=()=>{const{id:t}=DC(),[e,n]=Q.useState(null);return Q.useEffect(()=>{(async()=>{if(t){const i=await Pj(pj(OP,"lessons",t));if(i.exists()){const s=i.data(),a=`https://www.youtube.com/embed/${new URL(s.videoURL).searchParams.get("v")}`;n({...s,videoURL:a})}}})()},[t]),e?V.jsxs("div",{className:"p-6",children:[V.jsx("h1",{className:"text-4xl font-bold mb-4",children:e.title}),V.jsx("div",{className:"mb-6",children:V.jsx("iframe",{width:"100%",height:"400",src:e.videoURL,title:e.title,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),V.jsx("p",{className:"mb-6",children:e.content}),V.jsx("button",{className:"btn btn-primary btn-lg",disabled:!0,children:"Are you ready to practice a little? Exercise"})]}):V.jsx("div",{children:"Loading..."})};function l6(){const t=yo();return V.jsxs("div",{children:[t.pathname!=="/"&&V.jsx(a6,{}),V.jsxs(GC,{children:[V.jsx(Ai,{path:"/",element:V.jsx(UM,{})}),V.jsx(Ai,{path:"/home",element:V.jsx(ta,{children:V.jsx(ak,{})})}),V.jsx(Ai,{path:"/lessons",element:V.jsx(ta,{children:V.jsx(MM,{})})}),V.jsx(Ai,{path:"/lessons/:id",element:V.jsx(ta,{children:V.jsx(u6,{})})}),V.jsx(Ai,{path:"/exercises",element:V.jsx(ta,{children:V.jsx($M,{})})}),V.jsx(Ai,{path:"/dictionary",element:V.jsx(ta,{children:V.jsx(t6,{})})})]})]})}md.createRoot(document.getElementById("root")).render(V.jsx(LE.StrictMode,{children:V.jsx(nk,{children:V.jsx(l6,{})})}));
